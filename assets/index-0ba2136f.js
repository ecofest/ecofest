var im=Object.defineProperty;var sm=(e,r,t)=>r in e?im(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var fe=(e,r,t)=>(sm(e,typeof r!="symbol"?r+"":r,t),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();function zr(e,r,t){return t.a=e,t.f=r,t}function $(e){return zr(2,e,function(r){return function(t){return e(r,t)}})}function D(e){return zr(3,e,function(r){return function(t){return function(n){return e(r,t,n)}}})}function X(e){return zr(4,e,function(r){return function(t){return function(n){return function(a){return e(r,t,n,a)}}}})}function qe(e){return zr(5,e,function(r){return function(t){return function(n){return function(a){return function(s){return e(r,t,n,a,s)}}}}})}function yr(e){return zr(6,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return e(r,t,n,a,s,o)}}}}}})}function It(e){return zr(7,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return e(r,t,n,a,s,o,u)}}}}}}})}function Vu(e){return zr(8,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return function(m){return e(r,t,n,a,s,o,u,m)}}}}}}}})}function Ou(e){return zr(9,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return function(m){return function(l){return e(r,t,n,a,s,o,u,m,l)}}}}}}}}})}function i(e,r,t){return e.a===2?e.f(r,t):e(r)(t)}function _(e,r,t,n){return e.a===3?e.f(r,t,n):e(r)(t)(n)}function P(e,r,t,n,a){return e.a===4?e.f(r,t,n,a):e(r)(t)(n)(a)}function T(e,r,t,n,a,s){return e.a===5?e.f(r,t,n,a,s):e(r)(t)(n)(a)(s)}function ur(e,r,t,n,a,s,o){return e.a===6?e.f(r,t,n,a,s,o):e(r)(t)(n)(a)(s)(o)}function me(e,r,t,n,a,s,o,u){return e.a===7?e.f(r,t,n,a,s,o,u):e(r)(t)(n)(a)(s)(o)(u)}function om(e,r,t,n,a,s,o,u,m){return e.a===8?e.f(r,t,n,a,s,o,u,m):e(r)(t)(n)(a)(s)(o)(u)(m)}function Q(e,r){for(var t,n=[],a=za(e,r,0,n);a&&(t=n.pop());a=za(t.a,t.b,0,n));return a}function za(e,r,t,n){if(e===r)return!0;if(typeof e!="object"||e===null||r===null)return typeof e=="function"&&qt(5),!1;if(t>100)return n.push(y(e,r)),!0;e.$<0&&(e=it(e),r=it(r));for(var a in e)if(!za(e[a],r[a],t+1,n))return!1;return!0}$(Q);$(function(e,r){return!Q(e,r)});function ne(e,r,t){if(typeof e!="object")return e===r?0:e<r?-1:1;if(typeof e.$>"u")return(t=ne(e.a,r.a))||(t=ne(e.b,r.b))?t:ne(e.c,r.c);for(;e.b&&r.b&&!(t=ne(e.a,r.a));e=e.b,r=r.b);return t||(e.b?1:r.b?-1:0)}$(function(e,r){return ne(e,r)<0});$(function(e,r){return ne(e,r)<1});$(function(e,r){return ne(e,r)>0});$(function(e,r){return ne(e,r)>=0});var um=$(function(e,r){var t=ne(e,r);return t<0?Xu:t?f$:Yu}),Nt=0;function y(e,r){return{a:e,b:r}}function Ce(e,r,t){return{a:e,b:r,c:t}}function H(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t}$(F);function F(e,r){if(typeof e=="string")return e+r;if(!e.b)return r;var t=hr(e.a,r);e=e.b;for(var n=t;e.b;e=e.b)n=n.b=hr(e.a,r);return t}var S={$:0};function hr(e,r){return{$:1,a:e,b:r}}var lm=$(hr);function b(e){for(var r=S,t=e.length;t--;)r=hr(e[t],r);return r}function ji(e){for(var r=[];e.b;e=e.b)r.push(e.a);return r}var cm=D(function(e,r,t){for(var n=[];r.b&&t.b;r=r.b,t=t.b)n.push(i(e,r.a,t.a));return b(n)});X(function(e,r,t,n){for(var a=[];r.b&&t.b&&n.b;r=r.b,t=t.b,n=n.b)a.push(_(e,r.a,t.a,n.a));return b(a)});qe(function(e,r,t,n,a){for(var s=[];r.b&&t.b&&n.b&&a.b;r=r.b,t=t.b,n=n.b,a=a.b)s.push(P(e,r.a,t.a,n.a,a.a));return b(s)});yr(function(e,r,t,n,a,s){for(var o=[];r.b&&t.b&&n.b&&a.b&&s.b;r=r.b,t=t.b,n=n.b,a=a.b,s=s.b)o.push(T(e,r.a,t.a,n.a,a.a,s.a));return b(o)});$(function(e,r){return b(ji(r).sort(function(t,n){return ne(e(t),e(n))}))});$(function(e,r){return b(ji(r).sort(function(t,n){var a=i(e,t,n);return a===Yu?0:a===Xu?-1:1}))});var mm=[];function vm(e){return e.length}var $m=D(function(e,r,t){for(var n=new Array(e),a=0;a<e;a++)n[a]=t(r+a);return n}),fm=$(function(e,r){for(var t=new Array(e),n=0;n<e&&r.b;n++)t[n]=r.a,r=r.b;return t.length=n,y(t,r)});$(function(e,r){return r[e]});D(function(e,r,t){for(var n=t.length,a=new Array(n),s=0;s<n;s++)a[s]=t[s];return a[e]=r,a});$(function(e,r){for(var t=r.length,n=new Array(t+1),a=0;a<t;a++)n[a]=r[a];return n[t]=e,n});D(function(e,r,t){for(var n=t.length,a=0;a<n;a++)r=i(e,t[a],r);return r});var dm=D(function(e,r,t){for(var n=t.length-1;n>=0;n--)r=i(e,t[n],r);return r});$(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=e(r[a]);return n});D(function(e,r,t){for(var n=t.length,a=new Array(n),s=0;s<n;s++)a[s]=i(e,r+s,t[s]);return a});D(function(e,r,t){return t.slice(e,r)});D(function(e,r,t){var n=r.length,a=e-n;a>t.length&&(a=t.length);for(var s=n+a,o=new Array(s),u=0;u<n;u++)o[u]=r[u];for(var u=0;u<a;u++)o[u+n]=t[u];return o});$(function(e,r){return r});$(function(e,r){return console.log(e+": "+pm()),r});function pm(e){return"<internals>"}function qt(e){throw new Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}var bm=$(function(e,r){return e+r});$(function(e,r){return e-r});$(function(e,r){return e*r});$(function(e,r){return e/r});$(function(e,r){return e/r|0});var hm=$(Math.pow);$(function(e,r){return r%e});var gm=$(function(e,r){var t=r%e;return e===0?qt(11):t>0&&e<0||t<0&&e>0?t+e:t}),_m=Math.PI,ym=Math.E,Em=Math.cos,km=Math.sin,xm=Math.tan;$(Math.atan2);function Cm(e){return e}function wm(e){return e===1/0||e===-1/0}var Dm=Math.ceil,Sm=Math.floor,Am=Math.round,jm=Math.sqrt,$o=Math.log,Vm=isNaN;$(function(e,r){return e&&r});$(function(e,r){return e||r});$(function(e,r){return e!==r});var Om=$(function(e,r){return e+r});function Im(e){var r=e.charCodeAt(0);return isNaN(r)?q:J(55296<=r&&r<=56319?y(e[0]+e[1],e.slice(2)):y(e[0],e.slice(1)))}$(function(e,r){return e+r});function Nm(e){return e.length}$(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;){var s=r.charCodeAt(a);if(55296<=s&&s<=56319){n[a]=e(r[a]+r[a+1]),a+=2;continue}n[a]=e(r[a]),a++}return n.join("")});var qm=$(function(e,r){for(var t=[],n=r.length,a=0;a<n;){var s=r[a],o=r.charCodeAt(a);a++,55296<=o&&o<=56319&&(s+=r[a],a++),e(s)&&t.push(s)}return t.join("")});function Pm(e){for(var r=e.length,t=new Array(r),n=0;n<r;){var a=e.charCodeAt(n);55296<=a&&a<=56319?(t[r-n]=e[n+1],n++,t[r-n]=e[n-1],n++):(t[r-n]=e[n],n++)}return t.join("")}D(function(e,r,t){for(var n=t.length,a=0;a<n;){var s=t[a],o=t.charCodeAt(a);a++,55296<=o&&o<=56319&&(s+=t[a],a++),r=i(e,s,r)}return r});var Tm=D(function(e,r,t){for(var n=t.length;n--;){var a=t[n],s=t.charCodeAt(n);56320<=s&&s<=57343&&(n--,a=t[n]+a),r=i(e,a,r)}return r}),Mm=$(function(e,r){return r.split(e)}),Rm=$(function(e,r){return r.join(e)}),Fm=D(function(e,r,t){return t.slice(e,r)});function Lm(e){return e.toUpperCase()}function Um(e){return e.toLowerCase()}$(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),e(n))return!0}return!1});var Bm=$(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),!e(n))return!1}return!0}),zm=$(function(e,r){return r.indexOf(e)>-1}),Hm=$(function(e,r){return r.indexOf(e)===0});$(function(e,r){return r.length>=e.length&&r.lastIndexOf(e)===r.length-e.length});var Jm=$(function(e,r){var t=e.length;if(t<1)return S;for(var n=0,a=[];(n=r.indexOf(e,n))>-1;)a.push(n),n=n+t;return b(a)});function Iu(e){return e+""}function Wm(e){for(var r=0,t=e.charCodeAt(0),n=t==43||t==45?1:0,a=n;a<e.length;++a){var s=e.charCodeAt(a);if(s<48||57<s)return q;r=10*r+s-48}return a==n?q:J(t==45?-r:r)}function Km(e){if(e.length===0||/[\sxbo]/.test(e))return q;var r=+e;return r===r?J(r):q}function Gm(e){var r=e.charCodeAt(0);return 55296<=r&&r<=56319?(r-55296)*1024+e.charCodeAt(1)-56320+65536:r}function Ym(e){return e<0||1114111<e?"ï¿½":e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(Math.floor(e/1024)+55296,e%1024+56320))}function Xm(e){return{$:0,a:e}}function ba(e){return{$:2,b:e}}var Qm=ba(function(e){return typeof e=="boolean"?dr(e):fr("a BOOL",e)}),Zm=ba(function(e){return typeof e=="number"?dr(e):fr("a FLOAT",e)}),ev=ba(function(e){return dr(e)}),rv=ba(function(e){return typeof e=="string"?dr(e):e instanceof String?dr(e+""):fr("a STRING",e)});function tv(e){return{$:3,b:e}}function nv(e){return{$:5,c:e}}var av=$(function(e,r){return{$:6,d:e,b:r}}),iv=$(function(e,r){return{$:7,e,b:r}});function sv(e){return{$:8,b:e}}function Hr(e,r){return{$:9,f:e,g:r}}var ov=$(function(e,r){return{$:10,b:r,h:e}});function uv(e){return{$:11,g:e}}var lv=$(function(e,r){return Hr(e,[r])}),cv=D(function(e,r,t){return Hr(e,[r,t])}),mv=X(function(e,r,t,n){return Hr(e,[r,t,n])}),vv=qe(function(e,r,t,n,a){return Hr(e,[r,t,n,a])});yr(function(e,r,t,n,a,s){return Hr(e,[r,t,n,a,s])});It(function(e,r,t,n,a,s,o){return Hr(e,[r,t,n,a,s,o])});Vu(function(e,r,t,n,a,s,o,u){return Hr(e,[r,t,n,a,s,o,u])});Ou(function(e,r,t,n,a,s,o,u,m){return Hr(e,[r,t,n,a,s,o,u,m])});$(function(e,r){try{var t=JSON.parse(r);return Xe(e,t)}catch(n){return Or(i(Ui,"This is not valid JSON! "+n.message,r))}});var Vi=$(function(e,r){return Xe(e,r)});function Xe(e,r){switch(e.$){case 2:return e.b(r);case 5:return r===null?dr(e.c):fr("null",r);case 3:return On(r)?fo(e.b,r,b):fr("a LIST",r);case 4:return On(r)?fo(e.b,r,$v):fr("an ARRAY",r);case 6:var t=e.d;if(typeof r!="object"||r===null||!(t in r))return fr("an OBJECT with a field named `"+t+"`",r);var l=Xe(e.b,r[t]);return ir(l)?l:Or(i(Eo,t,l.a));case 7:var n=e.e;if(!On(r))return fr("an ARRAY",r);if(n>=r.length)return fr("a LONGER array. Need index "+n+" but only see "+r.length+" entries",r);var l=Xe(e.b,r[n]);return ir(l)?l:Or(i(Zu,n,l.a));case 8:if(typeof r!="object"||r===null||On(r))return fr("an OBJECT",r);var a=S;for(var s in r)if(r.hasOwnProperty(s)){var l=Xe(e.b,r[s]);if(!ir(l))return Or(i(Eo,s,l.a));a=hr(y(s,l.a),a)}return dr(Re(a));case 9:for(var o=e.f,u=e.g,m=0;m<u.length;m++){var l=Xe(u[m],r);if(!ir(l))return l;o=o(l.a)}return dr(o);case 10:var l=Xe(e.b,r);return ir(l)?Xe(e.h(l.a),r):l;case 11:for(var v=S,c=e.g;c.b;c=c.b){var l=Xe(c.a,r);if(ir(l))return l;v=hr(l.a,v)}return Or(d$(Re(v)));case 1:return Or(i(Ui,e.a,r));case 0:return dr(e.a)}}function fo(e,r,t){for(var n=r.length,a=new Array(n),s=0;s<n;s++){var o=Xe(e,r[s]);if(!ir(o))return Or(i(Zu,s,o.a));a[s]=o.a}return dr(t(a))}function On(e){return Array.isArray(e)||typeof FileList<"u"&&e instanceof FileList}function $v(e){return i(I$,e.length,function(r){return e[r]})}function fr(e,r){return Or(i(Ui,"Expecting "+e,r))}function bt(e,r){if(e===r)return!0;if(e.$!==r.$)return!1;switch(e.$){case 0:case 1:return e.a===r.a;case 2:return e.b===r.b;case 5:return e.c===r.c;case 3:case 4:case 8:return bt(e.b,r.b);case 6:return e.d===r.d&&bt(e.b,r.b);case 7:return e.e===r.e&&bt(e.b,r.b);case 9:return e.f===r.f&&po(e.g,r.g);case 10:return e.h===r.h&&bt(e.b,r.b);case 11:return po(e.g,r.g)}}function po(e,r){var t=e.length;if(t!==r.length)return!1;for(var n=0;n<t;n++)if(!bt(e[n],r[n]))return!1;return!0}var fv=$(function(e,r){return JSON.stringify(r,null,e)+""});function Oi(e){return e}function dv(){return[]}function pv(){return{}}var bv=D(function(e,r,t){return t[e]=r,t});function hv(e){return $(function(r,t){return t.push(e(r)),t})}var gv=null;function Jr(e){return{$:0,a:e}}function _v(e){return{$:1,a:e}}function Er(e){return{$:2,b:e,c:null}}var Ha=$(function(e,r){return{$:3,b:e,d:r}});$(function(e,r){return{$:4,b:e,d:r}});function yv(e){return{$:5,b:e}}var Ev=0;function Ii(e){var r={$:0,e:Ev++,f:e,g:null,h:[]};return Ni(r),r}function Nu(e){return Er(function(r){r(Jr(Ii(e)))})}function qu(e,r){e.h.push(r),Ni(e)}var kv=$(function(e,r){return Er(function(t){qu(e,r),t(Jr(Nt))})}),ja=!1,bo=[];function Ni(e){if(bo.push(e),!ja){for(ja=!0;e=bo.shift();)xv(e);ja=!1}}function xv(e){for(;e.f;){var r=e.f.$;if(r===0||r===1){for(;e.g&&e.g.$!==r;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else if(r===2){e.f.c=e.f.b(function(t){e.f=t,Ni(e)});return}else if(r===5){if(e.h.length===0)return;e.f=e.f.b(e.h.shift())}else e.g={$:r===3?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}function Cv(e){return Er(function(r){var t=setTimeout(function(){r(Jr(Nt))},e);return function(){clearTimeout(t)}})}X(function(e,r,t,n){return qi(r,n,e.c1,e.dO,e.dw,function(){return function(){}})});function qi(e,r,t,n,a,s){var o=i(Vi,e,r?r.flags:void 0);ir(o)||qt(2);var u={},m=t(o.a),l=m.a,v=s(p,l),c=wv(u,p);function p(f,g){var h=i(n,f,l);v(l=h.a,g),go(u,h.b,a(l))}return go(u,m.b,a(l)),c?{ports:c}:{}}var Me={};function wv(e,r){var t;for(var n in Me){var a=Me[n];a.a&&(t=t||{},t[n]=a.a(n,r)),e[n]=Sv(a,r)}return t}function Dv(e,r,t,n,a){return{b:e,c:r,d:t,e:n,f:a}}function Sv(e,r){var t={g:r,h:void 0},n=e.c,a=e.d,s=e.e,o=e.f;function u(m){return i(Ha,u,yv(function(l){var v=l.a;return l.$===0?_(a,t,v,m):s&&o?P(n,t,v.i,v.j,m):_(n,t,s?v.i:v.j,m)}))}return t.h=Ii(i(Ha,u,e.b))}var Av=$(function(e,r){return Er(function(t){e.g(r),t(Jr(Nt))})});$(function(e,r){return i(kv,e.h,{$:0,a:r})});function Pi(e){return function(r){return{$:1,k:e,l:r}}}function Pu(e){return{$:2,m:e}}$(function(e,r){return{$:3,n:e,o:r}});var ho=[],Va=!1;function go(e,r,t){if(ho.push({p:e,q:r,r:t}),!Va){Va=!0;for(var n;n=ho.shift();)jv(n.p,n.q,n.r);Va=!1}}function jv(e,r,t){var n={};Xn(!0,r,n,null),Xn(!1,t,n,null);for(var a in e)qu(e[a],{$:"fx",a:n[a]||{i:S,j:S}})}function Xn(e,r,t,n){switch(r.$){case 1:var a=r.k,s=Vv(e,a,n,r.l);t[a]=Ov(e,s,t[a]);return;case 2:for(var o=r.m;o.b;o=o.b)Xn(e,o.a,t,n);return;case 3:Xn(e,r.o,t,{s:r.n,t:n});return}}function Vv(e,r,t,n){function a(o){for(var u=t;u;u=u.t)o=u.s(o);return o}var s=e?Me[r].e:Me[r].f;return i(s,a,n)}function Ov(e,r,t){return t=t||{i:S,j:S},e?t.i=hr(r,t.i):t.j=hr(r,t.j),t}function Tu(e){Me[e]&&qt(3)}function Mu(e,r){return Tu(e),Me[e]={e:Iv,u:r,a:Nv},Pi(e)}var Iv=$(function(e,r){return r});function Nv(e){var r=[],t=Me[e].u,n=Cv(0);Me[e].b=n,Me[e].c=D(function(o,u,m){for(;u.b;u=u.b)for(var l=r,v=t(u.a),c=0;c<l.length;c++)l[c](v);return n});function a(o){r.push(o)}function s(o){r=r.slice();var u=r.indexOf(o);u>=0&&r.splice(u,1)}return{subscribe:a,unsubscribe:s}}function Ti(e,r){return Tu(e),Me[e]={f:qv,u:r,a:Pv},Pi(e)}var qv=$(function(e,r){return function(t){return e(r(t))}});function Pv(e,r){var t=S,n=Me[e].u,a=Jr(null);Me[e].b=a,Me[e].c=D(function(o,u,m){return t=u,a});function s(o){var u=i(Vi,n,o);ir(u)||qt(4,e,u.a);for(var m=u.a,l=t;l.b;l=l.b)r(l.a(m))}return{send:s}}var Qn,et=typeof document<"u"?document:{};function Mi(e,r){e.appendChild(r)}X(function(e,r,t,n){var a=n.node;return a.parentNode.replaceChild(Pr(e,function(){}),a),{}});function Ja(e){return{$:0,a:e}}var Ru=$(function(e,r){return $(function(t,n){for(var a=[],s=0;n.b;n=n.b){var o=n.a;s+=o.b||0,a.push(o)}return s+=a.length,{$:1,c:r,d:Bu(t),e:a,f:e,b:s}})}),Ae=Ru(void 0),Tv=$(function(e,r){return $(function(t,n){for(var a=[],s=0;n.b;n=n.b){var o=n.a;s+=o.b.b||0,a.push(o)}return s+=a.length,{$:2,c:r,d:Bu(t),e:a,f:e,b:s}})});Tv(void 0);var Mv=$(function(e,r){return{$:4,j:e,k:r,b:1+(r.b||0)}});function Wr(e,r){return{$:5,l:e,m:r,k:void 0}}var Rv=$(function(e,r){return Wr([e,r],function(){return e(r)})});D(function(e,r,t){return Wr([e,r,t],function(){return i(e,r,t)})});X(function(e,r,t,n){return Wr([e,r,t,n],function(){return _(e,r,t,n)})});qe(function(e,r,t,n,a){return Wr([e,r,t,n,a],function(){return P(e,r,t,n,a)})});yr(function(e,r,t,n,a,s){return Wr([e,r,t,n,a,s],function(){return T(e,r,t,n,a,s)})});It(function(e,r,t,n,a,s,o){return Wr([e,r,t,n,a,s,o],function(){return ur(e,r,t,n,a,s,o)})});Vu(function(e,r,t,n,a,s,o,u){return Wr([e,r,t,n,a,s,o,u],function(){return me(e,r,t,n,a,s,o,u)})});Ou(function(e,r,t,n,a,s,o,u,m){return Wr([e,r,t,n,a,s,o,u,m],function(){return om(e,r,t,n,a,s,o,u,m)})});var Fu=$(function(e,r){return{$:"a0",n:e,o:r}}),Fv=$(function(e,r){return{$:"a1",n:e,o:r}}),Lu=$(function(e,r){return{$:"a2",n:e,o:r}}),re=$(function(e,r){return{$:"a3",n:e,o:r}});D(function(e,r,t){return{$:"a4",n:r,o:{f:e,o:t}}});var Lv=/^(on|formAction$)/i,Uv=/^\s*j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:/i,Bv=/^\s*(j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:|d\s*a\s*t\s*a\s*:\s*t\s*e\s*x\s*t\s*\/\s*h\s*t\s*m\s*l\s*(,|;))/i;function zv(e){return Lv.test(e)?"data-"+e:e}function Hv(e){return Uv.test(e)?"":e}function Uu(e){return Bv.test(e)?"":e}var Jv=$(function(e,r){return r.$==="a0"?i(Fu,r.n,Wv(e,r.o)):r});function Wv(e,r){var t=zi(r);return{$:r.$,a:t?_(sl,t<3?Kv:Gv,mr(e),r.a):i(we,e,r.a)}}var Kv=$(function(e,r){return y(e(r.a),r.b)}),Gv=$(function(e,r){return{X:e(r.X),bq:r.bq,be:r.be}});function Bu(e){for(var r={};e.b;e=e.b){var t=e.a,n=t.$,a=t.n,s=t.o;if(n==="a2"){a==="className"?_o(r,a,s):r[a]=s;continue}var o=r[n]||(r[n]={});n==="a3"&&a==="class"?_o(o,a,s):o[a]=s}return r}function _o(e,r,t){var n=e[r];e[r]=n?n+" "+t:t}function Pr(e,r){var t=e.$;if(t===5)return Pr(e.k||(e.k=e.m()),r);if(t===0)return et.createTextNode(e.a);if(t===4){for(var n=e.k,a=e.j;n.$===4;)typeof a!="object"?a=[a,n.j]:a.push(n.j),n=n.k;var s={j:a,p:r},o=Pr(n,s);return o.elm_event_node_ref=s,o}if(t===3){var o=e.h(e.g);return Wa(o,r,e.d),o}var o=e.f?et.createElementNS(e.f,e.c):et.createElement(e.c);Qn&&e.c=="a"&&o.addEventListener("click",Qn(o)),Wa(o,r,e.d);for(var u=e.e,m=0;m<u.length;m++)Mi(o,Pr(t===1?u[m]:u[m].b,r));return o}function Wa(e,r,t){for(var n in t){var a=t[n];n==="a1"?Yv(e,a):n==="a0"?Zv(e,r,a):n==="a3"?Xv(e,a):n==="a4"?Qv(e,a):(n!=="value"&&n!=="checked"||e[n]!==a)&&(e[n]=a)}}function Yv(e,r){var t=e.style;for(var n in r)t[n]=r[n]}function Xv(e,r){for(var t in r){var n=r[t];typeof n<"u"?e.setAttribute(t,n):e.removeAttribute(t)}}function Qv(e,r){for(var t in r){var n=r[t],a=n.f,s=n.o;typeof s<"u"?e.setAttributeNS(a,t,s):e.removeAttributeNS(a,t)}}function Zv(e,r,t){var n=e.elmFs||(e.elmFs={});for(var a in t){var s=t[a],o=n[a];if(!s){e.removeEventListener(a,o),n[a]=void 0;continue}if(o){var u=o.q;if(u.$===s.$){o.q=s;continue}e.removeEventListener(a,o)}o=e$(r,s),e.addEventListener(a,o,Ri&&{passive:zi(s)<2}),n[a]=o}}var Ri;try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Ri=!0}}))}catch{}function e$(e,r){function t(n){var a=t.q,s=Xe(a.a,n);if(ir(s)){for(var o=zi(a),u=s.a,m=o?o<3?u.a:u.X:u,l=o==1?u.b:o==3&&u.bq,v=(l&&n.stopPropagation(),(o==2?u.b:o==3&&u.be)&&n.preventDefault(),e),c,p;c=v.j;){if(typeof c=="function")m=c(m);else for(var p=c.length;p--;)m=c[p](m);v=v.p}v(m,l)}}return t.q=r,t}function r$(e,r){return e.$==r.$&&bt(e.a,r.a)}function zu(e,r){var t=[];return sr(e,r,t,0),t}function je(e,r,t,n){var a={$:r,r:t,s:n,t:void 0,u:void 0};return e.push(a),a}function sr(e,r,t,n){if(e!==r){var a=e.$,s=r.$;if(a!==s)if(a===1&&s===2)r=l$(r),s=1;else{je(t,0,n,r);return}switch(s){case 5:for(var o=e.l,u=r.l,m=o.length,l=m===u.length;l&&m--;)l=o[m]===u[m];if(l){r.k=e.k;return}r.k=r.m();var v=[];sr(e.k,r.k,v,0),v.length>0&&je(t,1,n,v);return;case 4:for(var c=e.j,p=r.j,f=!1,g=e.k;g.$===4;)f=!0,typeof c!="object"?c=[c,g.j]:c.push(g.j),g=g.k;for(var h=r.k;h.$===4;)f=!0,typeof p!="object"?p=[p,h.j]:p.push(h.j),h=h.k;if(f&&c.length!==p.length){je(t,0,n,r);return}(f?!t$(c,p):c!==p)&&je(t,2,n,p),sr(g,h,t,n+1);return;case 0:e.a!==r.a&&je(t,3,n,r.a);return;case 1:yo(e,r,t,n,n$);return;case 2:yo(e,r,t,n,a$);return;case 3:if(e.h!==r.h){je(t,0,n,r);return}var k=Fi(e.d,r.d);k&&je(t,4,n,k);var x=r.i(e.g,r.g);x&&je(t,5,n,x);return}}}function t$(e,r){for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function yo(e,r,t,n,a){if(e.c!==r.c||e.f!==r.f){je(t,0,n,r);return}var s=Fi(e.d,r.d);s&&je(t,4,n,s),a(e,r,t,n)}function Fi(e,r,t){var n;for(var a in e){if(a==="a1"||a==="a0"||a==="a3"||a==="a4"){var s=Fi(e[a],r[a]||{},a);s&&(n=n||{},n[a]=s);continue}if(!(a in r)){n=n||{},n[a]=t?t==="a1"?"":t==="a0"||t==="a3"?void 0:{f:e[a].f,o:void 0}:typeof e[a]=="string"?"":null;continue}var o=e[a],u=r[a];o===u&&a!=="value"&&a!=="checked"||t==="a0"&&r$(o,u)||(n=n||{},n[a]=u)}for(var m in r)m in e||(n=n||{},n[m]=r[m]);return n}function n$(e,r,t,n){var a=e.e,s=r.e,o=a.length,u=s.length;o>u?je(t,6,n,{v:u,i:o-u}):o<u&&je(t,7,n,{v:o,e:s});for(var m=o<u?o:u,l=0;l<m;l++){var v=a[l];sr(v,s[l],t,++n),n+=v.b||0}}function a$(e,r,t,n){for(var a=[],s={},o=[],u=e.e,m=r.e,l=u.length,v=m.length,c=0,p=0,f=n;c<l&&p<v;){var g=u[c],h=m[p],k=g.a,x=h.a,d=g.b,A=h.b,C=void 0,w=void 0;if(k===x){f++,sr(d,A,a,f),f+=d.b||0,c++,p++;continue}var Z=u[c+1],be=m[p+1];if(Z){var ie=Z.a,ce=Z.b;w=x===ie}if(be){var Je=be.a,Pe=be.b;C=k===Je}if(C&&w){f++,sr(d,Pe,a,f),Ut(s,a,k,A,p,o),f+=d.b||0,f++,Bt(s,a,k,ce,f),f+=ce.b||0,c+=2,p+=2;continue}if(C){f++,Ut(s,a,x,A,p,o),sr(d,Pe,a,f),f+=d.b||0,c+=1,p+=2;continue}if(w){f++,Bt(s,a,k,d,f),f+=d.b||0,f++,sr(ce,A,a,f),f+=ce.b||0,c+=2,p+=1;continue}if(Z&&ie===Je){f++,Bt(s,a,k,d,f),Ut(s,a,x,A,p,o),f+=d.b||0,f++,sr(ce,Pe,a,f),f+=ce.b||0,c+=2,p+=2;continue}break}for(;c<l;){f++;var g=u[c],d=g.b;Bt(s,a,g.a,d,f),f+=d.b||0,c++}for(;p<v;){var E=E||[],h=m[p];Ut(s,a,h.a,h.b,void 0,E),p++}(a.length>0||o.length>0||E)&&je(t,8,n,{w:a,x:o,y:E})}var Hu="_elmW6BL";function Ut(e,r,t,n,a,s){var o=e[t];if(!o){o={c:0,z:n,r:a,s:void 0},s.push({r:a,A:o}),e[t]=o;return}if(o.c===1){s.push({r:a,A:o}),o.c=2;var u=[];sr(o.z,n,u,o.r),o.r=a,o.s.s={w:u,A:o};return}Ut(e,r,t+Hu,n,a,s)}function Bt(e,r,t,n,a){var s=e[t];if(!s){var o=je(r,9,a,void 0);e[t]={c:1,z:n,r:a,s:o};return}if(s.c===0){s.c=2;var u=[];sr(n,s.z,u,a),je(r,9,a,{w:u,A:s});return}Bt(e,r,t+Hu,n,a)}function Ju(e,r,t,n){zt(e,r,t,0,0,r.b,n)}function zt(e,r,t,n,a,s,o){for(var u=t[n],m=u.r;m===a;){var l=u.$;if(l===1)Ju(e,r.k,u.s,o);else if(l===8){u.t=e,u.u=o;var v=u.s.w;v.length>0&&zt(e,r,v,0,a,s,o)}else if(l===9){u.t=e,u.u=o;var c=u.s;if(c){c.A.s=e;var v=c.w;v.length>0&&zt(e,r,v,0,a,s,o)}}else u.t=e,u.u=o;if(n++,!(u=t[n])||(m=u.r)>s)return n}var p=r.$;if(p===4){for(var f=r.k;f.$===4;)f=f.k;return zt(e,f,t,n,a+1,s,e.elm_event_node_ref)}for(var g=r.e,h=e.childNodes,k=0;k<g.length;k++){a++;var x=p===1?g[k]:g[k].b,d=a+(x.b||0);if(a<=m&&m<=d&&(n=zt(h[k],x,t,n,a,d,o),!(u=t[n])||(m=u.r)>s))return n;a=d}return n}function Wu(e,r,t,n){return t.length===0?e:(Ju(e,r,t,n),Zn(e,t))}function Zn(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=n.t,s=i$(a,n);a===e&&(e=s)}return e}function i$(e,r){switch(r.$){case 0:return s$(e,r.s,r.u);case 4:return Wa(e,r.u,r.s),e;case 3:return e.replaceData(0,e.length,r.s),e;case 1:return Zn(e,r.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=r.s:e.elm_event_node_ref={j:r.s,p:r.u},e;case 6:for(var s=r.s,n=0;n<s.i;n++)e.removeChild(e.childNodes[s.v]);return e;case 7:for(var s=r.s,t=s.e,n=s.v,a=e.childNodes[n];n<t.length;n++)e.insertBefore(Pr(t[n],r.u),a);return e;case 9:var s=r.s;if(!s)return e.parentNode.removeChild(e),e;var o=s.A;return typeof o.r<"u"&&e.parentNode.removeChild(e),o.s=Zn(e,s.w),e;case 8:return o$(e,r);case 5:return r.s(e);default:qt(10)}}function s$(e,r,t){var n=e.parentNode,a=Pr(r,t);return a.elm_event_node_ref||(a.elm_event_node_ref=e.elm_event_node_ref),n&&a!==e&&n.replaceChild(a,e),a}function o$(e,r){var t=r.s,n=u$(t.y,r);e=Zn(e,t.w);for(var a=t.x,s=0;s<a.length;s++){var o=a[s],u=o.A,m=u.c===2?u.s:Pr(u.z,r.u);e.insertBefore(m,e.childNodes[o.r])}return n&&Mi(e,n),e}function u$(e,r){if(e){for(var t=et.createDocumentFragment(),n=0;n<e.length;n++){var a=e[n],s=a.A;Mi(t,s.c===2?s.s:Pr(s.z,r.u))}return t}}function Li(e){if(e.nodeType===3)return Ja(e.textContent);if(e.nodeType!==1)return Ja("");for(var r=S,t=e.attributes,n=t.length;n--;){var a=t[n],s=a.name,o=a.value;r=hr(i(re,s,o),r)}for(var u=e.tagName.toLowerCase(),m=S,l=e.childNodes,n=l.length;n--;)m=hr(Li(l[n]),m);return _(Ae,u,r,m)}function l$(e){for(var r=e.e,t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=r[a].b;return{$:1,c:e.c,d:e.d,e:n,f:e.f,b:e.b}}var c$=X(function(e,r,t,n){return qi(r,n,e.c1,e.dO,e.dw,function(a,s){var o=e.dQ,u=n.node,m=Li(u);return Ku(s,function(l){var v=o(l),c=zu(m,v);u=Wu(u,m,c,a),m=v})})});X(function(e,r,t,n){return qi(r,n,e.c1,e.dO,e.dw,function(a,s){var o=e.bi&&e.bi(a),u=e.dQ,m=et.title,l=et.body,v=Li(l);return Ku(s,function(c){Qn=o;var p=u(c),f=Ae("body")(S)(p.cB),g=zu(v,f);l=Wu(l,v,g,a),v=f,Qn=0,m!==p.dB&&(et.title=m=p.dB)})})});var ea=typeof requestAnimationFrame<"u"?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)};function Ku(e,r){r(e);var t=0;function n(){t=t===1?0:(ea(n),r(e),1)}return function(a,s){e=a,s?(r(e),t===2&&(t=1)):(t===0&&ea(n),t=2)}}$(function(e,r){return i(Wi,hn,Er(function(){r&&history.go(r),e()}))});$(function(e,r){return i(Wi,hn,Er(function(){history.pushState({},"",r),e()}))});$(function(e,r){return i(Wi,hn,Er(function(){history.replaceState({},"",r),e()}))});var m$={addEventListener:function(){},removeEventListener:function(){}},v$=typeof window<"u"?window:m$;D(function(e,r,t){return Nu(Er(function(n){function a(s){Ii(t(s))}return e.addEventListener(r,a,Ri&&{passive:!0}),function(){e.removeEventListener(r,a)}}))});$(function(e,r){var t=Xe(e,r);return ir(t)?J(t.a):q});function Gu(e,r){return Er(function(t){ea(function(){var n=document.getElementById(e);t(n?Jr(r(n)):_v(N$(e)))})})}function $$(e){return Er(function(r){ea(function(){r(Jr(e()))})})}$(function(e,r){return Gu(r,function(t){return t[e](),Nt})});$(function(e,r){return $$(function(){return v$.scroll(e,r),Nt})});D(function(e,r,t){return Gu(e,function(n){return n.scrollLeft=r,n.scrollTop=t,Nt})});$(function(e,r){return e&r});$(function(e,r){return e|r});$(function(e,r){return e^r});$(function(e,r){return r<<e});$(function(e,r){return r>>e});$(function(e,r){return r>>>e});var Yu=1,f$=2,Xu=0,L=lm,Qu=D(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,s=t.d,o=t.e,u=e,m=_(e,n,a,_(Qu,e,r,o)),l=s;e=u,r=m,t=l;continue e}}),it=function(e){return _(Qu,D(function(r,t,n){return i(L,y(r,t),n)}),S,e)},In=dm;D(function(e,r,t){var n=t.c,a=t.d,s=$(function(o,u){if(o.$){var l=o.a;return _(In,e,u,l)}else{var m=o.a;return _(In,s,u,m)}});return _(In,s,_(In,e,r,a),n)});var Or=function(e){return{$:1,a:e}},Ui=$(function(e,r){return{$:3,a:e,b:r}}),Eo=$(function(e,r){return{$:0,a:e,b:r}}),Zu=$(function(e,r){return{$:1,a:e,b:r}}),dr=function(e){return{$:0,a:e}},d$=function(e){return{$:2,a:e}},p$=bm,J=function(e){return{$:0,a:e}},q={$:1},el=Bm,b$=fv,se=Iu,xe=$(function(e,r){return i(Rm,e,ji(r))}),Mr=$(function(e,r){return b(i(Mm,e,r))}),rl=function(e){return i(xe,`
    `,i(Mr,`
`,e))},$e=D(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b,s=e,o=i(e,n,r),u=a;e=s,r=o,t=u;continue e}else return r}),Rr=function(e){return _($e,$(function(r,t){return t+1}),0,e)},h$=cm,g$=D(function(e,r,t){e:for(;;)if(ne(e,r)<1){var n=e,a=r-1,s=i(L,r,t);e=n,r=a,t=s;continue e}else return t}),Bi=$(function(e,r){return _(g$,e,r,S)}),pr=$(function(e,r){return _(h$,e,i(Bi,0,Rr(r)-1),r)}),fn=Gm,tl=function(e){var r=fn(e);return 97<=r&&r<=122},nl=function(e){var r=fn(e);return r<=90&&65<=r},_$=function(e){return tl(e)||nl(e)},ra=function(e){var r=fn(e);return r<=57&&48<=r},y$=function(e){return tl(e)||nl(e)||ra(e)},Re=function(e){return _($e,L,S,e)},dn=Im,E$=$(function(e,r){return`

(`+(se(e+1)+(") "+rl(k$(r))))}),k$=function(e){return i(x$,e,S)},x$=$(function(e,r){e:for(;;)switch(e.$){case 0:var t=e.a,o=e.b,n=function(){var h=dn(t);if(h.$===1)return!1;var k=h.a,x=k.a,d=k.b;return _$(x)&&i(el,y$,d)}(),a=n?"."+t:"['"+(t+"']"),m=o,l=i(L,a,r);e=m,r=l;continue e;case 1:var s=e.a,o=e.b,u="["+(se(s)+"]"),m=o,l=i(L,u,r);e=m,r=l;continue e;case 2:var v=e.a;if(v.b)if(v.b.b){var c=function(){return r.b?"The Json.Decode.oneOf at json"+i(xe,"",Re(r)):"Json.Decode.oneOf"}(),g=c+(" failed in the following "+(se(Rr(v))+" ways:"));return i(xe,`

`,i(L,g,i(pr,E$,v)))}else{var o=v.a,m=o,l=r;e=m,r=l;continue e}else return"Ran into a Json.Decode.oneOf with no possibilities"+function(){return r.b?" at json"+i(xe,"",Re(r)):"!"}();default:var p=e.a,f=e.b,g=function(){return r.b?"Problem with the value at json"+(i(xe,"",Re(r))+`:

    `):`Problem with the given value:

`}();return g+(rl(i(b$,4,f))+(`

`+p))}}),lr=32,Ka=X(function(e,r,t,n){return{$:0,a:e,b:r,c:t,d:n}}),Ga=mm,ha=Dm,ta=$(function(e,r){return $o(r)/$o(e)}),ko=Cm,Ya=ha(i(ta,2,lr)),C$=P(Ka,0,Ya,Ga,Ga),al=$m,w$=function(e){return{$:1,a:e}};$(function(e,r){return e(r)});var D$=$(function(e,r){return r(e)}),pn=Sm,xo=vm,Ne=$(function(e,r){return ne(e,r)>0?e:r}),S$=function(e){return{$:0,a:e}},il=fm,A$=$(function(e,r){e:for(;;){var t=i(il,lr,e),n=t.a,a=t.b,s=i(L,S$(n),r);if(a.b){var o=a,u=s;e=o,r=u;continue e}else return Re(s)}}),j$=$(function(e,r){e:for(;;){var t=ha(r/lr);if(t===1)return i(il,lr,e).a;var n=i(A$,e,S),a=t;e=n,r=a;continue e}}),V$=$(function(e,r){if(r.o){var t=r.o*lr,n=pn(i(ta,lr,t-1)),a=e?Re(r.u):r.u,s=i(j$,a,r.o);return P(Ka,xo(r.t)+t,i(Ne,5,n*Ya),s,r.t)}else return P(Ka,xo(r.t),Ya,Ga,r.t)}),O$=qe(function(e,r,t,n,a){e:for(;;){if(r<0)return i(V$,!1,{u:n,o:t/lr|0,t:a});var s=w$(_(al,lr,r,e)),o=e,u=r-lr,m=t,l=i(L,s,n),v=a;e=o,r=u,t=m,n=l,a=v;continue e}}),I$=$(function(e,r){if(e<=0)return C$;var t=e%lr,n=_(al,t,e-t,r),a=e-t-lr;return T(O$,r,a,e,S,n)}),ir=function(e){return!e.$},we=lv,sl=cv,mr=Xm,zi=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},gr=function(e){return e},N$=gr,Co=yr(function(e,r,t,n,a,s){return{bI:s,bM:r,b$:n,b1:t,b8:e,b9:a}}),q$=zm,Te=Nm,Nr=Fm,bn=$(function(e,r){return e<1?r:_(Nr,e,Te(r),r)}),ga=Jm,Pt=function(e){return e===""},Ct=$(function(e,r){return e<1?"":_(Nr,0,e,r)}),Hi=Wm,wo=qe(function(e,r,t,n,a){if(Pt(a)||i(q$,"@",a))return q;var s=i(ga,":",a);if(s.b){if(s.b.b)return q;var o=s.a,u=Hi(i(bn,o+1,a));if(u.$===1)return q;var m=u;return J(ur(Co,e,i(Ct,o,a),m,r,t,n))}else return J(ur(Co,e,a,q,r,t,n))}),Do=X(function(e,r,t,n){if(Pt(n))return q;var a=i(ga,"/",n);if(a.b){var s=a.a;return T(wo,e,i(bn,s,n),r,t,i(Ct,s,n))}else return T(wo,e,"/",r,t,n)}),So=D(function(e,r,t){if(Pt(t))return q;var n=i(ga,"?",t);if(n.b){var a=n.a;return P(Do,e,J(i(bn,a+1,t)),r,i(Ct,a,t))}else return P(Do,e,q,r,t)});$(function(e,r){if(Pt(r))return q;var t=i(ga,"#",r);if(t.b){var n=t.a;return _(So,e,J(i(bn,n+1,r)),i(Ct,n,r))}else return _(So,e,q,r)});var P$=Hm,hn=function(e){},gn=Jr,T$=gn(0),ol=X(function(e,r,t,n){if(n.b){var a=n.a,s=n.b;if(s.b){var o=s.a,u=s.b;if(u.b){var m=u.a,l=u.b;if(l.b){var v=l.a,c=l.b,p=t>500?_($e,e,r,Re(c)):P(ol,e,r,t+1,c);return i(e,a,i(e,o,i(e,m,i(e,v,p))))}else return i(e,a,i(e,o,i(e,m,r)))}else return i(e,a,i(e,o,r))}else return i(e,a,r)}else return r}),cr=D(function(e,r,t){return P(ol,e,r,0,t)}),ae=$(function(e,r){return _(cr,$(function(t,n){return i(L,e(t),n)}),S,r)}),na=Ha,Ji=$(function(e,r){return i(na,function(t){return gn(e(t))},r)}),M$=D(function(e,r,t){return i(na,function(n){return i(na,function(a){return gn(i(e,n,a))},t)},r)}),R$=function(e){return _(cr,M$(L),gn(S),e)},F$=Av,L$=$(function(e,r){var t=r;return Nu(i(na,F$(e),t))}),U$=D(function(e,r,t){return i(Ji,function(n){return 0},R$(i(ae,L$(e),r)))}),B$=D(function(e,r,t){return gn(0)}),z$=$(function(e,r){var t=r;return i(Ji,e,t)});Me.Task=Dv(T$,U$,B$,z$);var H$=Pi("Task"),Wi=$(function(e,r){return H$(i(Ji,e,r))}),J$=c$,aa=Vi,Cr={$:-2},ht=Cr,Ao={aG:S,T:ht,aQ:ht,Z:ht,ax:ht},W$=$(function(e,r){return _($e,hv(e),dv(),r)}),Kt=Oi,ul=Mu("evaluateAll",W$(Kt)),K$=function(e){return b(["informations","alimentation","transport","infrastructures","hÃ©bergement","Ã©nergie","communication"])},G$=D(function(e,r,t){var n=e(r);if(n.$)return t;var a=n.a;return i(L,a,t)}),xr=$(function(e,r){return _(cr,G$(e),S,r)}),Fr=$(function(e,r){if(r.$)return q;var t=r.a;return J(e(t))}),Ki=$(function(e,r){e:for(;;)if(r.b){var t=r.a,n=r.b;if(e(t))return!0;var a=e,s=n;e=a,r=s;continue e}else return!1}),Ht=$(function(e,r){return i(Ki,function(t){return Q(t,e)},r)}),wt=function(e){if(e.b){var r=e.a;return e.b,J(r)}else return q},ll=function(e){return i(Mr," . ",e)},oe=$(function(e,r){if(r.$)return e;var t=r.a;return t}),Y$=function(e){return i(oe,e,wt(ll(e)))},cl=um,_r=$(function(e,r){e:for(;;){if(r.$===-2)return q;var t=r.b,n=r.c,a=r.d,s=r.e,o=i(cl,e,t);switch(o){case 0:var u=e,m=a;e=u,r=m;continue e;case 1:return J(n);default:var u=e,m=s;e=u,r=m;continue e}}}),Y=qe(function(e,r,t,n,a){return{$:-1,a:e,b:r,c:t,d:n,e:a}}),Dt=qe(function(e,r,t,n,a){if(a.$===-1&&!a.a){a.a;var s=a.b,o=a.c,u=a.d,m=a.e;if(n.$===-1&&!n.a){n.a;var l=n.b,v=n.c,c=n.d,p=n.e;return T(Y,0,r,t,T(Y,1,l,v,c,p),T(Y,1,s,o,u,m))}else return T(Y,e,s,o,T(Y,0,r,t,n,u),m)}else if(n.$===-1&&!n.a&&n.d.$===-1&&!n.d.a){n.a;var l=n.b,v=n.c,f=n.d;f.a;var g=f.b,h=f.c,k=f.d,x=f.e,p=n.e;return T(Y,0,l,v,T(Y,1,g,h,k,x),T(Y,1,r,t,p,a))}else return T(Y,e,r,t,n,a)}),Xa=D(function(e,r,t){if(t.$===-2)return T(Y,0,e,r,Cr,Cr);var n=t.a,a=t.b,s=t.c,o=t.d,u=t.e,m=i(cl,e,a);switch(m){case 0:return T(Dt,n,a,s,_(Xa,e,r,o),u);case 1:return T(Y,n,a,r,o,u);default:return T(Dt,n,a,s,o,_(Xa,e,r,u))}}),_a=D(function(e,r,t){var n=_(Xa,e,r,t);if(n.$===-1&&!n.a){n.a;var a=n.b,s=n.c,o=n.d,u=n.e;return T(Y,1,a,s,o,u)}else{var m=n;return m}}),X$=function(e){e:for(;;)if(e.$===-1&&e.d.$===-1){var r=e.d,t=r;e=t;continue e}else return e},ml=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.e.d.$===-1&&!e.e.d.a){var r=e.a,t=e.b,n=e.c,a=e.d;a.a;var s=a.b,o=a.c,u=a.d,m=a.e,l=e.e;l.a;var v=l.b,c=l.c,p=l.d;p.a;var f=p.b,g=p.c,h=p.d,k=p.e,x=l.e;return T(Y,0,f,g,T(Y,1,t,n,T(Y,0,s,o,u,m),h),T(Y,1,v,c,k,x))}else{var r=e.a,t=e.b,n=e.c,d=e.d;d.a;var s=d.b,o=d.c,u=d.d,m=d.e,A=e.e;A.a;var v=A.b,c=A.c,p=A.d,x=A.e;return T(Y,1,t,n,T(Y,0,s,o,u,m),T(Y,0,v,c,p,x))}else return e},jo=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.d.d.$===-1&&!e.d.d.a){var r=e.a,t=e.b,n=e.c,a=e.d;a.a;var s=a.b,o=a.c,u=a.d;u.a;var m=u.b,l=u.c,v=u.d,c=u.e,p=a.e,f=e.e;f.a;var g=f.b,h=f.c,k=f.d,x=f.e;return T(Y,0,s,o,T(Y,1,m,l,v,c),T(Y,1,t,n,p,T(Y,0,g,h,k,x)))}else{var r=e.a,t=e.b,n=e.c,d=e.d;d.a;var s=d.b,o=d.c,A=d.d,p=d.e,C=e.e;C.a;var g=C.b,h=C.c,k=C.d,x=C.e;return T(Y,1,t,n,T(Y,0,s,o,A,p),T(Y,0,g,h,k,x))}else return e},Q$=It(function(e,r,t,n,a,s,o){if(s.$===-1&&!s.a){s.a;var u=s.b,m=s.c,l=s.d,v=s.e;return T(Y,t,u,m,l,T(Y,0,n,a,v,o))}else{e:for(;;)if(o.$===-1&&o.a===1)if(o.d.$===-1)if(o.d.a===1){o.a;var c=o.d;return c.a,jo(r)}else break e;else return o.a,o.d,jo(r);else break e;return r}}),Un=function(e){if(e.$===-1&&e.d.$===-1){var r=e.a,t=e.b,n=e.c,a=e.d,s=a.a,o=a.d,u=e.e;if(s===1){if(o.$===-1&&!o.a)return o.a,T(Y,r,t,n,Un(a),u);var m=ml(e);if(m.$===-1){var l=m.a,v=m.b,c=m.c,p=m.d,f=m.e;return T(Dt,l,v,c,Un(p),f)}else return Cr}else return T(Y,r,t,n,Un(a),u)}else return Cr},Gt=$(function(e,r){if(r.$===-2)return Cr;var t=r.a,n=r.b,a=r.c,s=r.d,o=r.e;if(ne(e,n)<0)if(s.$===-1&&s.a===1){s.a;var u=s.d;if(u.$===-1&&!u.a)return u.a,T(Y,t,n,a,i(Gt,e,s),o);var m=ml(r);if(m.$===-1){var l=m.a,v=m.b,c=m.c,p=m.d,f=m.e;return T(Dt,l,v,c,i(Gt,e,p),f)}else return Cr}else return T(Y,t,n,a,i(Gt,e,s),o);else return i(Z$,e,me(Q$,e,r,t,n,a,s,o))}),Z$=$(function(e,r){if(r.$===-1){var t=r.a,n=r.b,a=r.c,s=r.d,o=r.e;if(Q(e,n)){var u=X$(o);if(u.$===-1){var m=u.b,l=u.c;return T(Dt,t,m,l,s,Un(o))}else return Cr}else return T(Dt,t,n,a,s,i(Gt,e,o))}else return Cr}),ef=$(function(e,r){var t=i(Gt,e,r);if(t.$===-1&&!t.a){t.a;var n=t.b,a=t.c,s=t.d,o=t.e;return T(Y,1,n,a,s,o)}else{var u=t;return u}}),rf=D(function(e,r,t){var n=r(i(_r,e,t));if(n.$)return i(ef,e,t);var a=n.a;return _(_a,e,a,t)}),tf=$(function(e,r){return _($e,$(function(t,n){var a=Y$(t);return i(Ht,a,r)?_(rf,a,function(s){if(s.$)return J(b([t]));var o=s.a;return J(i(L,t,o))},n):n}),ht,i(xr,function(t){var n=t.a,a=t.b;return i(Fr,function(s){return n},a.dj)},it(e)))}),nf=Pu,Bn=nf(S),vl=function(e){return _($e,$(function(r,t){var n=r.a,a=r.b;return _(_a,n,a,t)}),ht,e)},af=sv,$l=function(e){return i(we,vl,af(e))},sf=It(function(e,r,t,n,a,s,o){return{cO:n,cV:a,dc:o,dj:e,dx:r,dB:s,dN:t}}),of=D(function(e,r,t){return{cv:r,dq:e,dr:t}}),uf=function(e){return{$:0,a:e}},lf=function(e){return{$:2,a:e}},cf=function(e){return{$:7,a:e}},mf=function(e){return{$:1,a:e}},vf=function(e){return{$:5,a:e}},$f=function(e){return{$:6,a:e}},ff=function(e){return{$:4,a:e}},df=function(e){return{$:3,a:e}},_e=av,st=ov,zn=function(e){return i(st,e,mr(0))},Ir=tv,Yt=function(e){return{$:2,a:e}},fl={$:3},dl=function(e){return{$:1,a:e}},pl=function(e){return{$:0,a:e}},Gi=Qm,wr=Zm,_n=nv,Tt=uv,Ie=rv,Yi=Tt(b([i(we,function(e){switch(e){case"oui":return Yt(!0);case"non":return Yt(!1);default:return pl(e)}},Ie),i(we,dl,wr),i(we,Yt,Gi),_n(fl)])),nr=function(e){return Tt(b([_n(q),i(we,J,e)]))},bl=sl(D$),ia=$(function(e,r){return _(cr,_e,r,e)}),sn=ev,pf=D(function(e,r,t){var n=function(s){return Tt(b([s,_n(t)]))},a=function(s){var o=i(aa,i(ia,e,sn),s);if(o.$)return mr(t);var u=o.a,m=i(aa,n(r),u);if(m.$)return i(ia,e,n(r));var l=m.a;return mr(l)};return i(st,a,sn)}),ar=X(function(e,r,t,n){return i(bl,_(pf,b([e]),r,t),n)}),bf=$(function(e,r){return{cG:e,b4:r}}),_t=D(function(e,r,t){return i(bl,i(_e,e,r),t)}),hf=_(_t,"possibilitÃ©s",Ir(Ie),P(ar,"choix obligatoire",nr(Ie),q,mr(bf))),gf=$(function(e,r){return{cy:r,dk:e}}),_f=$l(Yi),yf=_(_t,"avec",_f,_(_t,"rÃ¨gle",Ie,mr(gf)));function Xt(){return P(ar,"sinon",nr(Qt()),q,P(ar,"alors",nr(Qt()),q,P(ar,"si",nr(Qt()),q,mr(of))))}function Qt(){return Tt(b([i(we,uf,Yi),i(we,mf,i(_e,"somme",Ir(Ie))),i(we,lf,i(_e,"moyenne",Ir(Ie))),i(we,df,i(_e,"variations",Ir(zn(function(e){return Xt()})))),i(we,ff,i(_e,"une possibilitÃ©",hf)),i(we,vf,i(_e,"toutes ces conditions",Ir(zn(function(e){return Xt()})))),i(we,$f,i(_e,"une de ces conditions",Ir(zn(function(e){return Xt()})))),i(we,cf,i(_e,"recalcul",yf))]))}var Ef=Xt();Xt=function(){return Ef};var Qa=Qt();Qt=function(){return Qa};var kf=P(ar,"note",nr(Ie),q,P(ar,"titre",nr(Ie),q,P(ar,"formule",nr(Qa),q,P(ar,"par dÃ©faut",nr(Qa),q,P(ar,"unitÃ©",nr(Ie),q,P(ar,"rÃ©sumÃ©",nr(Ie),q,P(ar,"question",nr(Ie),q,mr(sf)))))))),xf=$l(kf),Cf=function(e){var r=i(aa,xf,e);if(r.$)return r.a,y(Ao,Bn);var t=r.a,n=K$();return y(H(Ao,{aG:n,aQ:i(tf,t,n),Z:t}),ul(i(ae,function(a){var s=a.a;return s},it(t))))},wf=function(e){return{$:3,a:e}},Df=function(e){return{$:2,a:e}},Sf=function(e){return{$:1,a:e}},Af=Pu,sa=iv,jf=Ti("evaluatedRule",i(st,function(e){return i(st,function(r){return mr(y(e,r))},i(sa,1,sn))},i(sa,0,Ie))),Vf=Ti("evaluatedRules",Ir(i(st,function(e){return i(st,function(r){return mr(y(e,r))},i(sa,1,sn))},i(sa,0,Ie)))),Of=Ti("situationUpdated",_n(0)),If=function(e){return Af(b([jf(Sf),Vf(Df),Of(wf)]))},hl=D(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,s=t.d,o=t.e,u=e,m=_(e,n,a,_(hl,e,r,s)),l=o;e=u,r=m,t=l;continue e}}),Nf=D(function(e,r,t){return _(hl,D(function(n,a,s){return _(bv,e(n),r(a),s)}),pv(),t)}),qf=Oi,Pf=gv,gl=function(e){return"'"+(e+"'")},Tf=function(e){switch(e.$){case 0:var r=e.a;return Kt(gl(r));case 1:var t=e.a;return qf(t);case 2:var n=e.a;return Kt(n?"oui":"non");default:return Pf}},Mf=function(e){return _(Nf,gr,Tf,e)},Rf=Mu("setSituation",gr),Ff=D(function(e,r,t){return{bR:t,c8:r,ag:e}}),Lf=_(_t,"isNullable",Gi,_(_t,"missingVariables",Ir(Ie),_(_t,"nodeValue",Yi,mr(Ff)))),Vo=$(function(e,r){var t=e.a,n=e.b,a=i(aa,Lf,n);if(a.$)return r;var s=a.a;return H(r,{T:_(_a,t,s,r.T)})}),Uf=$(function(e,r){switch(e.$){case 0:var t=e.a,o=t.a,n=t.b,a=_(_a,o,n,r.ax);return y(H(r,{ax:a}),Rf(Mf(a)));case 1:var s=e.a,o=s.a,u=s.b;return y(i(Vo,y(o,u),r),Bn);case 2:var m=e.a;return y(_($e,Vo,r,m),Bn);case 3:return y(r,ul(i(ae,function(l){var v=l.a;return v},it(r.Z))));default:return y(r,Bn)}}),vt=$(function(e,r){return i(Lu,e,Kt(r))}),W=vt("className"),ve=Ae("div"),Bf=function(e){return e.$===-2},zf=Rv,Oa=zf,_l=Ja,De=_l,yl=Ae("h2"),El=Lm,Za=Ae("label"),ei=Ae("span"),Zt=function(e){return{$:0,a:e}},V=Iu,Xr=Ae("input"),kl=function(e){return{$:2,a:e}},Hf=qe(function(e,r,t,n,a){return{cM:t,bQ:r,b_:e,aP:n,aT:a}}),xl=$(function(e,r){return r.b?_(cr,L,r,e):e}),Cl=function(e){return i(xe,"",e)},Jf=function(e){return b([e])},Wf=function(e){var r=i(el,function(t){return t==="0"},Cl(i(xl,e.bQ,Jf(e.cM))));return r?1:e.b_<0?2:0},ri=qm,Lr=function(e){return e<0?-e:e},wl=D(function(e,r,t){return e<=0?t:_(wl,e>>1,F(r,r),e&1?F(t,r):t)}),on=$(function(e,r){return _(wl,e,r,"")}),Kf=$(function(e,r){var t=Te(r),n=ne(t,e)<0?Lr(e-t):0;return F(r,i(on,n,"0"))}),oa=$(function(e,r){return e<1?r:_(Nr,0,-e,r)}),un=$(function(e,r){return e<1?"":_(Nr,-e,Te(r),r)}),Dl=function(e){return i(un,1,e)!=="0"?e:Dl(i(oa,1,e))},Gf=$(function(e,r){var t=e.cM;switch(t.$){case 1:return Dl(r);case 2:return r;default:var n=t.a;return i(Kf,n,r)}}),Yf=Tm,Xf=function(e){return _(Yf,L,S,e)},Qf=$(function(e,r){var t=i(Ki,function(n){return n!=="0"&&n!=="."},Xf(r));return F(e&&t?"-":"",r)}),ti=Om,Zf=Ym,Sl=function(e){var r=e.a,t=e.b;if(r==="9"){var n=dn(t);if(n.$===1)return"01";var a=n.a;return i(ti,"0",Sl(a))}else{var s=fn(r);return s>=48&&s<57?i(ti,Zf(s+1),t):"0"}},ed=wm,rd=Vm,Al=function(e){return i(ti,e,"")},ni=D(function(e,r,t){return F(t,i(on,e-Te(t),Al(r)))}),Oo=Pm,jl=function(e){var r=i(Mr,".",e);if(r.b)if(r.b.b){var t=r.a,n=r.b,a=n.a;return y(t,a)}else{var t=r.a;return y(t,"0")}else return y("0","0")},td=$(function(e,r){var t=r.a,n=r.b;return y(e(t),n)}),nd=function(e){var r=i(Mr,"e",V(Lr(e)));if(r.b)if(r.b.b){var t=r.a,n=r.b,a=n.a,s=i(oe,0,Hi(i(P$,"+",a)?i(bn,1,a):a)),o=jl(t),u=o.a,m=o.b,l=F(u,m),v=s<0?i(oe,"0",i(Fr,function(c){var p=c.a,f=c.b;return p+("."+f)},i(Fr,td(Al),dn(F(i(on,Lr(s),"0"),l))))):_(ni,s+1,"0",l);return F(e<0?"-":"",v)}else{var t=r.a;return F(e<0?"-":"",t)}else return""},ad=D(function(e,r,t){if(ed(t)||rd(t))return V(t);var n=t<0,a=jl(nd(Lr(t))),s=a.a,o=a.b,u=Te(s)+r,m=F(i(on,-u+1,"0"),_(ni,u,"0",F(s,o))),l=Te(m),v=i(Ne,1,u),c=i(e,n,_(Nr,v,l,m)),p=_(Nr,0,v,m),f=c?Oo(i(oe,"1",i(Fr,Sl,dn(Oo(p))))):p,g=Te(f),h=f==="0"?f:r<=0?F(f,i(on,Lr(r),"0")):ne(r,Te(o))<0?_(Nr,0,g-r,f)+("."+_(Nr,g-r,g,f)):F(s+".",_(ni,r,"0",o));return i(Qf,n,h)}),ai=ad($(function(e,r){var t=dn(r);if(t.$===1)return!1;if(t.a.a==="5")return t.a.b===""?(t.a,!e):(t.a,!0);var n=t.a,a=n.a;return function(s){return s>53&&e||s>=53&&!e}(fn(a))})),id=function(e){if(e.b){e.a;var r=e.b;return J(r)}else return q},sd=$(function(e,r){var t=function(){var o=e.cM;switch(o.$){case 1:var u=o.a;return ai(u);case 0:return V;default:var m=o.a;return ai(m)}}(),n=i(Mr,".",t(r)),a=function(){var o=id(n);if(o.$)return"";var u=o.a;return i(oe,"",wt(u))}(),s=i(oe,"",wt(n));return y(s,a)}),od=function(e){var r=Te(e)>3?i(un,3,e):e,t=function(n){return Te(n)>2?i(L,i(un,2,n),t(i(oa,2,n))):Te(n)?b([n]):S};return Re(i(L,r,t(i(oa,3,e))))},ud=function(e){var r=function(t){return Te(t)>3?i(L,i(un,3,t),r(i(oa,3,t))):b([t])};return Re(r(e))},ld=$(function(e,r){return e?od(i(ri,ra,r)):ud(i(ri,ra,r))}),cd=$(function(e,r){var t=i(sd,e,r),n=i(ld,e.aU,i(ri,ra,t.a)),a=i(Gf,e,t.b),s=T(Hf,r,n,a,"",""),o=Wf(s);switch(o){case 2:return H(s,{aP:e.ba,aT:e.bb});case 0:return H(s,{aP:e.b2,aT:e.b3});default:return H(s,{aP:e.ct,aT:e.cu})}}),md=$(function(e,r){return r===""?"":F(e.ad,r)}),vd=$(function(e,r){var t=md(e),n=i(xe,e._,r.bQ),a=t(r.cM);return Cl(b([r.aP,n,a,r.aT]))}),$d=$(function(e,r){return i(vd,e,i(cd,e,r))}),fd=function(e){return{$:0,a:e}},dd={ad:".",cM:fd(0),ba:"â",bb:"",b2:"",b3:"",aU:0,_:"",ct:"",cu:""},pd=H(dd,{ad:",",cM:kl(3),_:"â¯"}),ii=function(e){switch(e.$){case 0:var r=e.a;return r;case 1:var t=e.a;return i($d,H(pd,{cM:kl(1)}),t);case 2:var n=e.a;return n?"oui":"non";default:return""}},bd=function(e){return y(e,!0)},hd=function(e){return{$:1,a:e}},Vl=Fu,gd=$(function(e,r){return i(Vl,e,hd(r))}),_d=i(ia,b(["target","value"]),Ie),Yr=function(e){return i(gd,"input",i(we,bd,i(we,e,_d)))},Io=Ae("option"),No=vt("placeholder"),qo=Ae("select"),yd=Oi,Ol=$(function(e,r){return i(Lu,e,yd(r))}),Po=Ol("selected"),Il=Km,Qr=vt("type"),Nn=vt("value"),To=Ol("checked"),Ed=function(e){return{$:0,a:e}},Nl=$(function(e,r){return i(Vl,e,Ed(r))}),kd=i(ia,b(["target","checked"]),Gi),Mo=function(e){return i(Nl,"change",i(we,e,kd))},Ro=$(function(e,r){return i(ve,b([W("form-control")]),b([i(Za,b([W("label cursor-pointer")]),b([i(ei,b([W("label-text")]),b([De("Oui")])),i(Xr,b([W("radio"),Qr("radio"),To(r),Mo(function(t){return Zt(y(e,Yt(t)))})]),S)])),i(Za,b([W("label cursor-pointer")]),b([i(ei,b([W("label-text")]),b([De("Non")])),i(Xr,b([W("radio"),Qr("radio"),To(!r),Mo(function(t){return Zt(y(e,Yt(!t)))})]),S)]))]))}),xd=$(function(e,r){var t=r.a,n=r.b,a=function(f){var g=Il(f);if(g.$)return Pt(f)?Zt(y(t,fl)):Zt(y(t,pl(f)));var h=g.a;return Zt(y(t,dl(h)))},s=i(Fr,function(f){var g=f.ag;return g},i(_r,t,e.T)),o=Ce(n.cV,i(_r,t,e.ax),s);e:for(;;){r:for(;;){t:for(;;)if(o.b.$){if(o.c.$)break t;switch(o.c.a.$){case 1:if(!o.a.$&&o.a.a.$===4)break r;o.b;var u=o.c.a.a;return i(Xr,b([Qr("number"),W("input input-bordered input-lg"),No(V(u)),Yr(a)]),S);case 0:if(!o.a.$&&o.a.a.$===4)break r;o.b;var m=o.c.a.a;return i(Xr,b([Qr("text"),W("input input-bordered input-lg"),No(m),Yr(a)]),S);case 2:if(!o.a.$&&o.a.a.$===4)break r;o.b;var l=o.c.a.a;return i(Ro,t,l);default:if(!o.a.$&&o.a.a.$===4)break r;break t}}else switch(o.b.a.$){case 1:if(!o.a.$&&o.a.a.$===4)break e;var u=o.b.a.a;return i(Xr,b([Qr("number"),W("input input-bordered input-lg"),Nn(V(u)),Yr(a)]),S);case 0:if(!o.a.$&&o.a.a.$===4)break e;var m=o.b.a.a;return i(Xr,b([Qr("text"),W("input input-bordered input-lg"),Nn(m),Yr(a)]),S);case 2:if(!o.a.$&&o.a.a.$===4)break e;var l=o.b.a.a;return i(Ro,t,l);default:if(!o.a.$&&o.a.a.$===4)break e;break t}return i(Xr,b([Qr("number"),Yr(a)]),S)}var c=o.a.a.a.b4;o.b;var v=o.c.a;return i(qo,b([Yr(a),W("select select-bordered select-lg")]),i(ae,function(g){return i(Io,b([Nn(g),Po(Q(ii(v),g))]),b([De(g)]))},c))}var c=o.a.a.a.b4,p=o.b.a;return i(qo,b([Yr(a),W("select select-bordered select-lg")]),i(ae,function(f){return i(Io,b([Nn(f),Po(Q(ii(p),gl(f)))]),b([De(f)]))},c))}),Cd=$(function(e,r){var t=r.a,n=r.b;return i(oe,De(""),i(Fr,function(a){return i(ve,S,b([i(Za,b([W("form-control")]),b([i(ve,b([W("label")]),b([i(ei,b([W("label-text text-xl")]),b([De(a)]))])),i(xd,e,y(t,n))]))]))},n.dj))}),wd=function(e){return i(ve,b([W("")]),i(ae,function(r){var t=r.a,n=r.b;return i(ve,b([W("card shadow p-4 mb-8 bg-base-100")]),b([i(yl,b([W("text-2xl font-bold text-accent")]),b([De(El(t))])),i(ve,b([W("divider")]),S),i(ve,b([W("grid grid-cols-2 gap-4")]),i(xr,function(a){var s=y(i(_r,a,e.Z),i(_r,a,e.T));if(!s.a.$&&!s.b.$){var o=s.a.a,u=s.b.a;return u.bR?q:J(i(Cd,e,y(a,o)))}else return q},n))]))},it(e.aQ)))},Fo=$(function(e,r){if(r.$)return q;var t=r.a;return e(t)}),He=D(function(e,r,t){return r(e(t))}),Dd=function(e){return{$:0,a:e}},Sd=D(function(e,r,t){return Dd({f:t,bF:qe(function(n,a,s,o,u){return S}),F:i(He,e,i(He,Fr(V),oe("N/A"))),c2:r,bV:q,V:e,aC:e})}),Ad=function(e){return i(Sd,i(He,e,J),S)},jd=qe(function(e,r,t,n,a){return{$:2,a:e,b:r,c:t,d:n,e:a}}),Vd=function(e){return{$:0,a:e}},Od=$(function(e,r){var t=e.b;return t(r)}),ql=Od,vr=$(function(e,r){var t=$(function(n,a){return n(a)});return _($e,t,r,e)}),Xi=$(function(e,r){return{$:0,a:e,b:r}}),Id=$(function(e,r){var t=r;return H(t,{dF:function(n){return function(a){var s=a.a;return a.b,i(e,s,t.dF(n))}(n.H)}})}),yn=$(function(e,r){var t=r;return i(t.dI,e,t.cH)}),Nd=function(e){var r=e;return r.cH.dP.at},qd=function(e){var r=e;return r.cH.dP.aD},Pd=$(function(e,r){var t=$(function(n,a){var s=a.a,o=a.b;return e(n)?y(i(L,n,s),o):y(s,i(L,n,o))});return _(cr,t,y(S,S),r)}),Td=$(function(e,r){var t=$(function(n,a){if(n.b){var s=n.a,o=n.b,u=i(Pd,e(s),o),m=u.a,l=u.b;return i(t,l,i(L,y(s,m),a))}else return Re(a)});return i(t,r,S)}),ye=re("class"),Pl=function(e){return _(cr,xl,S,e)},Tr=$(function(e,r){return Pl(i(ae,e,r))}),Md=X(function(e,r,t,n){return{at:e,aD:r,dU:t,bs:n}}),Ur=$(function(e,r){return ne(e,r)<0?e:r}),ln=$(function(e,r){var t=$(function(n,a){if(a.$)return J(e(n));var s=a.a;return J({at:i(Ur,e(n).at,s.at),aD:i(Ne,e(n).aD,s.aD),dU:i(Ur,e(n).dU,s.dU),bs:i(Ne,e(n).bs,s.bs)})});return i(oe,P(Md,0,0,0,0),_($e,t,q,r))}),Fe=Ru("http://www.w3.org/2000/svg"),er=Fe("g"),ya=function(e){var r=e;return r.dF(r.cH)},Tl=Ae("table"),Ea=function(e){var r=e;return r.dE(r.cH)},En=$(function(e,r){var t=r;return _(t.dJ,e,t.cH,i(t.dI,e,t.cH))}),Rd=$(function(e,r){var t=function(n){var a=n.a,s=n.b;return i(L,a,s)};return{cH:{H:y(e,r)},dE:function(n){return b([i(Tl,S,i(Tr,Ea,t(n.H)))])},dF:function(n){return i(ln,ya,t(n.H))},dI:$(function(n,a){return i(ln,yn(n),t(a.H))}),dJ:D(function(n,a,s){return i(er,b([ye("elm-charts__group")]),i(ae,En(n),t(a.H)))})}}),Fd=$(function(e,r){var t=e.aS,n=e.aK,a=e.aJ,s=function(m){var l=m;return t(l.cH)},o=function(m){var l=m.a,v=m.b;return a(i(Rd,l,v))},u=$(function(m,l){return i(n,s(m),s(l))});return i(ae,o,i(Td,u,r))}),Ld=i(Xi,yn,Fd({aJ:Id($(function(e,r){return H(r,{at:Nd(e),aD:qd(e)})})),aK:$(function(e,r){return Q(e.at,r.at)&&Q(e.aD,r.aD)&&Q(e.cR,r.cR)&&Q(e.aW,r.aW)}),aS:function(e){return{aW:e.aV.aI,cR:e.aV.cR,at:e.dP.at,aD:e.dP.aD}}})),Ml=Ld,Qi={h:!1,cW:!0,af:.1,$7:0,dp:0,dt:.05,at:q,aD:q},Ud=$(function(e,r){var t=r;return{cH:{dh:e(t.cH.dh),dD:gr,aV:t.cH.aV,dP:t.cH.dP},dE:function(n){return Ea(t)},dF:function(n){return t.dF(t.cH)},dI:$(function(n,a){return i(t.dI,n,t.cH)}),dJ:D(function(n,a,s){return i(En,n,t)})}}),Bd=function(e){var r=e;return function(t){var n=t.a,a=t.b;return i(L,n,a)}(r.cH.H)},zd=function(e){var r=function(t){var n=t;return i(Ud,n.cH.dD,n)};return i(ae,r,Bd(e))},Hd=ya,Jd=$(function(e,r){var t=r;return{cH:{dh:t.cH.dh,dD:t.cH.dD,aV:t.cH.aV,dP:{cL:e(t.cH.dP.cL),c4:t.cH.dP.c4,at:t.cH.dP.at,aD:t.cH.dP.aD,cq:t.cH.dP.cq}},dE:function(n){return Ea(t)},dF:function(n){return t.dF(t.cH)},dI:$(function(n,a){return i(t.dI,n,t.cH)}),dJ:D(function(n,a,s){return i(En,n,t)})}}),Wd=Mv,Kd=Wd,Gd=$(function(e,r){return{$:0,a:e,b:r}}),si=$(function(e,r){return H(r,{x:e})}),yt=$(function(e,r){return e===""?r:H(r,{b:e})}),ua="#ea60df",Rl={f:S,x:"white",z:0,b:ua,aY:q,cY:0,cZ:"",c_:10,P:1,$7:0,dp:0},Fl=$(function(e,r){return H(r,{$7:e})}),Zi=$(function(e,r){return H(r,{dp:e})}),es=function(e){if(e.$){var t=e.a;return t}else{var r=e.a;return b([r])}},Yd="#12A5ED",Xd="#871c1c",Qd="#71c614",Zd="#92b42c",ep="#FF8400",rp="#7b4dff",tp="#F5325B",np=$(function(e,r){return y(e,r)}),Ll=$(function(e,r){e:for(;;){if(r.$===-2)return e;var t=r.d,n=r.e,a=i(Ll,e+1,n),s=t;e=a,r=s;continue e}}),ap=function(e){return i(Ll,0,e)},ip=D(function(e,r,t){var n=vl(i(pr,np,r)),a=ap(n),s=t%a;return i(oe,e,i(_r,s,n))}),sp="#22d2ba",Ul="#FFCA00",Bl=i(ip,ua,b([rp,ua,Yd,Qd,tp,Ul,sp,ep,Zd,Xd])),op=D(function(e,r,t){var n=function(o){return i(vr,o,Rl)},a=i(vr,r,Qi),s=$(function(o,u){var m=i(Ne,a.dp,a.$7),l="Property #"+se(o+1),v=Bl(o),c=b([Zi(m),Fl(m),yt(v),si(v)]),p=F(c,u.f),f=n(p),g=Q(f.x,v)?F(p,b([si(f.b)])):p;return i(Gd,i(oe,l,u.bV),g)});return i(pr,function(o){return s(e+o)},i(Tr,es,t))}),zl=function(e){return{$:1,a:e}},pe=It(function(e,r,t,n,a,s,o){return{$:6,a:e,b:r,c:t,d:n,e:a,f:s,g:o}}),M=$(function(e,r){return{$:1,a:e,b:r}}),ze=$(function(e,r){return{$:0,a:e,b:r}}),br=D(function(e,r,t){return ne(t,e)<0?e:ne(t,r)>0?r:t}),Et=re("d"),Hl=function(e){return i(xe," ",e)},Lo=function(e){return e?"1":"0"},dt=function(e){var r=e.a,t=e.b;return V(r)+(" "+V(t))},Ia=function(e){return i(xe,",",i(ae,dt,e))},up=function(e){switch(e.$){case 0:var v=e.a,c=e.b;return"M"+dt(y(v,c));case 1:var v=e.a,c=e.b;return"L"+dt(y(v,c));case 2:var n=e.a,a=e.b,r=e.c,t=e.d,v=e.e,c=e.f;return"C"+Ia(b([y(n,a),y(r,t),y(v,c)]));case 3:var n=e.a,a=e.b,v=e.c,c=e.d;return"Q"+Ia(b([y(n,a),y(v,c)]));case 4:var n=e.a,a=e.b,v=e.c,c=e.d;return"Q"+Ia(b([y(n,a),y(v,c)]));case 5:var v=e.a,c=e.b;return"T"+dt(y(v,c));case 6:var s=e.a,o=e.b,u=e.c,m=e.d,l=e.e,v=e.f,c=e.g;return"A "+Hl(b([dt(y(s,o)),se(u),Lo(m),Lo(l),dt(y(v,c))]));default:return"Z"}},lp={$:7},cp=yr(function(e,r,t,n,a,s){return{$:2,a:e,b:r,c:t,d:n,e:a,f:s}}),mp=X(function(e,r,t,n){return{$:3,a:e,b:r,c:t,d:n}}),vp=X(function(e,r,t,n){return{$:4,a:e,b:r,c:t,d:n}}),$p=$(function(e,r){return{$:5,a:e,b:r}}),Jl=function(e){return i(Ne,1,e.N-e.c7-e.c6)},rs=function(e){return Jl(e.cp)},kn=function(e){var r=e.A-e.I;return r>0?r:1},oi=$(function(e,r){return r*rs(e)/kn(e.cp)}),Ue=$(function(e,r){return i(oi,e,r-e.cp.I)+e.cp.c7}),ts=function(e){return Jl(e.cq)},fp=$(function(e,r){return r*ts(e)/kn(e.cq)}),Be=$(function(e,r){return i(fp,e,e.cq.A-r)+e.cq.c7}),dp=$(function(e,r){switch(r.$){case 0:var c=r.a,p=r.b;return i(ze,i(Ue,e,c),i(Be,e,p));case 1:var c=r.a,p=r.b;return i(M,i(Ue,e,c),i(Be,e,p));case 2:var a=r.a,s=r.b,t=r.c,n=r.d,c=r.e,p=r.f;return ur(cp,i(Ue,e,a),i(Be,e,s),i(Ue,e,t),i(Be,e,n),i(Ue,e,c),i(Be,e,p));case 3:var a=r.a,s=r.b,c=r.c,p=r.d;return P(mp,i(Ue,e,a),i(Be,e,s),i(Ue,e,c),i(Be,e,p));case 4:var a=r.a,s=r.b,c=r.c,p=r.d;return P(vp,i(Ue,e,a),i(Be,e,s),i(Ue,e,c),i(Be,e,p));case 5:var c=r.a,p=r.b;return i($p,i(Ue,e,c),i(Be,e,p));case 6:var o=r.a,u=r.b,m=r.c,l=r.d,v=r.e,c=r.f,p=r.g;return me(pe,o,u,m,l,v,i(Ue,e,c),i(Be,e,p));default:return lp}}),Wl=$(function(e,r){return Hl(i(ae,i(He,dp(e),up),r))}),Br=re("fill"),Kl=re("fill-opacity"),kt=Fe("path"),Ve=$(function(e,r){return r*kn(e.cp)/rs(e)}),Oe=$(function(e,r){return r*kn(e.cq)/ts(e)}),St=re("stroke"),ns=re("stroke-opacity"),ot=re("stroke-width"),Uo=$(function(e,r){var t=$(function(n,a){return n(a)});return _($e,t,r,e)}),Gl=Fe("circle"),Yl=re("cx"),Xl=re("cy"),ui=Fe("defs"),At=re("height"),li=re("id"),pp=Fe("line"),bp=Fe("linearGradient"),hp=re("offset"),gp=Fe("pattern"),_p=re("patternTransform"),yp=re("patternUnits"),Ql=re("r"),pt=D(function(e,r,t){return i(xe,r,i(Mr,e,t))}),Ep=Fe("stop"),kp=re("stop-color"),jt=re("width"),Bo=re("x1"),zo=re("x2"),la=re("y"),xp=re("y1"),Ho=re("y2"),Cp=$(function(e,r){var t=function(u){return _(pt,"(","-",_(pt,")","-",_(pt,".","-",_(pt,",","-",_(pt," ","-",i(xe,"-",F(b(["elm-charts__pattern",function(){switch(r.$){case 0:return"striped";case 1:return"dotted";default:return"gradient"}}()]),u)))))))},n=X(function(u,m,l,v){return i(ui,S,b([i(gp,b([li(u),yp("userSpaceOnUse"),jt(V(m)),At(V(m)),_p("rotate("+(V(l)+")"))]),b([v]))]))}),a=function(){switch(r.$){case 0:var m=r.a,u=i(Uo,m,{b:e,q:45,dt:4,co:3}),v=t(b([u.b,V(u.co),V(u.dt),V(u.q)]));return y(P(n,v,u.dt,u.q,i(pp,b([Bo("0"),la("0"),zo("0"),Ho(V(u.dt)),St(u.b),ot(V(u.co))]),S)),v);case 1:var m=r.a,u=i(Uo,m,{b:e,q:45,dt:4,co:3}),v=t(b([u.b,V(u.co),V(u.dt),V(u.q)]));return y(P(n,v,u.dt,u.q,i(Gl,b([Br(u.b),Yl(V(u.co/3)),Xl(V(u.co/3)),Ql(V(u.co/3))]),S)),v);default:var m=r.a,l=Q(m,S)?b([e,"white"]):m,v=t(l),c=Rr(l),p=function(g){return g*100/(c-1)},f=$(function(g,h){return i(Ep,b([hp(V(p(g))+"%"),kp(h)]),S)});return y(i(ui,S,b([i(bp,b([li(v),Bo("0"),zo("0"),xp("0"),Ho("1")]),i(pr,f,l))])),v)}}(),s=a.a,o=a.b;return y(s,"url(#"+(o+")"))}),wp=Jv,Dp=wp,ca=D(function(e,r,t){return r(F(t,i(ae,Dp(hn),e)))}),Sp=re("clip-path"),Zl=function(e){var r=i(He,V,i(pt,".","-"));return i(xe,"_",b(["elm-charts__id",r(e.cp.N),r(e.cp.I),r(e.cp.A),r(e.cp.c7),r(e.cp.c6),r(e.cq.N),r(e.cq.I),r(e.cq.A),r(e.cq.c7),r(e.cq.c6)]))},cn=function(e){return Sp("url(#"+(Zl(e)+")"))},ec=D(function(e,r,t){var n=yr(function(I,z,N,R,ee,G){return P(ca,r.f,kt,b([ye("elm-charts__bar"),Br(I),Kl(V(z)),St(N),ot(V(R)),ns(V(ee)),Et(i(Wl,e,G)),cn(e)]),S)}),a=r.cZ===""?r.b:r.cZ,s=i(Oe,e,r.z/2),o=s+i(Oe,e,r.c_/2),u=i(Ve,e,r.z/2),m=u+i(Ve,e,r.c_/2),l={at:i(Ur,t.at,t.aD)+u,aD:i(Ne,t.at,t.aD)-u,dU:i(Ur,t.dU,t.bs)+s,bs:i(Ne,t.dU,t.bs)-s},v=Lr(l.bs-l.dU),c={at:l.at-m,aD:l.aD+m,dU:l.dU-o,bs:l.bs+o},p=Lr(l.aD-l.at),f=i(oi,e,p)*.5*_(br,0,1,r.$7),g=i(Ve,e,f),h=i(Oe,e,f),k=i(oi,e,p)*.5*_(br,0,1,r.dp),x=i(Ve,e,k),d=i(Oe,e,k),A=v-d*.8-h*.8<=0||p-x*.8-g*.8<=0?y(0,0):y(r.dp,r.$7),C=A.a,w=A.b,Z=function(){if(Q(l.dU,l.bs))return y(S,S);var I=y(C>0,w>0);return I.a?I.b?y(b([i(ze,l.at+g,l.dU),me(pe,f,f,-45,!1,!0,l.at,l.dU+h),i(M,l.at,l.bs-d),me(pe,k,k,-45,!1,!0,l.at+x,l.bs),i(M,l.aD-x,l.bs),me(pe,k,k,-45,!1,!0,l.aD,l.bs-d),i(M,l.aD,l.dU+h),me(pe,f,f,-45,!1,!0,l.aD-g,l.dU),i(M,l.at+g,l.dU)]),b([i(ze,c.at+g,c.dU),me(pe,f,f,-45,!1,!0,c.at,c.dU+h),i(M,c.at,c.bs-d),me(pe,k,k,-45,!1,!0,c.at+x,c.bs),i(M,c.aD-x,c.bs),me(pe,k,k,-45,!1,!0,c.aD,c.bs-d),i(M,c.aD,c.dU+h),me(pe,f,f,-45,!1,!0,c.aD-g,c.dU),i(M,c.at+g,c.dU),i(M,l.aD-g,l.dU),me(pe,f,f,-45,!1,!1,l.aD,l.dU+h),i(M,l.aD,l.bs-d),me(pe,k,k,-45,!1,!1,l.aD-x,l.bs),i(M,l.at+x,l.bs),me(pe,k,k,-45,!1,!1,l.at,l.bs-d),i(M,l.at,l.dU+h),i(M,l.aD,l.dU)])):y(b([i(ze,l.at,l.dU),i(M,l.at,l.bs-d),me(pe,k,k,-45,!1,!0,l.at+x,l.bs),i(M,l.aD-x,l.bs),me(pe,k,k,-45,!1,!0,l.aD,l.bs-d),i(M,l.aD,l.dU),i(M,l.at,l.dU)]),b([i(ze,c.at,l.dU),i(M,c.at,c.bs-d),me(pe,k,k,-45,!1,!0,c.at+x,c.bs),i(M,c.aD-x,c.bs),me(pe,k,k,-45,!1,!0,c.aD,c.bs-d),i(M,c.aD,l.dU),i(M,l.aD,l.dU),i(M,l.aD,l.bs-d),me(pe,k,k,-45,!1,!1,l.aD-x,l.bs),i(M,l.at+x,l.bs),me(pe,k,k,-45,!1,!1,l.at,l.bs-d),i(M,l.at,l.dU)])):I.b?y(b([i(ze,l.at+g,l.dU),me(pe,f,f,-45,!1,!0,l.at,l.dU+h),i(M,l.at,l.bs),i(M,l.aD,l.bs),i(M,l.aD,l.dU+h),me(pe,f,f,-45,!1,!0,l.aD-g,l.dU),i(M,l.at+g,l.dU)]),b([i(ze,c.at+g,c.dU),me(pe,f,f,-45,!1,!0,c.at,c.dU+h),i(M,c.at,c.bs),i(M,c.aD,c.bs),i(M,c.aD,c.dU+h),me(pe,f,f,-45,!1,!0,c.aD-g,c.dU),i(M,c.at+g,c.dU),i(M,l.aD-g,l.dU),me(pe,f,f,-45,!1,!1,l.aD,l.dU+h),i(M,l.aD,l.bs),i(M,l.at,l.bs),i(M,l.at,l.dU+h),i(M,l.aD,l.dU)])):y(b([i(ze,l.at,l.dU),i(M,l.at,l.bs),i(M,l.aD,l.bs),i(M,l.aD,l.dU),i(M,l.at,l.dU)]),b([i(ze,c.at,l.dU),i(M,c.at,c.bs),i(M,c.aD,c.bs),i(M,c.aD,l.dU),i(M,l.aD,l.dU),i(M,l.aD,l.bs),i(M,l.at,l.bs),i(M,l.at,l.dU)]))}(),be=Z.a,ie=Z.b,ce=function(I){return r.cY?i(er,b([ye("elm-charts__bar-with-highlight")]),b([ur(n,a,r.cY,"transparent",0,0,ie),ur(n,I,r.P,r.x,r.z,1,be)])):ur(n,I,r.P,r.x,r.z,1,be)},Je=r.aY;if(Je.$===1)return ce(r.b);var Pe=Je.a,E=i(Cp,r.b,Pe),j=E.a,O=E.b;return i(er,b([ye("elm-charts__bar-with-pattern")]),b([j,ce(O)]))}),Ap=Fv,le=Ap,jp=$(function(e,r){return i(oe,"Property #"+se(e+1),r)}),Jo=Ae("td"),Vp=Ae("tr"),Op=D(function(e,r,t){return i(Vp,S,b([i(Jo,b([i(le,"color",e),i(le,"padding","0"),i(le,"padding-right","3px")]),b([De(r+":")])),i(Jo,b([i(le,"text-align","right"),i(le,"padding","0")]),b([De(t)]))]))}),Ip=$(function(e,r){var t=X(function(n,a,s,o){e:for(;;)if(o.b)if(o.b.b){var u=o.a,m=o.b,l=m.a,v=m.b,c=n+1,p=J(u),f=F(s,b([P(r,n,a,u,J(l))])),g=i(L,l,v);n=c,a=p,s=f,o=g;continue e}else{var u=o.a;return F(s,b([P(r,n,a,u,q)]))}else return s});return P(t,0,q,S,e)}),Np=X(function(e,r,t,n){var a=function(l){return i(vr,l,Rl)},s=i(vr,r,Qi),o=It(function(l,v,c,p,f,g,h){var k=p.aC(h.cL),x=p.V(h.cL),d=h.bp,A=Rr(l),C=s.cW?Rr(t):1,w=A>1?Ne(0):gr,Z=w(i(oe,0,k)-i(oe,0,x)),be=w(i(oe,0,k)),ie=A===1,ce=Q(c,A-1),Je=ie||ce?s.dp:0,Pe=!c,E=ie||Pe?s.$7:0,j=h.bC,O=j-d,I=O*s.af,z=O*s.dt,N=(O-I*2-(C-1)*z)/C,R=s.cW?v*N+v*z:0,ee=d+I+R,G=d+I+R+N,B=Bl(f),he=b([Zi(Je),Fl(E),yt(B),si(B)]),We=F(he,F(p.f,T(p.bF,v,c,g,p.bV,h.cL))),Ke=a(We),Se=function(ue){return Q(ue.x,B)?H(ue,{x:ue.b}):ue}(function(ue){var ge=ue.aY;if(!ge.$&&ge.a.$===2&&ge.a.a.b){var Ge=ge.a.a,tr=Ge.a;return Q(ue.b,B)?H(ue,{b:tr}):ue}else return ue}(Ke));return{cH:{dh:Se,dD:zl,aV:{x:Se.x,z:Se.z,b:Se.b,aI:g,cR:e,bH:p.F(h.cL),c0:f,db:p.bV,di:v,du:c},dP:{cL:h.cL,c4:function(){return!x.$}(),at:d,aD:j,cq:i(oe,0,x)}},dE:function(ue){return b([_(Op,ue.aV.b,i(jp,f,ue.aV.db),p.F(h.cL))])},dF:function(ue){return{at:ee,aD:G,dU:i(Ur,Z,be),bs:i(Ne,Z,be)}},dI:$(function(ue,ge){return{at:ee,aD:G,dU:Z,bs:be}}),dJ:D(function(ue,ge,Ge){return _(ec,ue,Se,Ge)})}}),u=yr(function(l,v,c,p,f,g){var h=i(pr,T(o,v,c,p,f,g),l);if(h.b){var k=h.a,x=h.b;return J({cH:{H:y(k,x)},dE:function(d){return b([i(Tl,b([i(le,"margin","0")]),i(Tr,Ea,function(A){var C=A.a,w=A.b;return i(L,C,w)}(d.H)))])},dF:function(d){return i(ln,ya,function(A){var C=A.a,w=A.b;return i(L,C,w)}(d.H))},dI:$(function(d,A){return i(ln,yn(d),function(C){var w=C.a,Z=C.b;return i(L,w,Z)}(A.H))}),dJ:D(function(d,A,C){return i(er,b([ye("elm-charts__bar-series")]),i(ae,En(d),function(w){var Z=w.a,be=w.b;return i(L,Z,be)}(A.H)))})})}else return q}),m=X(function(l,v,c,p){var f=y(s.at,s.aD);if(f.a.$===1){if(f.b.$===1)return f.a,f.b,{cL:c,bC:l+1+.5,bp:l+1-.5};f.a;var g=f.b.a,h=y(v,p);if(h.a.$){if(h.b.$)return h.a,h.b,{cL:c,bC:g(c),bp:g(c)-1};h.a;var x=h.b.a;return{cL:c,bC:g(c),bp:g(c)-(g(x)-g(c))}}else{var k=h.a.a;return{cL:c,bC:g(c),bp:g(k)}}}else if(f.b.$===1){var d=f.a.a;f.b;var A=y(v,p);if(A.b.$){if(A.a.$)return A.a,A.b,{cL:c,bC:d(c)+1,bp:d(c)};var k=A.a.a;return A.b,{cL:c,bC:d(c)+(d(c)-d(k)),bp:d(c)}}else{var x=A.b.a;return{cL:c,bC:d(x),bp:d(c)}}}else{var d=f.a.a,g=f.b.a;return{cL:c,bC:g(c),bp:d(c)}}});return function(l){return i(xr,gr,i(pr,$(function(v,c){return c(e+v)}),Pl(i(pr,$(function(v,c){return i(pr,_(u,l,c,v),Re(c))}),i(ae,es,t)))))}(i(Ip,n,m))}),qp=X(function(e,r,t,n){return Vd(function(a){var s=_(op,a,r,t),o=P(Np,a,r,t,n),u=i(ae,Jd(e),i(Tr,zd,o)),m=i(ql,Ml,u),l=i(ae,ya,m),v=i(vr,r,Qi),c=$(function(p,f){return H(f,{C:F(f.C,v.h?i(Tr,i(He,Hd,function(g){return b([g.at,g.aD])}),m):S)})});return y(T(jd,l,u,s,c,function(p){return i(Kd,hn,i(er,b([ye("elm-charts__bar-series")]),i(ae,En(p),o)))}),a+Rr(i(Tr,es,t)))})}),Pp=D(function(e,r,t){return P(qp,gr,e,r,t)}),Tp=$(function(e,r){var t=e.a,n=e.b;r.a;var a=r.b;return i(Xi,t,function(s){return n(a(s))})}),Mp=Tp,Rp=function(e){var r=e,t=r.cH.dh;if(t.$===1){var n=t.a;return J({cH:{dh:n,dD:zl,aV:r.cH.aV,dP:r.cH.dP},dE:function(a){return r.dE(r.cH)},dF:function(a){return r.dF(r.cH)},dI:$(function(a,s){return i(r.dI,a,r.cH)}),dJ:$(function(a,s){return i(ec,a,s.dh)})})}else return q},Fp=i(Xi,yn,xr(Rp)),Lp=Fp,Le={k:q,f:S,x:"white",z:0,b:"#808BAB",l:q,m:q,n:!1,q:0,s:!1,i:0,j:0},Up=function(e){return{cp:e.at+(e.aD-e.at)/2,cq:e.dU}},Bp=function(e){return i(He,yn(e),Up)},zp={k:Le.k,f:Le.f,x:Le.x,z:Le.z,b:Le.b,l:Le.l,m:Le.m,F:q,n:Le.n,y:Bp,q:Le.q,s:Le.s,i:Le.i,j:Le.j},Hp=function(e){return{$:10,a:e}},Jp=$(function(e,r){return Hp($(function(t,n){var a=i(ql,e,n);return i(Tr,r(t),a)}))}),Wp=function(e){var r=e;return r.cH.dP.cL},Kp=function(e){var r=e;return function(t){var n=t.a;return t.b,Wp(n)}(r.cH.H)},Gp=Kp,Yp=$(function(e,r){return i(re,zv(e),Uu(r))}),Xp=Yp,Qp=Fe("foreignObject"),ci=re("transform"),Wo=yr(function(e,r,t,n,a,s){return ci("translate("+(V(i(Ue,e,t)+a)+(","+(V(i(Be,e,n)+s)+(") rotate("+(V(r)+")"))))))}),rc=re("style"),Zp=Fe("text"),eb=Fe("tspan"),tc=X(function(e,r,t,n){var a=r.l;if(a.$===1){var s=function(c){return r.n?i(er,b([cn(e)]),b([c])):c},o=r.s?"text-transform: uppercase;":"",u=function(){var c=r.m;if(c.$)return"";var p=c.a;return"font-size: "+(se(p)+"px;")}(),m=function(){var c=r.k;if(c.$===1)return"text-anchor: middle;";switch(c.a){case 0:return c.a,"text-anchor: end;";case 1:return c.a,"text-anchor: start;";default:return c.a,"text-anchor: middle;"}}();return s(P(ca,r.f,Zp,b([ye("elm-charts__label"),St(r.x),ot(V(r.z)),Br(r.b),ur(Wo,e,-r.q,n.cp,n.cq,r.i,r.j),rc(i(xe," ",b(["pointer-events: none;",u,m,o])))]),b([i(eb,S,t)])))}else{var l=a.a,v=function(){var h=r.k;if(h.$===1)return r.i-l.co/2;switch(h.a){case 0:return h.a,r.i-l.co;case 1:return h.a,r.i;default:return h.a,r.i-l.co/2}}(),s=function(h){return r.n?i(er,b([cn(e)]),b([h])):h},o=r.s?i(le,"text-transform","uppercase"):i(le,"",""),u=function(){var h=r.m;if(h.$)return i(le,"","");var k=h.a;return i(le,"font-size",se(k)+"px")}(),m=function(){var h=r.k;if(h.$===1)return i(le,"text-align","center");switch(h.a){case 0:return h.a,i(le,"text-align","right");case 1:return h.a,i(le,"text-align","left");default:return h.a,i(le,"text-align","center")}}();return s(P(ca,r.f,Qp,b([ye("elm-charts__label"),ye("elm-charts__html-label"),jt(V(l.co)),At(V(l.bK)),ur(Wo,e,-r.q,n.cp,n.cq,v,r.j-10)]),b([i(ve,b([i(Xp,"xmlns","http://www.w3.org/1999/xhtml"),i(le,"white-space","nowrap"),i(le,"overflow","hidden"),i(le,"text-overflow","ellipsis"),i(le,"height","100%"),i(le,"pointer-events","none"),i(le,"color",r.b),u,o,m]),t)])))}}),rb=function(e){return{$:12,a:e}},tb=function(e){return rb(function(r){return e(r)})},ma=_l,nb=function(e){return{k:e.k,f:e.f,x:e.x,z:e.z,b:e.b,l:e.l,m:e.m,n:e.n,q:e.q,s:e.s,i:e.i,j:e.j}},ab=$(function(e,r){return i(Jp,i(Mp,Ml,Lp),$(function(t,n){var a=i(vr,r,zp),s=function(){var o=a.F;if(o.$)return e(Gp(n));var u=o.a;return u(n)}();return b([tb(function(o){return P(tc,t,nb(a),b([ma(s)]),i(a.y,t,n))})])}))}),ib=$(function(e,r){return{bJ:r,db:e}}),sb=Fe("clipPath"),nc=mv,ob=i(_e,"offsetHeight",wr),ub=i(_e,"offsetWidth",wr),lb=vv,cb=i(_e,"offsetLeft",wr),mb=$(function(e,r){return Tt(b([i(_e,"offsetParent",_n(e)),i(_e,"offsetParent",r)]))}),vb=i(_e,"offsetTop",wr),$b=i(_e,"scrollLeft",wr),fb=i(_e,"scrollTop",wr),ac=$(function(e,r){return i(st,function(t){var n=t.a,a=t.b;return i(mb,y(n,a),i(ac,n,a))},T(lb,X(function(t,n,a,s){return y(e+a-t,r+s-n)}),$b,fb,cb,vb))}),db=P(nc,D(function(e,r,t){var n=e.a,a=e.b;return{bK:t,c5:n,dM:a,co:r}}),i(ac,0,0),ub,ob),pb=function(e){return i(_e,"parentElement",e)};function as(){return Tt(b([db,zn(function(e){return pb(as())})]))}var ic=as();as=function(){return ic};var bb=$(function(e,r){return i(Ve,e,r-e.cp.c7)+e.cp.I}),hb=$(function(e,r){return kn(e.cq)-i(Oe,e,r-e.cq.c7)+e.cq.I}),gb=$(function(e,r){return{cp:i(bb,e,r.cp),cq:i(hb,e,r.cq)}}),_b=function(e){return i(_e,"target",e)},yb=$(function(e,r){var t=D(function(n,a,s){var o=e.cq,u=e.cp,m=s.co/e.cp.N,l=s.bK/e.cq.N,v=H(e,{cp:H(u,{N:s.co,c6:e.cp.c6*m,c7:e.cp.c7*m}),cq:H(o,{N:s.bK,c6:e.cq.c6*l,c7:e.cq.c7*l})}),c=i(gb,v,{cp:n-s.c5,cq:a-s.dM});return i(r,v,c)});return P(nc,t,i(_e,"pageX",wr),i(_e,"pageY",wr),_b(ic))}),Eb=Nl,va=Fe("rect"),sc=Fe("svg"),oc=re("viewBox"),mi=re("x"),kb=qe(function(e,r,t,n,a){var s=function(g){return i(Eb,g.db,i(yb,e,g.bJ))},o=r.aR?b([oc("0 0 "+(V(e.cp.N)+(" "+V(e.cq.N)))),i(le,"display","block")]):b([jt(V(e.cp.N)),At(V(e.cq.N)),i(le,"display","block")]),u=r.aR?b([i(le,"width","100%"),i(le,"height","100%")]):b([i(le,"width",V(e.cp.N)+"px"),i(le,"height",V(e.cq.N)+"px")]),m=b([W("elm-charts__container-inner")]),l=F(r.aM,F(m,u)),v=b([mi(V(e.cp.c7)),la(V(e.cq.c7)),jt(V(rs(e))),At(V(ts(e))),Br("transparent")]),c=i(ui,S,b([i(sb,b([li(Zl(e))]),b([i(va,v,S)]))])),p=i(va,F(v,i(ae,s,r.aL)),S),f=i(sc,F(o,r.f),F(b([c]),F(n,b([p]))));return i(ve,b([W("elm-charts__container"),i(le,"position","relative")]),b([i(ve,l,F(t,F(b([f]),a)))]))}),uc=D(function(e,r,t){return H(t,{I:_(r,e,t.I,t.cK)})}),xb=D(function(e,r,t){return ne(r,e)>0?e:r}),Cb=$(function(e,r){var t=i(Ne,1,e.co-e.R.c5-e.R.dn),n=qe(function(x,d,A,C,w){return{cJ:w,cK:C,N:x,c6:A,c7:d,A:w,I:C}}),a=i(Ne,1,e.bK-e.R.cC-e.R.dM),s=function(x){return Q(x.I,x.A)?H(x,{A:x.I+10}):x},o=$(function(x,d){switch(x.$){case 0:return d;case 1:var A=x.a;return F(d,A);case 2:var A=x.a;return F(d,A);case 3:return d;case 4:return d;case 5:return d;case 6:return d;case 7:return d;case 8:return d;case 9:return d;case 10:return d;case 11:var C=x.a;return _($e,o,d,C);case 12:return d;default:return d}}),u=function(x){return function(d){var A=d.cp,C=d.cq;return{cp:s(A),cq:s(C)}}({cp:T(n,t,e.af.c5,e.af.dn,x.at,x.aD),cq:T(n,a,e.af.dM,e.af.cC,x.dU,x.bs)})}(i(ln,gr,_($e,o,S,r))),m=function(){var x=e.bf;if(x.b){var d=x;return _($e,$(function(A,C){return A(C)}),u.cp,d)}else return u.cp}(),l=function(){var x=e.aZ;if(x.b){var d=x;return _($e,$(function(A,C){return A(C)}),u.cq,d)}else return _(uc,0,xb,u.cq)}(),v={cp:m,cq:l},c=Ve(v),p=m.A+c(e.R.dn),f=m.I-c(e.R.c5),g=Oe(v),h=l.A+g(e.R.dM),k=l.I-g(e.R.cC);return{cp:H(m,{N:e.co,A:i(Ne,f,p),I:i(Ur,f,p)}),cq:H(l,{N:e.bK,A:i(Ne,k,h),I:i(Ur,k,h)})}}),wb=$(function(e,r){var t=$(function(n,a){switch(n.$){case 0:return a;case 1:var s=n.b;return F(a,s);case 2:var s=n.b;return F(a,s);case 3:var o=n.a;return F(a,b([o]));case 4:return n.a,a;case 5:return a;case 6:return a;case 7:return a;case 8:return a;case 9:return a;case 10:return a;case 11:var u=n.a;return _($e,t,a,u);case 12:return a;default:return a}});return _($e,t,S,r)}),Db=function(e){var r=$(function(t,n){switch(t.$){case 0:return n;case 1:var a=t.c;return F(n,a);case 2:var a=t.c;return F(n,a);case 3:return n;case 4:return n;case 5:return n;case 6:return n;case 7:return n;case 8:return n;case 9:return n;case 10:return n;case 11:var s=t.a;return _($e,r,n,s);case 12:return n;default:return n}});return _($e,r,S,e)},Sb=X(function(e,r,t,n){return{aE:e,C:t,aF:r,J:n}}),Ab=D(function(e,r,t){var n=$(function(a,s){switch(a.$){case 0:return s;case 1:return s;case 2:var u=a.d;return i(u,e,s);case 3:var u=a.b;return s;case 4:var u=a.a;return i(u,e,s);case 5:var u=a.a;return i(u,e,s);case 6:var o=a.a,u=a.b;return _(u,e,o(e),s);case 7:var o=a.a,u=a.b;return _(u,e,o(e),s);case 8:var o=a.a,u=a.b;return _(u,e,o(e),s);case 10:var u=a.a;return _($e,n,s,i(u,e,r));case 9:return s;case 11:var m=a.a;return _($e,n,s,m);case 12:return s;default:return s}});return _($e,n,P(Sb,S,S,S,S),t)}),jb=function(e){return{$:9,a:e}},Vb=function(e){return H(e,{ap:J(0)})},Ob="rgb(200 200 200)",Ko=$(function(e,r){return H(r,{aH:e})}),Ib={x:"",z:0,b:ua,n:!1,cY:0,cZ:"",c_:5,P:1,ap:q,ds:6},Nb=D(function(e,r,t){return Q(_(br,e.cp.I,e.cp.A,r),r)&&Q(_(br,e.cq.I,e.cq.A,t),t)}),vi=_m,qr=jm,Go=X(function(e,r,t,n){var a=qr(e/4)+r,s=a/2,o=a;return i(xe," ",b(["M"+(V(t-s)+(" "+V(n-o-s+r))),"v"+V(o-r),"h"+V(-o+r),"v"+V(o),"h"+V(o-r),"v"+V(o-r),"h"+V(o),"v"+V(-o+r),"h"+V(o-r),"v"+V(-o),"h"+V(-o+r),"v"+V(-o+r),"h"+V(-o),"v"+V(o-r)]))}),lc=function(e){return e*vi/180},qb=xm,Pb=X(function(e,r,t,n){var a=qr(e*4/qr(3))+r*qr(3),s=qr(3)*a/2,o=s-qb(lc(30))*a/2;return i(xe," ",b(["M"+(V(t)+(" "+V(n-o))),"l"+(V(-a/2)+(" "+V(s))),"h"+V(a),"z"]))}),Tb=qe(function(e,r,t,n,a){var s=t(a),o=i(Be,e,s),u=r(a),m=i(Ue,e,u),l=b([St(n.x===""?n.b:n.x),ot(V(n.z)),Kl(V(n.P)),Br(n.b),ye("elm-charts__dot"),n.n?cn(e):ye("")]),v=_(Nb,e,u,s)||n.n,c=n.cZ===""?n.b:n.cZ,p=b([St(c),ot(V(n.c_)),ns(V(n.cY)),Br("transparent"),ye("elm-charts__dot-highlight")]),f=D(function(k,x,d){return n.cY>0?i(er,b([ye("elm-charts__dot-container")]),b([i(k,F(d(x),p),S),i(k,F(d(0),l),S)])):i(k,F(d(0),l),S)}),g=2*vi*n.ds;if(v){var h=n.ap;if(h.$===1)return ma("");switch(h.a){case 0:return h.a,_(f,Gl,n.c_/2,function(k){var x=qr(g/vi);return b([Yl(V(m)),Xl(V(o)),Ql(V(x+k))])});case 1:return h.a,_(f,kt,n.c_,function(k){return b([Et(P(Pb,g,k,m,o))])});case 2:return h.a,_(f,va,n.c_,function(k){var x=qr(g),d=x+k;return b([mi(V(m-d/2)),la(V(o-d/2)),jt(V(d)),At(V(d))])});case 3:return h.a,_(f,va,n.c_,function(k){var x=qr(g),d=x+k;return b([mi(V(m-d/2)),la(V(o-d/2)),jt(V(d)),At(V(d)),ci("rotate(45 "+(V(m)+(" "+(V(o)+")"))))])});case 4:return h.a,_(f,kt,n.c_,function(k){return b([Et(P(Go,g,k,m,o)),ci("rotate(45 "+(V(m)+(" "+(V(o)+")"))))])});default:return h.a,_(f,kt,n.c_,function(k){return b([Et(P(Go,g,k,m,o))])})}}else return ma("")}),Mb=X(function(e,r,t,n){return P(Tb,e,r,t,i(vr,n,Ib))}),Rb="#EFF2FA",Fb={f:S,cD:!1,b:"rgb(210, 210, 210)",aH:S,g:!1,n:!1,P:1,dy:-90,dz:0,co:1,at:q,aD:q,dT:q,i:0,dU:q,bs:q,dV:q,j:0},Lb=Em,Na=Ve,qa=Oe,Ub=km,Bb=re("stroke-dasharray"),zb=$(function(e,r){var t=lc(r.dy),n=function(){var d=Ce(y(r.at,r.aD),y(r.dU,r.bs),y(r.dT,r.dV));if(d.a.a.$)if(d.a.b.$)if(d.b.a.$)if(d.b.b.$){var mo=d.a;mo.a,mo.b;var vo=d.b;return vo.a,vo.b,y(y(e.cp.I,e.cp.A),y(e.cq.I,e.cq.A))}else{var lo=d.a;lo.a,lo.b;var co=d.b;co.a;var w=co.b.a;return y(y(e.cp.I,e.cp.A),y(w,w))}else if(d.b.b.$){var oo=d.a;oo.a,oo.b;var uo=d.b,C=uo.a.a;return uo.b,y(y(e.cp.I,e.cp.A),y(C,C))}else{var io=d.a;io.a,io.b;var so=d.b,C=so.a.a,w=so.b.a;return y(y(e.cp.I,e.cp.I),y(C,w))}else if(d.b.a.$===1)if(d.b.b.$===1){var Vs=d.a;Vs.a;var w=Vs.b.a,Os=d.b;return Os.a,Os.b,y(y(w,w),y(e.cq.I,e.cq.A))}else if(d.c.a.$)if(d.c.b.$===1){var Rs=d.a;Rs.a;var C=Rs.b.a,Fs=d.b;Fs.a;var w=Fs.b.a,Ls=d.c;return Ls.a,Ls.b,y(y(C,e.cp.A),y(w,w))}else{var Us=d.a;Us.a;var C=Us.b.a,Bs=d.b;Bs.a;var w=Bs.b.a,zs=d.c;zs.a;var R=zs.b.a;return y(y(C,C),y(w,w+i(Oe,e,R)))}else if(d.c.b.$){var Ps=d.a;Ps.a;var C=Ps.b.a,Ts=d.b;Ts.a;var w=Ts.b.a,Ms=d.c,N=Ms.a.a;return Ms.b,y(y(C,C+i(Ve,e,N)),y(w,w))}else{var Is=d.a;Is.a;var C=Is.b.a,Ns=d.b;Ns.a;var w=Ns.b.a,qs=d.c,N=qs.a.a,R=qs.b.a;return y(y(C,C+i(Ve,e,N)),y(w,w+i(Oe,e,R)))}else if(d.b.b.$)if(d.c.a.$)if(d.c.b.$===1){var Zs=d.a;Zs.a;var C=Zs.b.a,eo=d.b,w=eo.a.a;eo.b;var ro=d.c;return ro.a,ro.b,y(y(C,e.cp.A),y(w,w))}else{var to=d.a;to.a;var C=to.b.a,no=d.b,w=no.a.a;no.b;var ao=d.c;ao.a;var R=ao.b.a;return y(y(C,C),y(w,w+i(Oe,e,R)))}else if(d.c.b.$){var Ys=d.a;Ys.a;var C=Ys.b.a,Xs=d.b,w=Xs.a.a;Xs.b;var Qs=d.c,N=Qs.a.a;return Qs.b,y(y(C,C+i(Ve,e,N)),y(w,w))}else{var Ws=d.a;Ws.a;var C=Ws.b.a,Ks=d.b,w=Ks.a.a;Ks.b;var Gs=d.c,N=Gs.a.a,R=Gs.b.a;return y(y(C,C+i(Ve,e,N)),y(w,w+i(Oe,e,R)))}else{var Hs=d.a;Hs.a;var ce=Hs.b.a,Js=d.b,C=Js.a.a,w=Js.b.a;return y(y(ce,ce),y(C,w))}else if(d.a.b.$)if(d.b.a.$===1)if(d.b.b.$===1){var E=d.a,C=E.a.a;E.b;var j=d.b;return j.a,j.b,y(y(C,C),y(e.cq.I,e.cq.A))}else if(d.c.a.$)if(d.c.b.$===1){var he=d.a,C=he.a.a;he.b;var We=d.b;We.a;var w=We.b.a,Ke=d.c;return Ke.a,Ke.b,y(y(C,e.cp.A),y(w,w))}else{var Se=d.a,C=Se.a.a;Se.b;var ue=d.b;ue.a;var w=ue.b.a,ge=d.c;ge.a;var R=ge.b.a;return y(y(C,C),y(w,w+i(Oe,e,R)))}else if(d.c.b.$){var ee=d.a,C=ee.a.a;ee.b;var G=d.b;G.a;var w=G.b.a,B=d.c,N=B.a.a;return B.b,y(y(C,C+i(Ve,e,N)),y(w,w))}else{var O=d.a,C=O.a.a;O.b;var I=d.b;I.a;var w=I.b.a,z=d.c,N=z.a.a,R=z.b.a;return y(y(C,C+i(Ve,e,N)),y(w,w+i(Oe,e,R)))}else if(d.b.b.$)if(d.c.a.$)if(d.c.b.$===1){var Cs=d.a,C=Cs.a.a;Cs.b;var ws=d.b,w=ws.a.a;ws.b;var Ds=d.c;return Ds.a,Ds.b,y(y(C,e.cp.A),y(w,w))}else{var Ss=d.a,C=Ss.a.a;Ss.b;var As=d.b,w=As.a.a;As.b;var js=d.c;js.a;var R=js.b.a;return y(y(C,C),y(w,w+i(Oe,e,R)))}else if(d.c.b.$){var Es=d.a,C=Es.a.a;Es.b;var ks=d.b,w=ks.a.a;ks.b;var xs=d.c,N=xs.a.a;return xs.b,y(y(C,C+i(Ve,e,N)),y(w,w))}else{var Sr=d.a,C=Sr.a.a;Sr.b;var Gr=d.b,w=Gr.a.a;Gr.b;var Vn=d.c,N=Vn.a.a,R=Vn.b.a;return y(y(C,C+i(Ve,e,N)),y(w,w+i(Oe,e,R)))}else{var Ge=d.a,ce=Ge.a.a;Ge.b;var tr=d.b,C=tr.a.a,w=tr.b.a;return y(y(ce,ce),y(C,w))}else if(d.b.a.$===1)if(d.b.b.$===1){var A=d.a,C=A.a.a,w=A.b.a,Z=d.b;return Z.a,Z.b,y(y(C,w),y(e.cq.I,e.cq.I))}else{var be=d.a,C=be.a.a,w=be.b.a,ie=d.b;ie.a;var ce=ie.b.a;return y(y(C,w),y(ce,ce))}else if(d.b.b.$===1){var Je=d.a,C=Je.a.a,w=Je.b.a,Pe=d.b,ce=Pe.a.a;return Pe.b,y(y(C,w),y(ce,ce))}else return y(y(i(oe,e.cp.I,r.at),i(oe,e.cp.A,r.aD)),y(i(oe,e.cq.I,r.dU),i(oe,e.cq.A,r.bs)))}(),a=n.a,s=a.a,o=a.b,u=n.b,m=u.a,l=u.b,v=s+i(Na,e,r.i),c=o+i(Na,e,r.i),p=m-i(qa,e,r.j),f=l-i(qa,e,r.j),g=r.dz>0?y(i(Na,e,Lb(t)*r.dz),i(qa,e,Ub(t)*r.dz)):y(0,0),h=g.a,k=g.b,x=r.g?F(r.dz>0?b([i(ze,c+h,f+k),i(M,c,f)]):b([i(ze,c,f)]),F(r.cD?b([i(M,c,p),i(M,v,p)]):b([i(M,v,p)]),r.dz>0?b([i(M,v+h,p+k)]):S)):F(r.dz>0?b([i(ze,v+h,p+k),i(M,v,p)]):b([i(ze,v,p)]),F(r.cD?b([i(M,v,f),i(M,c,f)]):b([i(M,c,f)]),r.dz>0?b([i(M,c+h,f+k)]):S));return P(ca,r.f,kt,b([ye("elm-charts__line"),Br("transparent"),St(r.b),ot(V(r.co)),ns(V(r.P)),Bb(i(xe," ",i(ae,V,r.aH))),Et(i(Wl,e,x)),r.n?cn(e):ye("")]),S)}),Yo=$(function(e,r){return i(zb,e,i(vr,r,Fb))}),Hb=$(function(e,r){return H(r,{ds:e})}),$i=$(function(e,r){return H(r,{co:e})}),Jb=$(function(e,r){return H(r,{at:J(e)})}),Wb=$(function(e,r){return H(r,{dU:J(e)})}),Kb=function(e){var r=i(vr,e,{b:"",aH:S,av:!1,co:0}),t=r.co?r.co:r.av?.5:1,n=Pt(r.b)?r.av?Ob:Rb:r.b,a=X(function(u,m,l,v){return i(Ht,l,u.aE)||i(Ht,v,u.aF)?q:J(T(Mb,m,function(c){return c.cp},function(c){return c.cq},b([yt(n),Hb(t),Vb]),{cp:l,cq:v}))}),s=D(function(u,m,l){return i(Ht,l,u.aE)?q:J(i(Yo,m,b([yt(n),$i(t),Jb(l),Ko(r.aH)])))}),o=D(function(u,m,l){return i(Ht,l,u.aF)?q:J(i(Yo,m,b([yt(n),$i(t),Wb(l),Ko(r.aH)])))});return jb($(function(u,m){return i(er,b([ye("elm-charts__grid")]),r.av?i(Tr,function(l){return i(xr,_(a,m,u,l),m.J)},m.C):b([i(er,b([ye("elm-charts__x-grid")]),i(xr,i(s,m,u),m.C)),i(er,b([ye("elm-charts__y-grid")]),i(xr,i(o,m,u),m.J))]))}))},Gb=yr(function(e,r,t,n,a,s){var o=$(function(u,m){var l=m.a,v=m.b,c=m.c;switch(u.$){case 0:return Ce(l,v,c);case 1:var h=u.d;return Ce(l,i(L,h(r),v),c);case 2:var h=u.e;return Ce(l,i(L,h(r),v),c);case 3:var h=u.b;return Ce(l,i(L,h(r),v),c);case 4:var h=u.b;return Ce(l,i(L,h(r),v),c);case 5:var h=u.b;return Ce(l,i(L,h(r),v),c);case 6:var p=u.a,h=u.c;return Ce(l,i(L,i(h,r,p(r)),v),c);case 7:var p=u.a,h=u.c;return Ce(l,i(L,i(h,r,p(r)),v),c);case 8:var p=u.a,h=u.c;return Ce(l,i(L,i(h,r,p(r)),v),c);case 9:var h=u.a;return Ce(l,i(L,i(h,r,t),v),c);case 10:var f=u.a;return _(cr,o,Ce(l,v,c),i(f,r,n));case 11:var g=u.a;return _(cr,o,Ce(l,v,c),g);case 12:var h=u.a;return Ce(l,i(L,h(r),v),c);default:var h=u.a;return Ce(Rr(v)>0?i(L,i(h,r,a),l):l,v,Rr(v)>0?c:i(L,i(h,r,a),c))}});return _(cr,o,Ce(S,S,S),s)}),Yb=$(function(e,r){var t=function(){var g=$(function(h,k){var x=k.a,d=k.b;switch(h.$){case 0:var A=h.a,C=A(d),w=C.a,Z=C.b;return y(F(x,b([w])),Z);case 11:var be=h.a;return _($e,g,y(x,d),be);default:return y(F(x,b([h])),d)}});return _($e,g,y(S,0),r).a}(),n=function(){var g=function(h){return h.$===9};return i(Ki,g,t)?t:i(L,Kb(S),t)}(),a=Db(n),s=i(vr,e,{f:b([rc("overflow: visible;")]),aZ:S,aL:S,bK:300,aM:S,af:{cC:0,c5:0,dn:0,dM:0},R:{cC:0,c5:0,dn:0,dM:0},bf:S,aR:!0,co:300}),o=i(Cb,s,n),u=i(wb,o,n),m=function(g){var h=g,k=h.cN,x=k;return i(ib,h.db,x(u))},l=_(Ab,o,u,n),v=ur(Gb,s,o,l,u,a,n),c=v.a,p=v.b,f=v.c;return T(kb,o,{f:s.f,aL:i(ae,m,s.aL),aM:s.aM,aR:s.aR},c,p,f)}),Xb=$(function(e,r){return H(r,{aZ:e})}),Xo=D(function(e,r,t){return e}),Qb=$(function(e,r){return H(r,{F:J(e)})}),Zb=$(function(e,r){return H(r,{bK:e})}),eh=D(function(e,r,t){return H(t,{A:_(r,e,t.A,t.cJ)})}),Qo=$(function(e,r){return H(r,{af:e})}),rh=$(function(e,r){return H(r,{j:r.j+e})}),th=function(e){if(e.$===1){var r=e.a;return J(r)}else return q},nh=$(function(e,r){return H(r,{P:e})}),ah="resultats . bilan total",ih=function(e){return H(e,{h:!0})},sh={$:0},oh=D(function(e,r,t){return{$:7,a:e,b:r,c:t}}),Zo=D(function(e,r,t){return e(r(t))}),uh=function(e){return{$:1,a:e}},cc=uh,lh=$(function(e,r){return e*ha(r/e)}),xn=Am,ch=$(function(e,r){var t=e/r;return Q(t,xn(t))?e:i(lh,r,e)}),mc=function(e){return i(He,ai(e),i(He,Il,oe(0)))},ka=$(function(e,r){return _(cr,$(function(t,n){return e(t)?i(L,t,n):n}),S,r)}),mh=D(function(e,r,t){var n=b(t?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10]);return r?n:e===1?i(ka,function(a){return Q(xn(a),a)},n):e<=.1?b([1/e]):n}),fi=function(e){var r=i(Mr,"e",V(e));if(r.b&&r.b.b&&!r.b.b.b){r.a;var t=r.b,n=t.a;return Lr(i(oe,0,Hi(n)))}else{var a=i(Mr,".",V(e));if(a.b&&a.b.b&&!a.b.b.b){a.a;var s=a.b,n=s.a;return Te(n)}else return 0}},eu=ym,vh=hm,$h=function(e){return i(vh,10,pn(i(ta,eu,e)/i(ta,eu,10)))},fh=D(function(e,r,t){var n=$h(e),a=_(mh,n,r,t),s=e/n,o=function(v){e:for(;;)if(v.b){var c=v.a,p=v.b;if(ne(c*n,e)>-1)return c;var f=p;v=f;continue e}else return 1},u=function(v){e:for(;;)if(v.b)if(v.b.b){var c=v.a,p=v.b,f=p.a,g=p.b;if(ne(s,(c+f)/2)<1)return c;var h=i(L,f,g);v=h;continue e}else{var c=v.a,g=v.b;if(ne(s,c)<1)return c;var h=g;v=h;continue e}else return 1},m=t?o(a):u(a),l=fi(n)+fi(m);return i(mc,l,m*n)}),dh=qe(function(e,r,t,n,a){e:for(;;){var s=i(mc,fi(t),r+n*t);if(ne(s,e.A)>0)return a;var o=e,u=r,m=t,l=n+1,v=F(a,b([s]));e=o,r=u,t=m,n=l,a=v;continue e}}),$a=X(function(e,r,t,n){var a=(n.A-n.I)/t,s=_(fh,a,e,r),o=s||1,u=i(ch,n.I,o);return T(dh,n,u,o,0,S)}),ph=function(e){if(e.$){var r=e.a;return _($a,!0,!1,r)}else{var r=e.a;return _($a,!0,!0,r)}},bh=$(function(e,r){return i(ph,cc(e),{A:r.A,I:r.I})}),hh=bh,gh=yr(function(e,r,t,n,a,s){return{dC:a,dG:r,dH:e,ar:s,dK:n,dL:t}}),_h=function(e){return e>11?"pm":"am"},ru=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";default:return"December"}},Ee=gm,yh=function(e){var r=i(Ee,100,e);switch(r){case 11:return"th";case 12:return"th";case 13:return"th";default:var t=i(Ee,10,e);switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},tu=function(e){switch(e){case 0:return"Monday";case 1:return"Tuesday";case 2:return"Wednesday";case 3:return"Thursday";case 4:return"Friday";case 5:return"Saturday";default:return"Sunday"}},Eh=ur(gh,ru,i(He,ru,Ct(3)),tu,i(He,tu,Ct(3)),_h,yh),Cn=$(function(e,r){return pn(e/r)}),$t=function(e){var r=e;return r},kh=D(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b;if(ne(n.bp,r)<0)return r+n.c;var s=e,o=r,u=a;e=s,r=o,t=u;continue e}else return r+e}),Mt=$(function(e,r){var t=e.a,n=e.b;return _(kh,t,i(Cn,$t(r),6e4),n)}),Qe=$(function(e,r){return i(Ee,24,i(Cn,i(Mt,e,r),60))}),nu=D(function(e,r,t){return e.dC(i(Qe,r,t))}),is=function(e){var r=i(Cn,e,1440)+719468,t=(r>=0?r:r-146096)/146097|0,n=r-t*146097,a=(n-(n/1460|0)+(n/36524|0)-(n/146096|0))/365|0,s=n-(365*a+(a/4|0)-(a/100|0)),o=(5*s+2)/153|0,u=o+(o<10?3:-9),m=a+t*400;return{bA:s-((153*o+2)/5|0)+1,bX:u,cr:m+(u<=2?1:0)}},ss=$(function(e,r){return is(i(Mt,e,r)).bA}),Hn=ss,xh=b([6,0,1,2,3,4,5]),di=$(function(e,r){var t=i(Ee,7,i(Cn,i(Mt,e,r),1440));switch(t){case 0:return 3;case 1:return 4;case 2:return 5;case 3:return 6;case 4:return 0;case 5:return 1;default:return 2}}),pi=$(function(e,r){return function(t){var n=t.a;return n}(i(oe,y(0,6),wt(i(ka,function(t){var n=t.b;return Q(n,i(di,e,r))},i(pr,$(function(t,n){return y(t,n)}),xh)))))}),Ch=function(e){return i(Ee,4,e)?!1:i(Ee,100,e)?!0:!i(Ee,400,e)},wh=$(function(e,r){switch(r){case 0:return 31;case 1:return Ch(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),vc=b([0,1,2,3,4,5,6,7,8,9,10,11]),mn=$(function(e,r){var t=is(i(Mt,e,r)).bX;switch(t){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}}),Dh=$(function(e,r){return i(oe,y(0,0),wt(i(ka,function(t){t.a;var n=t.b;return Q(n,i(mn,e,r))},i(pr,$(function(t,n){return y(t,n)}),vc))))}),en=$(function(e,r){return 1+function(t){var n=t.a;return t.b,n}(i(Dh,e,r))}),Sh=function(e){return _($e,p$,0,e)},Ah=D(function(e,r,t){e:for(;;){if(e<=0)return t;if(r.b){var n=r.a,a=r.b,s=e-1,o=a,u=i(L,n,t);e=s,r=o,t=u;continue e}else return t}}),jh=$(function(e,r){return Re(_(Ah,e,r,S))}),$c=D(function(e,r,t){if(r<=0)return S;var n=y(r,t);e:for(;;){r:for(;;)if(n.b.b)if(n.b.b.b)switch(n.a){case 1:break e;case 2:var a=n.b,d=a.a,s=a.b,o=s.a;return b([d,o]);case 3:if(n.b.b.b.b){var u=n.b,d=u.a,m=u.b,o=m.a,l=m.b,v=l.a;return b([d,o,v])}else break r;default:if(n.b.b.b.b&&n.b.b.b.b.b){var c=n.b,d=c.a,p=c.b,o=p.a,f=p.b,v=f.a,g=f.b,h=g.a,k=g.b;return e>1e3?i(L,d,i(L,o,i(L,v,i(L,h,i(jh,r-4,k))))):i(L,d,i(L,o,i(L,v,i(L,h,_($c,e+1,r-4,k)))))}else break r}else{if(n.a===1)break e;break r}else return t;return t}var x=n.b,d=x.a;return b([d])}),Vh=$(function(e,r){return _($c,0,e,r)}),wn=$(function(e,r){return is(i(Mt,e,r)).cr}),Jn=$(function(e,r){var t=i(Vh,i(en,e,r)-1,vc),n=Sh(i(ae,wh(i(wn,e,r)),t));return n+i(Hn,e,r)}),au=$(function(e,r){return i(en,e,r)/4|0}),$r=$(function(e,r){var t=se(r),n=e-Te(t),a=i(xe,"",i(ae,function(s){return"0"},i(Bi,1,n)));return F(a,t)}),Oh=Um,fa=$(function(e,r){return i(Ee,1e3,$t(r))}),Vt=$(function(e,r){return i(Ee,60,i(Mt,e,r))}),iu=function(e){return e?e<=12?e:e-12:12},vn=$(function(e,r){return i(Ee,60,i(Cn,$t(r),1e3))}),xt=gr,Ih=xn(1e3*60*60*24*365.25),Nh=$(function(e,r){return xt(Ih*i(wn,e,r))}),Pa=$(function(e,r){var t=i(Nh,e,r),n=i(pi,e,t),a=i(Jn,e,r);return((a+n)/7|0)+1}),su=$(function(e,r){return se(i(wn,e,r))}),qh=X(function(e,r,t,n){switch(n.$){case 0:return se(i(en,r,t));case 1:return function(s){return F(se(s),e.ar(s))}(i(en,r,t));case 2:return i($r,2,i(en,r,t));case 3:return e.dG(i(mn,r,t));case 4:return e.dH(i(mn,r,t));case 17:return se(1+i(au,r,t));case 18:return function(s){return F(se(s),e.ar(s))}(1+i(au,r,t));case 5:return se(i(Hn,r,t));case 6:return function(s){return F(se(s),e.ar(s))}(i(Hn,r,t));case 7:return i($r,2,i(Hn,r,t));case 8:return se(i(Jn,r,t));case 9:return function(s){return F(se(s),e.ar(s))}(i(Jn,r,t));case 10:return i($r,3,i(Jn,r,t));case 11:return se(i(pi,r,t));case 12:return function(s){return F(se(s),e.ar(s))}(i(pi,r,t));case 13:return e.dK(i(di,r,t));case 14:return e.dL(i(di,r,t));case 19:return se(i(Pa,r,t));case 20:return function(s){return F(se(s),e.ar(s))}(i(Pa,r,t));case 21:return i($r,2,i(Pa,r,t));case 15:return i(un,2,i(su,r,t));case 16:return i(su,r,t);case 22:return El(_(nu,e,r,t));case 23:return Oh(_(nu,e,r,t));case 24:return se(i(Qe,r,t));case 25:return i($r,2,i(Qe,r,t));case 26:return se(iu(i(Qe,r,t)));case 27:return i($r,2,iu(i(Qe,r,t)));case 28:return se(1+i(Qe,r,t));case 29:return i($r,2,1+i(Qe,r,t));case 30:return se(i(Vt,r,t));case 31:return i($r,2,i(Vt,r,t));case 32:return se(i(vn,r,t));case 33:return i($r,2,i(vn,r,t));case 34:return se(i(fa,r,t));case 35:return i($r,3,i(fa,r,t));default:var a=n.a;return a}}),Ph=X(function(e,r,t,n){return i(xe,"",i(ae,_(qh,e,t,n),r))}),ft=Ph(Eh),Th={$:25},os=Th,Mh={$:31},us=Mh,Rh=function(e){return{$:36,a:e}},rt=Rh,ou=ft(b([os,rt(":"),us])),Fh={$:35},Lh=Fh,Uh={$:33},fc=Uh,Bh=ft(b([os,rt(":"),us,rt(":"),fc,rt(":"),Lh])),zh=ft(b([os,rt(":"),us,rt(":"),fc])),Hh={$:5},Jh=Hh,Wh={$:0},Kh=Wh,Gh=ft(b([Kh,rt("/"),Jh])),Yh={$:3},Xh=Yh,Qh=ft(b([Xh])),Zh={$:14},e0=Zh,r0=ft(b([e0])),t0={$:16},n0=t0,a0=ft(b([n0])),i0=$(function(e,r){var t=i(oe,r.dN,r.cF);switch(t){case 0:return i(Bh,e,r.dA);case 1:return i(zh,e,r.dA);case 2:return i(ou,e,r.dA);case 3:return i(ou,e,r.dA);case 4:return r.da===7?i(r0,e,r.dA):i(Gh,e,r.dA);case 5:return i(Qh,e,r.dA);default:return i(a0,e,r.dA)}}),s0=i0,o0=D(function(e,r,t){var n=r;return i(n,e,t)}),Ta=o0,u0=$(function(e,r){return i(ae,xn,function(){if(e.$){var t=e.a;return P($a,!1,!1,t,r)}else{var t=e.a;return P($a,!1,!0,t,r)}}())}),l0=$(function(e,r){return i(u0,cc(e),{A:r.A,I:r.I})}),c0=l0,dc=function(e){return!i(Ee,4,e)&&!!i(Ee,100,e)||!i(Ee,400,e)},ls=$(function(e,r){var t=dc(e)?1:0;switch(r){case 0:return 0;case 1:return 31;case 2:return 59+t;case 3:return 90+t;case 4:return 120+t;case 5:return 151+t;case 6:return 181+t;case 7:return 212+t;case 8:return 243+t;case 9:return 273+t;case 10:return 304+t;default:return 334+t}}),rn=$(function(e,r){return pn(e/r)}),Dn=function(e){var r=e-1,t=i(rn,r,4)-i(rn,r,100)+i(rn,r,400);return 365*r+t},cs=$(function(e,r){switch(r){case 0:return 31;case 1:return dc(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),ms=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}},vs=function(e){var r=i(Ne,1,e);switch(r){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}},m0=D(function(e,r,t){e:for(;;){var n=i(cs,e,r),a=ms(r);if(a<12&&ne(t,n)>0){var s=e,o=vs(a+1),u=t-n;e=s,r=o,t=u;continue e}else return{bA:t,bX:r,cr:e}}}),qn=$(function(e,r){return y(i(rn,e,r),i(Ee,r,e))}),Wn=function(e){var r=e,t=i(qn,r,146097),n=t.a,a=t.b,s=i(qn,a,36524),o=s.a,u=s.b,m=i(qn,u,1461),l=m.a,v=m.b,c=i(qn,v,365),p=c.a,f=c.b,g=f?1:0;return n*400+o*100+l*4+p+g},v0=function(e){var r=e,t=Wn(r);return{bd:r-Dn(t),cr:t}},pc=function(e){var r=e,t=v0(r);return _(m0,t.cr,0,t.bd)},bi=D(function(e,r,t){var n=t;switch(e){case 0:return _(bi,1,12*r,n);case 1:var a=pc(n),s=12*(a.cr-1)+(ms(a.bX)-1)+r,o=vs(i(Ee,12,s)+1),u=i(rn,s,12)+1;return Dn(u)+i(ls,u,o)+i(Ur,a.bA,i(cs,u,o));case 2:return n+7*r;default:return n+r}}),bc=D(function(e,r,t){return Dn(e)+i(ls,e,r)+_(br,1,i(cs,e,r),t)}),tt=$(function(e,r){return _(bc,i(wn,e,r),i(mn,e,r),i(ss,e,r))}),$0=function(e){var r=e;return r},hc=function(e){var r=$0(e)-719163;return r*864e5},tn=X(function(e,r,t,n){return e*36e5+r*6e4+t*1e3+n}),hi=$(function(e,r){return P(tn,i(Qe,e,r),i(Vt,e,r),i(vn,e,r),i(fa,e,r))}),Ma=$(function(e,r){var t=$t(r),n=hc(i(tt,e,r))+i(hi,e,r);return(n-t)/6e4|0}),nt=D(function(e,r,t){var n=hc(r)+t,a=i(Ma,e,xt(n)),s=xt(n-a*6e4),o=i(Ma,e,s);if(Q(a,o))return s;var u=xt(n-o*6e4),m=i(Ma,e,u);return Q(o,m)?u:s}),ut=X(function(e,r,t,n){e:for(;;)switch(e){case 15:return xt($t(n)+r);case 14:var a=15,s=r*1e3,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 13:var a=15,s=r*6e4,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 12:var a=15,s=r*36e5,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 11:return _(nt,t,_(bi,3,r,i(tt,t,n)),i(hi,t,n));case 2:return _(nt,t,_(bi,1,r,i(tt,t,n)),i(hi,t,n));case 0:var a=2,s=r*12,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 1:var a=2,s=r*3,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 3:var a=11,s=r*7,o=t,u=n;e=a,r=s,t=o,n=u;continue e;default:var a=11,s=r*7,o=t,u=n;e=a,r=s,t=o,n=u;continue e}}),f0=function(e){var r=e,t=i(Ee,7,r);if(t){var n=t;return n}else return 7},d0=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;default:return 7}},Ar=$(function(e,r){return i(Ee,7,f0(r)+7-d0(e))}),uu=$(function(e,r){return Dn(e)+i(ls,e,r)+1}),p0=function(e){return Dn(e)+1},gc=i(He,pc,function(e){return e.bX}),b0=function(e){return(ms(e)+2)/3|0},h0=i(He,gc,b0),g0=function(e){return vs(e*3-2)},_0=$(function(e,r){var t=r;switch(e){case 0:return p0(Wn(r));case 1:return i(uu,Wn(r),g0(h0(r)));case 2:return i(uu,Wn(r),gc(r));case 3:return t-i(Ar,0,r);case 4:return t-i(Ar,0,r);case 5:return t-i(Ar,1,r);case 6:return t-i(Ar,2,r);case 7:return t-i(Ar,3,r);case 8:return t-i(Ar,4,r);case 9:return t-i(Ar,5,r);case 10:return t-i(Ar,6,r);default:return r}}),Ye=D(function(e,r,t){return _(nt,r,i(_0,e,i(tt,r,t)),0)}),y0=D(function(e,r,t){switch(e){case 15:return t;case 14:return _(nt,r,i(tt,r,t),P(tn,i(Qe,r,t),i(Vt,r,t),i(vn,r,t),0));case 13:return _(nt,r,i(tt,r,t),P(tn,i(Qe,r,t),i(Vt,r,t),0,0));case 12:return _(nt,r,i(tt,r,t),P(tn,i(Qe,r,t),0,0,0));case 11:return _(Ye,11,r,t);case 2:return _(Ye,2,r,t);case 0:return _(Ye,0,r,t);case 1:return _(Ye,1,r,t);case 3:return _(Ye,3,r,t);case 4:return _(Ye,4,r,t);case 5:return _(Ye,5,r,t);case 6:return _(Ye,6,r,t);case 7:return _(Ye,7,r,t);case 8:return _(Ye,8,r,t);case 9:return _(Ye,9,r,t);default:return _(Ye,10,r,t)}}),lt=D(function(e,r,t){var n=_(y0,e,r,t);return Q(n,t)?t:P(ut,e,1,r,n)}),E0=D(function(e,r,t){return r===7?_(lt,3,e,t):_(lt,11,e,t)}),Rt=$(function(e,r){var t=r.cr,n=r.bX,a=r.bA,s=r.a_,o=r.a8,u=r.bh,m=r.a7;return _(nt,e,_(bc,t,n,a),P(tn,_(br,0,23,s),_(br,0,59,o),_(br,0,59,u),_(br,0,999,m)))}),Ze=$(function(e,r){return{bA:i(ss,e,r),a_:i(Qe,e,r),a7:i(fa,e,r),a8:i(Vt,e,r),bX:i(mn,e,r),bh:i(vn,e,r),cr:i(wn,e,r)}}),k0=D(function(e,r,t){var n=i(Ze,e,_(lt,12,e,t)),a=n.a_%r,s=i(Rt,e,n);return a?P(ut,12,r-a,e,s):s}),x0=D(function(e,r,t){var n=i(Ze,e,_(lt,13,e,t)),a=n.a8%r,s=i(Rt,e,n);return a?P(ut,13,r-a,e,s):s}),lu=function(e){switch(e){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;case 12:return 11;default:return 11}},Kn=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}},C0=D(function(e,r,t){var n=i(Ze,e,_(lt,2,e,t)),a=Kn(n.bX),s=(a-1)%r,o=s?a-s+r:a;return i(Rt,e,o>12?H(n,{bX:lu(o-12),cr:n.cr+1}):H(n,{bX:lu(o)}))}),w0=D(function(e,r,t){var n=i(Ze,e,t),a=n.a7%r;return a?P(ut,15,r-a,e,t):i(Rt,e,n)}),D0=D(function(e,r,t){var n=i(Ze,e,_(lt,14,e,t)),a=n.bh%r,s=i(Rt,e,n);return a?P(ut,14,r-a,e,s):s}),S0=D(function(e,r,t){var n=i(Ze,e,_(lt,0,e,t)),a=n.cr%r,s=a?n.cr-a+r:n.cr;return i(Rt,e,H(n,{cr:s}))}),gi=D(function(e,r,t){switch(r){case 0:return i(w0,e,t);case 1:return i(D0,e,t);case 2:return i(x0,e,t);case 3:return i(k0,e,t);case 4:return i(E0,e,t);case 5:return i(C0,e,t);default:return i(S0,e,t)}}),A0=D(function(e,r,t){var n=i(Ze,e,t),a=i(Ze,e,r);return Q(a.cr,n.cr)?Q(a.bX,n.bX)?Q(a.bA,n.bA)?Q(a.a_,n.a_)?Q(a.a8,n.a8)?Q(a.bh,n.bh)?0:1:2:3:4:5:6}),j0=function(e){return!i(Ee,400,e)||!!i(Ee,100,e)&&!i(Ee,4,e)},V0=$(function(e,r){switch(r){case 0:return 31;case 1:return j0(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),O0=V0,jr=$t,I0=D(function(e,r,t){var n=ne(jr(r),jr(t))<0?y(i(Ze,e,r),i(Ze,e,t)):y(i(Ze,e,t),i(Ze,e,r)),a=n.a,s=n.b,o=s.a7-a.a7,u=o<0?1e3+o:o,m=s.bh-a.bh+(o<0?-1:0),l=s.a8-a.a8+(m<0?-1:0),v=s.a_-a.a_+(l<0?-1:0),c=s.bA-a.bA+(v<0?-1:0),p=c<0?i(O0,s.cr,s.bX)+c:c,f=Kn(s.bX)-Kn(a.bX)+(c<0?-1:0),g=f<0?12+f:f,h=v<0?24+v:v,k=l<0?60+l:l,x=m<0?60+m:m,d=s.cr-a.cr+(f<0?-1:0),A=d<0?Kn(s.bX)+d:d;return{bA:p,a_:h,a7:u,a8:k,bX:g,bh:x,cr:A}}),_c=1e3,yc=_c*60,Ec=yc*60,N0=Ec*24,q0=1,kc=qe(function(e,r,t,n,a){var s=$(function(m,l){return pn(m/l)}),o=function(m){var l=P(gi,e,r,t,n);return ne(jr(l),jr(a))>0?-1:i(s,i(s,jr(a)-jr(l),m),t)},u=function(m){var l=P(gi,e,r,t,n);return ne(jr(l),jr(a))>0?-1:i(s,m(_(I0,e,l,a)),t)};switch(r){case 0:return o(q0)+1;case 1:return o(_c)+1;case 2:return o(yc)+1;case 3:return o(Ec)+1;case 4:return o(N0)+1;case 5:return u(function(m){return m.bX+m.cr*12})+1;default:return u(function(m){return m.cr})+1}}),P0=function(e){switch(e){case 0:return J(1);case 1:return J(2);case 2:return J(3);case 3:return J(4);case 4:return J(5);case 5:return J(6);default:return q}},T0=function(e){switch(e){case 0:return b([1,2,5,10,20,25,50,100,200,500]);case 1:return b([1,2,5,10,15,30]);case 2:return b([1,2,5,10,15,30]);case 3:return b([1,2,3,4,6,8,12]);case 4:return b([1,2,3,7,14]);case 5:return b([1,2,3,4,6]);default:return b([1,2,5,10,20,25,50,100,200,500,1e3,1e4,1e6,1e7])}},M0=X(function(e,r,t,n){var a=function(s){e:for(;;){var o=T0(s),u=i(ka,function(f){return ne(T(kc,e,s,f,t,n),r)<1},o);$(function(f,g){return ha(f/g)});var m=wt(u);if(m.$){var v=P0(s);if(v.$)return y(6,1e8);var c=v.a,p=c;s=p;continue e}else{var l=m.a;return y(s,l)}}};return a(0)}),R0=function(e){switch(e){case 0:return 15;case 1:return 14;case 2:return 13;case 3:return 12;case 4:return 11;case 5:return 2;default:return 0}},cu=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return 6}},F0=X(function(e,r,t,n){var a=P(M0,e,r,t,n),s=a.a,o=a.b,u=T(kc,e,s,o,t,n),m=P(gi,e,s,o,t),l=R0(s),v=D(function(p,f,g){return{cF:ne(cu(g),cu(s))>0?J(g):q,a5:!p,da:o,dA:f,dN:s,bt:e}}),c=$(function(p,f){e:for(;;)if(p.b){var g=p.a,h=p.b,k=P(ut,l,(g-1)*o,e,m),x=P(ut,l,g*o,e,m),d=_(A0,e,k,x),A=h,C=i(L,_(v,g,x,d),f);p=A,f=C;continue e}else return f});return Re(i(c,i(Bi,0,u-1),S))}),L0=D(function(e,r,t){var n=function(o){switch(o){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return 6}},a=function(o){return{cF:i(Fr,n,o.cF),a5:o.a5,da:o.da,dA:o.dA,dN:n(o.dN),bt:o.bt}},s=function(o){return xt(xn(o))};return i(ae,a,P(F0,e,r,s(t.I),s(t.A)))}),U0=function(e){return $(function(r,t){return _(L0,e,r,{A:t.A,I:t.I})})},B0=U0,z0=X(function(e,r,t,n){var a=$(function(o,u){return ae(function(m){return{aN:function(){if(t.$)return u(m);var l=t.a;return l(o(m))}(),V:o(m)}})});switch(r.$){case 0:return _(a,gr,V,_(Ta,e,hh,n));case 1:return _(a,ko,se,_(Ta,e,c0,n));default:var s=r.a;return _(a,i(Zo,i(Zo,ko,$t),function(o){return o.dA}),s0(s),_(Ta,e,B0(s),n))}}),H0=function(e){return _(br,e.I,e.A,0)},J0=function(e){var r=$(function(a,s){return P(z0,s.K,s.M,s.F,_($e,$(function(o,u){return o(u)}),a.cq,s.w))}),t=D(function(a,s,o){return s.h?H(o,{J:F(o.J,i(ae,function(u){return u.V},i(r,a,s)))}):o}),n=function(a){return i(vr,e,{K:5,k:q,f:S,b:"#808BAB",l:q,g:!1,m:q,F:q,M:sh,h:!1,n:!1,w:S,p:H0,q:0,s:!1,i:-10,j:3})};return _(oh,n,t,$(function(a,s){var o=Le,u=function(m){return P(tc,a,H(o,{k:function(){var l=s.k;if(l.$===1)return J(s.g?1:0);var v=l.a;return J(v)}(),f:s.f,b:s.b,l:s.l,m:s.m,n:s.n,q:s.q,s:s.s,i:s.g?-s.i:s.i,j:s.j}),b([ma(m.aN)]),{cp:s.p(a.cp),cq:m.V})};return i(er,b([ye("elm-charts__y-labels")]),i(ae,u,i(r,a,s)))}))},W0=Ul,K0=function(e){var r=i(oe,0,i(Fo,function(n){var a=n.ag;return th(a)},i(_r,ah,e.T))),t=i(xr,function(n){return i(Fo,function(a){var s=a.ag;if(s.$===1){var o=s.a;return J({bx:n,ag:o/r*100})}else return q},i(_r,n,e.T))},e.aG);return i(ve,b([W("card shadow p-4 mt-8 bg-base-100")]),b([i(yl,b([W("text-2xl font-bold")]),b([De("Graphique")])),i(ve,b([W("divider")]),S),i(Yb,b([$i(800),Zb(800),Qo({cC:40,c5:40,dn:40,dM:40}),Xb(b([i(uc,0,Xo),i(eh,100,Xo)]))]),b([J0(b([ih,Qb(function(n){return V(n)+" %"})])),i(ab,function(n){return n.bx},b([rh(30)])),_(Pp,b([Zi(.25),Qo(.25)]),b([i(Ad,function(n){return n.ag},b([yt(W0),nh(.8)]))]),t)]))]))},G0=Ae("a"),Y0=Ae("header"),X0=function(e){return i(vt,"href",Hv(e))},Q0=Ae("img"),Z0=Ae("p"),eg=function(e){return i(vt,"src",Uu(e))},rg=vt("target"),tg=i(Y0,S,b([i(ve,b([W("flex items-center justify-between w-full p-2 mb-4 border-b-2 border-primary")]),b([i(ve,b([W("flex items-center")]),b([i(Q0,b([eg("/src/assets/mimosa-svgrepo-com.svg"),W("w-10 h-10")]),S),i(Z0,b([W("text-3xl font-bold text-black ml-2")]),b([De("Mimozo")]))])),i(G0,b([W("text-neutral"),X0("https://github.com/ecofest/publicodes-evenements"),rg("_blank")]),b([De("Consulter le modÃ¨le de calcul â§")]))]))])),ng=$(function(e,r){var t=i(_r,r,e.Z);if(t.$)return r;var n=t.a;return i(oe,r,n.dB)}),ag="resultats",ig=function(e){if(e.$)return De("Calcul en cours");var r=e.a.ag;return De(ii(r))},sg=function(e){return De(" "+i(oe,"",e.dN))},og=re("stroke-linecap"),ug=re("stroke-linejoin"),lg=i(sc,b([Br("none"),oc("0 0 24 24"),ye("inline-block w-8 h-8 stroke-current")]),b([i(kt,b([og("round"),ug("round"),ot("2"),Et("M13 10V3L4 14h7v7l9-11h-7z")]),S)])),cg=function(e){var r=i(xr,function(t){var n=t.a,a=t.b,s=ll(n);if(s.b&&s.b.b&&!s.b.b.b){var o=s.a;return s.b,Q(o,ag)?J(y(n,a)):q}else return q},it(e.Z));return i(ve,b([W("stats stats-vertical shadow border-1 w-full")]),i(ae,function(t){var n=t.a,a=t.b;return i(ve,b([W("stat")]),b([i(ve,b([W("stat-figure text-primary")]),b([lg])),i(ve,b([W("stat-title")]),b([De(i(ng,e,n))])),i(ve,b([W("stat-value text-primary")]),b([ig(i(_r,n,e.T))])),i(ve,b([W("stat-desc text-secondary")]),b([sg(a)]))]))},r))},mg=function(e){return i(ve,S,b([tg,Bf(e.Z)?i(ve,b([W("prose")]),b([De("Chargement...")])):i(ve,b([W("grid grid-cols-3")]),b([i(ve,b([W("pl-8 pr-4 pb-4 col-span-2 overflow-y-auto h-[96vh]")]),b([i(Oa,wd,e)])),i(ve,b([W("flex flex-col pr-8 pl-4 col-span-1")]),b([i(Oa,cg,e),i(Oa,K0,e)]))]))]))},vg=J$({c1:Cf,dw:If,dO:Uf,dQ:mg});const $g={Main:{init:vg(sn)(0)}};var fg=Object.create,$s=Object.defineProperty,dg=Object.getOwnPropertyDescriptor,xc=Object.getOwnPropertyNames,pg=Object.getPrototypeOf,bg=Object.prototype.hasOwnProperty,Cc=(e,r)=>function(){return r||(0,e[xc(e)[0]])((r={exports:{}}).exports,r),r.exports},hg=(e,r)=>{for(var t in r)$s(e,t,{get:r[t],enumerable:!0})},gg=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of xc(r))!bg.call(e,a)&&a!==t&&$s(e,a,{get:()=>r[a],enumerable:!(n=dg(r,a))||n.enumerable});return e},wc=(e,r,t)=>(t=e!=null?fg(pg(e)):{},gg(r||!e||!e.__esModule?$s(t,"default",{value:e,enumerable:!0}):t,e)),_g=Cc({"../../node_modules/nearley/lib/nearley.js"(e,r){(function(t,n){typeof r=="object"&&r.exports?r.exports=n():t.nearley=n()})(e,function(){function t(v,c,p){return this.id=++t.highestId,this.name=v,this.symbols=c,this.postprocess=p,this}t.highestId=0,t.prototype.toString=function(v){var c=typeof v>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,v).map(l).join(" ")+" â "+this.symbols.slice(v).map(l).join(" ");return this.name+" â "+c};function n(v,c,p,f){this.rule=v,this.dot=c,this.reference=p,this.data=[],this.wantedBy=f,this.isComplete=this.dot===v.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(v){var c=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=v,c.isComplete&&(c.data=c.build(),c.right=void 0),c},n.prototype.build=function(){var v=[],c=this;do v.push(c.right.data),c=c.left;while(c.left);return v.reverse(),v},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,u.fail))};function a(v,c){this.grammar=v,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}a.prototype.process=function(v){for(var c=this.states,p=this.wants,f=this.completed,g=0;g<c.length;g++){var h=c[g];if(h.isComplete){if(h.finish(),h.data!==u.fail){for(var k=h.wantedBy,x=k.length;x--;){var d=k[x];this.complete(d,h)}if(h.reference===this.index){var A=h.rule.name;(this.completed[A]=this.completed[A]||[]).push(h)}}}else{var A=h.rule.symbols[h.dot];if(typeof A!="string"){this.scannable.push(h);continue}if(p[A]){if(p[A].push(h),f.hasOwnProperty(A))for(var C=f[A],x=0;x<C.length;x++){var w=C[x];this.complete(h,w)}}else p[A]=[h],this.predict(A)}}},a.prototype.predict=function(v){for(var c=this.grammar.byName[v]||[],p=0;p<c.length;p++){var f=c[p],g=this.wants[v],h=new n(f,0,this.index,g);this.states.push(h)}},a.prototype.complete=function(v,c){var p=v.nextState(c);this.states.push(p)};function s(v,c){this.rules=v,this.start=c||this.rules[0].name;var p=this.byName={};this.rules.forEach(function(f){p.hasOwnProperty(f.name)||(p[f.name]=[]),p[f.name].push(f)})}s.fromCompiled=function(f,c){var p=f.Lexer;f.ParserStart&&(c=f.ParserStart,f=f.ParserRules);var f=f.map(function(h){return new t(h.name,h.symbols,h.postprocess)}),g=new s(f,c);return g.lexer=p,g};function o(){this.reset("")}o.prototype.reset=function(v,c){this.buffer=v,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var v=this.buffer[this.index++];return v===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:v}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(v,c){var p=this.buffer;if(typeof p=="string"){var f=p.split(`
`).slice(Math.max(0,this.line-5),this.line),g=p.indexOf(`
`,this.index);g===-1&&(g=p.length);var h=this.index-this.lastLineBreak,k=String(this.line).length;return c+=" at line "+this.line+" col "+h+`:

`,c+=f.map(function(d,A){return x(this.line-f.length+A+1,k)+" "+d},this).join(`
`),c+=`
`+x("",k+h)+`^
`,c}else return c+" at index "+(this.index-1);function x(d,A){var C=String(d);return Array(A-C.length+1).join(" ")+C}};function u(v,c,p){if(v instanceof s)var f=v,p=c;else var f=s.fromCompiled(v,c);this.grammar=f,this.options={keepHistory:!1,lexer:f.lexer||new o};for(var g in p||{})this.options[g]=p[g];this.lexer=this.options.lexer,this.lexerState=void 0;var h=new a(f,0);this.table=[h],h.wants[f.start]=[],h.predict(f.start),h.process(),this.current=0}u.fail={},u.prototype.feed=function(v){var c=this.lexer;c.reset(v,this.lexerState);for(var p;;){try{if(p=c.next(),!p)break}catch(ie){var k=new a(this.grammar,this.current+1);this.table.push(k);var f=new Error(this.reportLexerError(ie));throw f.offset=this.current,f.token=ie.token,f}var g=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var h=this.current+1,k=new a(this.grammar,h);this.table.push(k);for(var x=p.text!==void 0?p.text:p.value,d=c.constructor===o?p.value:p,A=g.scannable,C=A.length;C--;){var w=A[C],Z=w.rule.symbols[w.dot];if(Z.test?Z.test(d):Z.type?Z.type===p.type:Z.literal===x){var be=w.nextState({data:d,token:p,isToken:!0,reference:h-1});k.states.push(be)}}if(k.process(),k.states.length===0){var f=new Error(this.reportError(p));throw f.offset=this.current,f.token=p,f}this.options.keepHistory&&(g.lexerState=c.save()),this.current++}return g&&(this.lexerState=c.save()),this.results=this.finish(),this},u.prototype.reportLexerError=function(v){var c,p,f=v.token;return f?(c="input "+JSON.stringify(f.text[0])+" (lexer error)",p=this.lexer.formatError(f,"Syntax error")):(c="input (lexer error)",p=v.message),this.reportErrorCommon(p,c)},u.prototype.reportError=function(v){var c=(v.type?v.type+" token: ":"")+JSON.stringify(v.value!==void 0?v.value:v),p=this.lexer.formatError(v,"Syntax error");return this.reportErrorCommon(p,c)},u.prototype.reportErrorCommon=function(v,c){var p=[];p.push(v);var f=this.table.length-2,g=this.table[f],h=g.states.filter(function(x){var d=x.rule.symbols[x.dot];return d&&typeof d!="string"});if(h.length===0)p.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(g.states,p);else{p.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var k=h.map(function(x){return this.buildFirstStateStack(x,[])||[x]},this);k.forEach(function(x){var d=x[0],A=d.rule.symbols[d.dot],C=this.getSymbolDisplay(A);p.push("A "+C+" based on:"),this.displayStateStack(x,p)},this)}return p.push(""),p.join(`
`)},u.prototype.displayStateStack=function(v,c){for(var p,f=0,g=0;g<v.length;g++){var h=v[g],k=h.rule.toString(h.dot);k===p?f++:(f>0&&c.push("    ^ "+f+" more lines identical to this"),f=0,c.push("    "+k)),p=k}},u.prototype.getSymbolDisplay=function(v){return m(v)},u.prototype.buildFirstStateStack=function(v,c){if(c.indexOf(v)!==-1)return null;if(v.wantedBy.length===0)return[v];var p=v.wantedBy[0],f=[v].concat(c),g=this.buildFirstStateStack(p,f);return g===null?null:[v].concat(g)},u.prototype.save=function(){var v=this.table[this.current];return v.lexerState=this.lexerState,v},u.prototype.restore=function(v){var c=v.index;this.current=c,this.table[c]=v,this.table.splice(c+1),this.lexerState=v.lexerState,this.results=this.finish()},u.prototype.rewind=function(v){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[v])},u.prototype.finish=function(){var v=[],c=this.grammar.start,p=this.table[this.table.length-1];return p.states.forEach(function(f){f.rule.name===c&&f.dot===f.rule.symbols.length&&f.reference===0&&f.data!==u.fail&&v.push(f)}),v.map(function(f){return f.data})};function m(v){var c=typeof v;if(c==="string")return v;if(c==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return"character matching "+v;if(v.type)return v.type+" token";if(v.test)return"token matching "+String(v.test);throw new Error("Unknown symbol type: "+v)}}function l(v){var c=typeof v;if(c==="string")return v;if(c==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return v.toString();if(v.type)return"%"+v.type;if(v.test)return"<"+String(v.test)+">";throw new Error("Unknown symbol type: "+v)}}return{Parser:u,Grammar:s,Rule:t}})}}),yg=Cc({"../../node_modules/moo/moo.js"(e,r){(function(t,n){typeof define=="function"&&define.amd?define([],n):typeof r=="object"&&r.exports?r.exports=n():t.moo=n()})(e,function(){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,a=typeof new RegExp().sticky=="boolean";function s(E){return E&&n.call(E)==="[object RegExp]"}function o(E){return E&&typeof E=="object"&&!s(E)&&!Array.isArray(E)}function u(E){return E.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function m(E){var j=new RegExp("|"+E);return j.exec("").length-1}function l(E){return"("+E+")"}function v(E){if(!E.length)return"(?!)";var j=E.map(function(O){return"(?:"+O+")"}).join("|");return"(?:"+j+")"}function c(E){if(typeof E=="string")return"(?:"+u(E)+")";if(s(E)){if(E.ignoreCase)throw new Error("RegExp /i flag not allowed");if(E.global)throw new Error("RegExp /g flag is implied");if(E.sticky)throw new Error("RegExp /y flag is implied");if(E.multiline)throw new Error("RegExp /m flag is implied");return E.source}else throw new Error("Not a pattern: "+E)}function p(E,j){return E.length>j?E:Array(j-E.length+1).join(" ")+E}function f(E,j){for(var O=E.length,I=0;;){var z=E.lastIndexOf(`
`,O-1);if(z===-1||(I++,O=z,I===j)||O===0)break}var N=I<j?0:O+1;return E.substring(N).split(`
`)}function g(E){for(var j=Object.getOwnPropertyNames(E),O=[],I=0;I<j.length;I++){var z=j[I],N=E[z],R=[].concat(N);if(z==="include"){for(var ee=0;ee<R.length;ee++)O.push({include:R[ee]});continue}var G=[];R.forEach(function(B){o(B)?(G.length&&O.push(k(z,G)),O.push(k(z,B)),G=[]):G.push(B)}),G.length&&O.push(k(z,G))}return O}function h(E){for(var j=[],O=0;O<E.length;O++){var I=E[O];if(I.include){for(var z=[].concat(I.include),N=0;N<z.length;N++)j.push({include:z[N]});continue}if(!I.type)throw new Error("Rule has no type: "+JSON.stringify(I));j.push(k(I.type,I))}return j}function k(E,j){if(o(j)||(j={match:j}),j.include)throw new Error("Matching rules cannot also include states");var O={defaultType:E,lineBreaks:!!j.error||!!j.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var I in j)t.call(j,I)&&(O[I]=j[I]);if(typeof O.type=="string"&&E!==O.type)throw new Error("Type transform cannot be a string (type '"+O.type+"' for token '"+E+"')");var z=O.match;return O.match=Array.isArray(z)?z:z?[z]:[],O.match.sort(function(N,R){return s(N)&&s(R)?0:s(R)?-1:s(N)?1:R.length-N.length}),O}function x(E){return Array.isArray(E)?h(E):g(E)}var d=k("error",{lineBreaks:!0,shouldThrow:!0});function A(E,j){for(var O=null,I=Object.create(null),z=!0,N=null,R=[],ee=[],G=0;G<E.length;G++)E[G].fallback&&(z=!1);for(var G=0;G<E.length;G++){var B=E[G];if(B.include)throw new Error("Inheritance is not allowed in stateless lexers");if(B.error||B.fallback){if(O)throw!B.fallback==!O.fallback?new Error("Multiple "+(B.fallback?"fallback":"error")+" rules not allowed (for token '"+B.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+B.defaultType+"')");O=B}var he=B.match.slice();if(z)for(;he.length&&typeof he[0]=="string"&&he[0].length===1;){var We=he.shift();I[We.charCodeAt(0)]=B}if(B.pop||B.push||B.next){if(!j)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+B.defaultType+"')");if(B.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+B.defaultType+"')")}if(he.length!==0){z=!1,R.push(B);for(var Ke=0;Ke<he.length;Ke++){var Se=he[Ke];if(s(Se)){if(N===null)N=Se.unicode;else if(N!==Se.unicode&&B.fallback===!1)throw new Error("If one rule is /u then all must be")}}var ue=v(he.map(c)),ge=new RegExp(ue);if(ge.test(""))throw new Error("RegExp matches empty string: "+ge);var Ge=m(ue);if(Ge>0)throw new Error("RegExp has capture groups: "+ge+`
Use (?: â¦ ) instead`);if(!B.lineBreaks&&ge.test(`
`))throw new Error("Rule should declare lineBreaks: "+ge);ee.push(l(ue))}}var tr=O&&O.fallback,Sr=a&&!tr?"ym":"gm",Gr=a||tr?"":"|";N===!0&&(Sr+="u");var Vn=new RegExp(v(ee)+Gr,Sr);return{regexp:Vn,groups:R,fast:I,error:O||d}}function C(E){var j=A(x(E));return new ie({start:j},"start")}function w(E,j,O){var I=E&&(E.push||E.next);if(I&&!O[I])throw new Error("Missing state '"+I+"' (in token '"+E.defaultType+"' of state '"+j+"')");if(E&&E.pop&&+E.pop!=1)throw new Error("pop must be 1 (in token '"+E.defaultType+"' of state '"+j+"')")}function Z(E,j){var O=E.$all?x(E.$all):[];delete E.$all;var I=Object.getOwnPropertyNames(E);j||(j=I[0]);for(var z=Object.create(null),N=0;N<I.length;N++){var R=I[N];z[R]=x(E[R]).concat(O)}for(var N=0;N<I.length;N++)for(var R=I[N],ee=z[R],G=Object.create(null),B=0;B<ee.length;B++){var he=ee[B];if(he.include){var We=[B,1];if(he.include!==R&&!G[he.include]){G[he.include]=!0;var Ke=z[he.include];if(!Ke)throw new Error("Cannot include nonexistent state '"+he.include+"' (in state '"+R+"')");for(var Se=0;Se<Ke.length;Se++){var ue=Ke[Se];ee.indexOf(ue)===-1&&We.push(ue)}}ee.splice.apply(ee,We),B--}}for(var ge=Object.create(null),N=0;N<I.length;N++){var R=I[N];ge[R]=A(z[R],!0)}for(var N=0;N<I.length;N++){for(var Ge=I[N],tr=ge[Ge],Sr=tr.groups,B=0;B<Sr.length;B++)w(Sr[B],Ge,ge);for(var Gr=Object.getOwnPropertyNames(tr.fast),B=0;B<Gr.length;B++)w(tr.fast[Gr[B]],Ge,ge)}return new ie(ge,j)}function be(E){for(var j=typeof Map<"u",O=j?new Map:Object.create(null),I=Object.getOwnPropertyNames(E),z=0;z<I.length;z++){var N=I[z],R=E[N],ee=Array.isArray(R)?R:[R];ee.forEach(function(G){if(typeof G!="string")throw new Error("keyword must be string (in keyword '"+N+"')");j?O.set(G,N):O[G]=N})}return function(G){return j?O.get(G):O[G]}}var ie=function(E,j){this.startState=j,this.states=E,this.buffer="",this.stack=[],this.reset()};ie.prototype.reset=function(E,j){return this.buffer=E||"",this.index=0,this.line=j?j.line:1,this.col=j?j.col:1,this.queuedToken=j?j.queuedToken:null,this.queuedText=j?j.queuedText:"",this.queuedThrow=j?j.queuedThrow:null,this.setState(j?j.state:this.startState),this.stack=j&&j.stack?j.stack.slice():[],this},ie.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},ie.prototype.setState=function(E){if(!(!E||this.state===E)){this.state=E;var j=this.states[E];this.groups=j.groups,this.error=j.error,this.re=j.regexp,this.fast=j.fast}},ie.prototype.popState=function(){this.setState(this.stack.pop())},ie.prototype.pushState=function(E){this.stack.push(this.state),this.setState(E)};var ce=a?function(E,j){return E.exec(j)}:function(E,j){var O=E.exec(j);return O[0].length===0?null:O};ie.prototype._getGroup=function(E){for(var j=this.groups.length,O=0;O<j;O++)if(E[O+1]!==void 0)return this.groups[O];throw new Error("Cannot find token type for matched text")};function Je(){return this.value}if(ie.prototype.next=function(){var E=this.index;if(this.queuedGroup){var j=this._token(this.queuedGroup,this.queuedText,E);return this.queuedGroup=null,this.queuedText="",j}var O=this.buffer;if(E!==O.length){var R=this.fast[O.charCodeAt(E)];if(R)return this._token(R,O.charAt(E),E);var I=this.re;I.lastIndex=E;var z=ce(I,O),N=this.error;if(z==null)return this._token(N,O.slice(E,O.length),E);var R=this._getGroup(z),ee=z[0];return N.fallback&&z.index!==E?(this.queuedGroup=R,this.queuedText=ee,this._token(N,O.slice(E,z.index),E)):this._token(R,ee,E)}},ie.prototype._token=function(E,j,O){var I=0;if(E.lineBreaks){var z=/\n/g,N=1;if(j===`
`)I=1;else for(;z.exec(j);)I++,N=z.lastIndex}var R={type:typeof E.type=="function"&&E.type(j)||E.defaultType,value:typeof E.value=="function"?E.value(j):j,text:j,toString:Je,offset:O,lineBreaks:I,line:this.line,col:this.col},ee=j.length;if(this.index+=ee,this.line+=I,I!==0?this.col=ee-N+1:this.col+=ee,E.shouldThrow){var G=new Error(this.formatError(R,"invalid syntax"));throw G}return E.pop?this.popState():E.push?this.pushState(E.push):E.next&&this.setState(E.next),R},typeof Symbol<"u"&&Symbol.iterator){var Pe=function(E){this.lexer=E};Pe.prototype.next=function(){var E=this.lexer.next();return{value:E,done:!E}},Pe.prototype[Symbol.iterator]=function(){return this},ie.prototype[Symbol.iterator]=function(){return new Pe(this)}}return ie.prototype.formatError=function(E,j){if(E==null)var O=this.buffer.slice(this.index),E={text:O,offset:this.index,lineBreaks:O.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var I=2,z=Math.max(E.line-I,1),N=E.line+I,R=String(N).length,ee=f(this.buffer,this.line-E.line+I+1).slice(0,5),G=[];G.push(j+" at line "+E.line+" col "+E.col+":"),G.push("");for(var B=0;B<ee.length;B++){var he=ee[B],We=z+B;G.push(p(String(We),R)+"  "+he),We===E.line&&G.push(p("",R+E.col+1)+"^")}return G.join(`
`)},ie.prototype.clone=function(){return new ie(this.states,this.state)},ie.prototype.has=function(E){return!0},{compile:C,states:Z,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:be}})}}),K=class extends Error{constructor(r,t,n,a){super(fs(r,t,n,a));fe(this,"name");fe(this,"info");this.name=r,this.info=n}},fs=(e,r,t,n)=>{const a={SyntaxError:"Erreur syntaxique",EvaluationError:"Erreur d'Ã©valuation",UnknownRule:"RÃ¨gle inconnue",PrivateRule:"RÃ¨gle privÃ©e"},s=/error/i.test(e);return`
[ ${a[e]??e} ]`+(t&&"dottedName"in t&&t.dottedName?.length?`
â¡ï¸  Dans la rÃ¨gle "${t.dottedName}"`:"")+`
${s?"âï¸":"â ï¸"}  ${r}`+(n?`
`+(s?"    ":"â¹ï¸  ")+n.message:"")},Sn=class extends K{constructor(e){super("InternalError",`
Erreur interne du moteur.

Cette erreur est le signe d'un bug dans publicodes. Pour nous aider Ã  le rÃ©soudre, vous pouvez copier ce texte dans un nouveau ticket : https://github.com/betagouv/mon-entreprise/issues/new.

payload:
${JSON.stringify(e,null,2)}
`,e)}},Eg=class extends Sn{constructor(e){super(e)}};function xa(e,r,t,n){e.warn(fs("Avertissement",r,t,n))}function mu(e,r){e.warn(fs("Avertissement",`Cette rÃ¨gle est tagguÃ©e comme experimentale. 

Cela veut dire qu'elle peut Ãªtre modifiÃ©e, renommÃ©e, ou supprimÃ©e sans qu'il n'y ait de changement de version majeure dans l'API.
`,{dottedName:r}))}function vu(e,r,t){if(e.has(r)){e.get(r).add(t);return}e.set(r,new Set([t]))}function kg(e,r){return Object.entries(r).reduce((t,[n,a])=>({...t,[n]:[...t[n]??[],...a]}),e)}var Ot=e=>{const r={};for(const t in e)r[t]=e[t];return r};function da(e,r=!0){function t(n){const a=e(n,t);return a===!1?n:a===void 0?_i(t,n):r?a:_i(t,a)}return t}function Dc(e){function r(n){switch(e(n,r)){case"continue":_i(t,n);return;case"stop":return}}const t=n=>(r(n),n);return r}function xg(e,r){const t={};for(const n in r)t[n]=e(r[n]);return t}var _i=(e,r)=>{switch(r=Cg(e,r),r.nodeKind){case"rule":return wg(e,r);case"reference":case"constant":return r;case"arrondi":return qg(e,r);case"simplifier unitÃ©":case"variable manquante":case"est non applicable":case"est non dÃ©fini":return Sg(e,r);case"barÃ¨me":case"taux progressif":case"grille":return jg(e,r);case"une possibilitÃ©":return Vg(e,r);case"durÃ©e":return Ig(e,r);case"rÃ©soudre rÃ©fÃ©rence circulaire":return Pg(e,r);case"inversion":return Ng(e,r);case"operation":return Og(e,r);case"recalcul":return Mg(e,r);case"unitÃ©":return Rg(e,r);case"variations":return Fg(e,r);case"replacementRule":return Dg(e,r);case"texte":return Tg(e,r);case"condition":return Lg(e,r);default:throw new Eg(r)}},Cg=(e,r)=>{if(!("sourceMap"in r)||!r.sourceMap||!r.sourceMap.args)return r;const t=r.sourceMap,n={};for(const a in t.args){const s=t.args[a];n[a]=Array.isArray(s)?s.map(o=>e(o)):e(s)}return{...r,sourceMap:{...t,args:n}}},wg=(e,r)=>{const t=Ot(r);t.suggestions={};for(const n in r.suggestions)t.suggestions[n]=e(r.suggestions[n]);return t.replacements=r.replacements.map(e),t.explanation={ruleDisabledByItsParent:r.explanation.ruleDisabledByItsParent,nullableParent:r.explanation.nullableParent?e(r.explanation.nullableParent):void 0,parents:r.explanation.parents.map(e),valeur:e(r.explanation.valeur)},t},Dg=(e,r)=>({...r,definitionRule:e(r.definitionRule),replacedReference:e(r.replacedReference),replacementNode:e(r.replacementNode),whiteListedNames:r.whiteListedNames.map(e),blackListedNames:r.blackListedNames.map(e)}),Sg=(e,r)=>({...r,explanation:e(r.explanation)});function Ag(e,r){return r.map(t=>({...t,...t.plafond&&{plafond:e(t.plafond)},..."montant"in t&&{montant:e(t.montant)},..."taux"in t&&{taux:e(t.taux)}}))}var jg=(e,r)=>({...r,explanation:{assiette:e(r.explanation.assiette),multiplicateur:e(r.explanation.multiplicateur),tranches:Ag(e,r.explanation.tranches)}}),Vg=(e,r)=>({...r,explanation:r.explanation.map(e)}),Og=(e,r)=>{const t=Ot(r);return t.explanation=[e(r.explanation[0]),e(r.explanation[1])],t},Ig=(e,r)=>({...r,explanation:{depuis:e(r.explanation.depuis),"jusqu'Ã ":e(r.explanation["jusqu'Ã "])}}),Ng=(e,r)=>({...r,explanation:{...r.explanation,inversionCandidates:r.explanation.inversionCandidates.map(e)}}),qg=(e,r)=>({...r,explanation:{valeur:e(r.explanation.valeur),arrondi:e(r.explanation.arrondi)}}),Pg=(e,r)=>({...r,explanation:{...r.explanation,valeur:e(r.explanation.valeur)}}),Tg=(e,r)=>({...r,explanation:r.explanation.map(t=>typeof t=="string"?t:e(t))}),Mg=(e,r)=>({...r,explanation:{...r.explanation,amendedSituation:r.explanation.amendedSituation.map(([t,n])=>[e(t),e(n)]),recalcul:r.explanation.recalculNode&&e(r.explanation.recalculNode)}}),Rg=(e,r)=>{const t=Ot(r);return t.explanation=e(r.explanation),t},Fg=(e,r)=>({...r,explanation:r.explanation.map(({condition:t,consequence:n})=>({condition:e(t),consequence:n&&e(n)}))}),Lg=(e,r)=>{const t=Ot(r);return t.explanation={si:e(r.explanation.si),alors:e(r.explanation.alors),sinon:e(r.explanation.sinon)},t},nn={constant:e=>e};function ke(e,r){if(nn??(nn={}),nn[e])throw new K("EvaluationError",`Multiple evaluation functions registered for the nodeKind \x1B[4m${e}`,{dottedName:""});nn[e]=r}var $u={isNullable:void 0,type:void 0};function Ug(e,r,t){function n(s){if(!s||typeof s!="object")return $u;if(t.has(s))return t.get(s);t.set(s,$u);const o=a(s);return t.set(s,o),o}function a(s){switch(s.nodeKind){case"barÃ¨me":case"durÃ©e":case"grille":case"taux progressif":return{isNullable:!1,type:"number"};case"est non dÃ©fini":case"est non applicable":return{isNullable:!1,type:"boolean"};case"constant":return{isNullable:s.isNullable??s.nodeValue===null,type:s.type};case"operation":return{isNullable:["<","<=",">",">=","/","*"].includes(s.operationKind)?n(s.explanation[0]).isNullable||n(s.explanation[1]).isNullable:s.operationKind==="-"?n(s.explanation[0]).isNullable:!1,type:["<","<=",">",">=","=","!=","et","ou"].includes(s.operationKind)?"boolean":"number"};case"inversion":case"recalcul":case"replacementRule":case"rÃ©soudre rÃ©fÃ©rence circulaire":return{isNullable:!1,type:"number"};case"texte":case"une possibilitÃ©":return{isNullable:!1,type:"string"};case"rule":case"arrondi":return n(s.explanation.valeur);case"unitÃ©":case"simplifier unitÃ©":case"variable manquante":return n(s.explanation);case"condition":return{isNullable:[s.explanation.si,s.explanation.alors,s.explanation.sinon].some(u=>n(u).isNullable),type:n(s.explanation.alors).type??n(s.explanation.sinon).type};case"variations":const o=s.explanation.map(({consequence:u})=>n(u));return{isNullable:o.some(u=>u.isNullable),type:o.map(u=>u.type).find(u=>u!==void 0)};case"reference":return n(r[s.dottedName])}}return e.forEach(s=>{const o=r[s];n(o),o.explanation.parents.forEach(n)}),t}function kr(e,r,t){let n,a;function s(o,u){n??(n=U(t,$n({dottedName:"INLINE_MECANISM"}))),a??(a={});for(const v in r)"par dÃ©faut"in r[v]&&(a[v]=U(r[v]["par dÃ©faut"],$n({})));Object.keys(r).length===1&&"valeur"in r&&(o={valeur:o});const m={};for(const v in o)m[v]=U(o[v],u);const l=da(v=>{if(v.nodeKind!=="reference"||!(v.name in r))return;const c=v.name;if(c in m)return m[c];if(c in a)return a[c];throw new K("SyntaxError",`Il manque la clÃ© '${c} dans le mÃ©canisme ${e}`,{dottedName:c})})(n);return l.sourceMap={mecanismName:e,args:m},l}return s.nom=e,Object.assign(s,"name",{value:`parse${Sc(e)}Inline`})}function Ft(e,r,t){function n(a,s){Object.keys(r).length===1&&"valeur"in r&&(a={valeur:a});const o={};for(const m in a){const l=a[m];o[m]=Array.isArray(l)?l.map(v=>U(v,s)):U(l,s)}const u=U(t(o),s);return u.sourceMap={mecanismName:e,args:o},u}return n.nom=e,Object.assign(n,"name",{value:`parse${Sc(e)}Inline`})}function Sc(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,r=>r.toUpperCase()).replace(/\s+/g,"")}var Kr={nodeKind:"constant",nodeValue:null,missingVariables:{},type:void 0,isNullable:!0},Ac={nodeKind:"constant",nodeValue:void 0,missingVariables:{},type:void 0,isNullable:!1},pa={...Ac,type:"number"},Bg=kr("abattement",{abattement:{},valeur:{}},{"-":["valeur","abattement"],plancher:0}),zg=kr("applicable si",{"applicable si":{},valeur:{}},{condition:{si:"applicable si != non",alors:"valeur",sinon:Kr}}),Hg=e=>"missingVariables"in e?e.missingVariables:{},jc=(e={})=>Object.fromEntries(Object.entries(e).map(([r,t])=>[r,t+1])),ct=(e={},r={})=>Object.fromEntries([...Object.keys(e),...Object.keys(r)].map(t=>[t,(e[t]??0)+(r[t]??0)])),rr=e=>e.map(Hg).reduce(ct,{}),Dr=e=>({nodeValue:e,type:typeof e,isDefault:!0,nodeKind:"constant"}),Jg=(e,r,t)=>{const n={};for(const a in e){const s=e[a];if(r[a]==null&&!s)throw new K("EngineError",`Il manque une clÃ© '${a}' dans ${JSON.stringify(r)} `,{});const o=r[a]!=null?U(r[a],t):s;n[a]=o}return n},Zr=(e,r=t=>t)=>{const[t,...n]=e.split("/").map(o=>o.trim()),a=o=>Kg(o.split(".").filter(Boolean).map(u=>r(u)));return{numerators:a(t),denominators:n.flatMap(o=>a(o))}},Wg=/(\d+)(?!.*[A-Za-z])/g;function Vc(e){let r={};return e.forEach(t=>{const n=t.match(Wg);if(n!=null){const a=n[0],s=t.split(a)[0];r[s]=(r[s]??0)+ +a}else r[t]=(r[t]??0)+1}),r}function Kg(e){let r=Vc(e);return Object.entries(r).flatMap(([t,n])=>Array(n).fill(t))}function Gg(e){let r=Vc(e);return Object.entries(r).map(([t,n])=>n>1?`${t}${n}`:t)}var Pn=(e,r,t=n=>n)=>Gg(e.map(n=>t(n,r))).join("."),fu=2;function or(e,r=fu,t=n=>n){if(e===null||typeof e!="object")return typeof e=="string"?t(e,r):e;const n=Ca(e),{numerators:a=[],denominators:s=[]}=n,o=a.length>0,u=s.length>0;return!o&&!u?"":o&&!u?Pn(a,r,t):!o&&u?`/${Pn(s,1,t)}`:`${Pn(a,fu,t)} / ${Pn(s,1,t)}`}var an={numerators:[],denominators:[]},Vr=(e,r)=>{if(e==="/"){if(r.length!==2)throw new K("InternalError","Infer units of a division with units.length !== 2)",{});return Vr("*",[r[0]||an,{numerators:(r[1]||an).denominators,denominators:(r[1]||an).numerators}])}const t=r.filter(Boolean);if(t.length<=1)return t[0];if(e==="*")return Ca({numerators:t.flatMap(n=>n?.numerators??[]),denominators:t.flatMap(n=>n?.denominators??[])});if(e==="-"||e==="+")return r.find(n=>n)},Oc=(e,r)=>Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every((t,n)=>e[n]===r[n]):e===r,du=(e,r=Oc)=>t=>{const n=t.findIndex(a=>r(a,e));return t.filter((a,s)=>s!==n)},Ca=(e,r=Oc)=>[...e.numerators,...e.denominators].reduce(({numerators:n,denominators:a},s)=>n.find(o=>r(s,o))&&a.find(o=>r(s,o))?{numerators:du(s,r)(n),denominators:du(s,r)(a)}:{numerators:n,denominators:a},e),Gn={"mois/an":12,"jour/an":365,"jour/mois":365/12,"trimestre/an":4,"mois/trimestre":3,"jour/trimestre":365/12*3,"â¬/kâ¬":10**3,"g/kg":10**3,"mg/g":10**3,"mg/kg":10**6,"m/km":10**3,"cm/m":10**2,"mm/cm":10**1,"mm/m":10**3,"cm/km":10**5,"mm/km":10**6};function pu(e,r){return Gn[`${r}/${e}`]||Gn[`${e}/${r}`]&&1/Gn[`${e}/${r}`]}function yi(e,r){let t=100**(r.filter(n=>n==="%").length-e.filter(n=>n==="%").length);return[t]=e.reduce(([n,a],s)=>{const o=a.findIndex(m=>!!pu(s,m)),u=pu(s,a[o])||1;return[n*u,[...a.slice(0,o+1),...a.slice(o+1)]]},[t,r]),t}var bu={"kW.h":"kWh","mn / h":"noeud"};function Yg(e,r){return!e||!r?!1:e===r||e===bu[r]||r===bu[e]}function An(e,r,t){const n=or(e),a=or(r);if(!Yg(n,a)&&!Qg(e,r))throw new K("EngineError",`Impossible de convertir l'unitÃ© '${n}' en '${a}'`,{});if(!t||e===void 0)return t;const[s,o]=hu(e||an),[u,m]=hu(r||an);return qc(t*o/m*yi(s.numerators,u.numerators)*yi(u.denominators,s.denominators))}var Ic=Xg(Gn);function Xg(e){return Object.keys(e).reduce((r,t)=>{const[n,a]=t.split("/"),s=r.findIndex(u=>u.has(n)),o=r.findIndex(u=>u.has(a));if(s>-1&&o>-1&&s!==o)throw new K("EngineError",`Invalid ratio ${t}`,{});return s===-1&&o===-1?r.push(new Set([n,a])):s>-1?r[s].add(a):o>-1&&r[o].add(n),r},[])}function Nc(e,r){return e===r||Ic.some(t=>t.has(e)&&t.has(r))}function qc(e){return+e.toFixed(16)}function Pc(e){const{numerators:r,denominators:t}=Ca(e,Nc);return r.length&&r.every(n=>n==="%")?{numerators:["%"],denominators:t}:Tc({numerators:r,denominators:t})}function hu(e,r=1){const t=yi(e.numerators,e.denominators);return[Ca(Tc(e),Nc),r&&qc(r*t)]}var Tc=e=>({numerators:e.numerators.filter(r=>r!=="%"),denominators:e.denominators.filter(r=>r!=="%")});function Qg(e,r){if(e==null||r==null)return!0;const t=l=>l.reduce((v,c)=>{const p=Ic.findIndex(g=>g.has(c)),f=p===-1?c:""+p;return{...v,[f]:1+(v[f]??0)}},{}),[n,a,s,o]=[e.numerators,e.denominators,r.numerators,r.denominators].map(t),u=l=>[...new Set(l)],m=[n,a,s,o].map(Object.keys).flat();return u(m).every(l=>(n[l]||0)-(a[l]||0)===(s[l]||0)-(o[l]||0)||l==="%")}function gu(e,r){return+e.toFixed(r)}var Zg=function(e){const r=Bc(this.evaluateNode(e.explanation.valeur)),t=r.nodeValue;let n=e.explanation.arrondi;if(t!==!1&&(n=this.evaluateNode(n),typeof n.nodeValue=="number"&&!or(n.unit)?.match(/dÃ©cimales?/)))throw new K("EvaluationError",`L'unitÃ© ${or(n.unit)} de l'arrondi est inconnu. Vous devez utiliser l'unitÃ© âdÃ©cimalesâ`,{dottedName:this.cache._meta.evaluationRuleStack[0]});return{...e,nodeValue:typeof r.nodeValue!="number"||!("nodeValue"in n)?r.nodeValue:typeof n.nodeValue=="number"?gu(r.nodeValue,n.nodeValue):n.nodeValue===!0?gu(r.nodeValue,0):n.nodeValue===void 0?void 0:r.nodeValue,explanation:{valeur:r,arrondi:n},missingVariables:rr([r,n]),unit:r.unit}};function wa(e,r){return{explanation:{valeur:U(e.valeur,r),arrondi:U(e.arrondi,r)},nodeKind:wa.nom}}wa.nom="arrondi";ke(wa.nom,Zg);function Mc(e,r){return Object.entries(e.avec).forEach(([n,a])=>{U({nom:n,...a==null?{}:typeof a!="object"||"nodeKind"in a?{valeur:a}:a},r)}),U(e.valeur,r)}Mc.nom="avec";var ds=(e,r)=>e.map((t,n)=>{if(!t.plafond&&n>e.length)throw new K("SyntaxError",`La tranche nÂ°${n} du barÃ¨me n'a pas de plafond prÃ©cisÃ©. Seule la derniÃ¨re tranche peut ne pas Ãªtre plafonnÃ©e`,{dottedName:""});return{...t,...t.taux!==void 0?{taux:U(t.taux,r)}:{},...t.montant!==void 0?{montant:U(t.montant,r)}:{},plafond:"plafond"in t?U(t.plafond,r):{nodeValue:1/0,nodeKind:"constant",type:"number",isNullable:!1}}});function ps({multiplicateur:e,assiette:r,parsedTranches:t}){return t.reduce(([n,a],s,o)=>{if(a)return[[...n,{...s,isAfterActive:!0}],a];const u=this.evaluateNode(s.plafond),m=n[o-1]?n[o-1].plafond:{nodeValue:0};let l=u.nodeValue===void 0||e.nodeValue===void 0?void 0:u.nodeValue*e.nodeValue;try{l=l===1/0||l===0?l:An(Vr("*",[u.unit,e.unit]),r.unit,l)}catch(g){xa(this.context.logger,`L'unitÃ© du plafond de la tranche nÂ°${o+1}  n'est pas compatible avec celle l'assiette`,{dottedName:this.cache._meta.evaluationRuleStack[0]},g)}const v=n[o-1]?n[o-1].plafondValue:0,c=v===void 0||r.nodeValue===void 0?void 0:v>r.nodeValue,p=[u,r,e,m];if(p.some(g=>g.nodeValue===void 0))return[[...n,{...s,plafond:u,plafondValue:l,plancherValue:v,nodeValue:void 0,isActive:void 0,isAfterActive:c,missingVariables:rr(p)}],!1];if(n[o-1]&&v&&l<=v)throw new K("EvaluationError",`Le plafond de la tranche nÂ°${o+1} a une valeur infÃ©rieure Ã  celui de la tranche prÃ©cÃ©dente`,{dottedName:this.cache._meta.evaluationRuleStack[0]});const f={...s,plafond:u,plancherValue:v,plafondValue:l,isAfterActive:c,isActive:r.nodeValue>=v&&r.nodeValue<l};return[[...n,f],f.isActive]},[[],!1])[0]}function e1(e,r){return{explanation:{assiette:U(e.assiette,r),multiplicateur:e.multiplicateur?U(e.multiplicateur,r):Dr(1),tranches:ds(e.tranches,r)},nodeKind:"barÃ¨me"}}function r1(e,r,t){return e.map(n=>{if(n.isAfterActive)return{...n,nodeValue:0};const a=t(n.taux),s=rr([a,n]);return[r.nodeValue,a.nodeValue,n.plafondValue,n.plancherValue].some(o=>o===void 0)?{...n,taux:a,nodeValue:void 0,missingVariables:s}:{...n,taux:a,..."unit"in r&&{unit:r.unit},nodeValue:(Math.min(r.nodeValue,n.plafondValue)-n.plancherValue)*An(a.unit,Zr(""),a.nodeValue),missingVariables:s}})}var t1=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Le multiplicateur ne peut pas Ãªtre nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});const a=r1(ps.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}),t,r),s=a.reduce((o,{nodeValue:u})=>u==null?void 0:o+u,0);return{...e,nodeValue:s,missingVariables:rr([t,n,...a]),explanation:{assiette:t,multiplicateur:n,tranches:a},unit:t.unit}};ke("barÃ¨me",t1);var n1=(e,r,t)=>{const{composantes:n,...a}=r,s=U({somme:n.map(o=>{const{attributs:u,...m}=o;return{...u,valeur:{[e]:{...a,...m}}}})},t);return{...s,sourceMap:{args:{},...s.sourceMap,mecanismName:"composantes"}}},a1=function(e){let r;const t=this.evaluateNode(e.explanation.si);let n=e.explanation.alors,a=e.explanation.sinon;if("unit"in t)throw new K("EvaluationError","La condition doit Ãªtre de type boolÃ©en",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(t.nodeValue===!0)n=this.evaluateNode(e.explanation.alors),n.isActive=!0,r=n;else if(t.nodeValue===!1)a=this.evaluateNode(e.explanation.sinon),r=a;else if(t.nodeValue===null)r=t;else if(t.nodeValue===void 0)a=this.evaluateNode(e.explanation.sinon),n=this.evaluateNode(e.explanation.alors),r={...t,missingVariables:rr([a,n])};else throw new K("EvaluationError","La condition doit Ãªtre de type boolÃ©en",{dottedName:this.cache._meta.evaluationRuleStack[0]});const s=r.unit??n.unit;return{...r,missingVariables:ct(jc(t.missingVariables),r.missingVariables),...s!=null?{unit:s}:{},...e,explanation:{si:t,alors:n,sinon:a}}};function Rc(e,r){return{explanation:{si:U(e.si,r),alors:U(e.alors,r),sinon:U(e.sinon,r)},nodeKind:"condition"}}Rc.nom="condition";ke("condition",a1);function Fc(e){let[r,t,n]=e.split("/");return n||([r,t,n]=["01",r,t]),Lc(+n,+t,+r)}var Ra=e=>+e<10?`0${e}`:""+e;function Lc(e,r,t){const n=new Date(+e,+r-1,+t);if(!+n||n.getDate()!==+t)throw new K("SyntaxError",`La date ${t}/${r}/${e} n'est pas valide`,{dottedName:""});return`${Ra(t)}/${Ra(r)}/${Ra(e)}`}function Ei(e){const[r,t,n]=Fc(e).split("/"),a=new Date(+n,+t-1,+r);return a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),a}function i1(e){return Lc(e.getFullYear(),e.getMonth()+1,e.getDate())}var _u=i1(new Date),s1={depuis:Dr(_u),"jusqu'Ã ":Dr(_u)},o1=function(e){const r=this.evaluateNode(e.explanation.depuis),t=this.evaluateNode(e.explanation["jusqu'Ã "]);let n;if([r,t].some(({nodeValue:a})=>a===void 0))n=void 0;else{const[a,s]=[r.nodeValue,t.nodeValue].map(Ei);n=Math.max(0,Math.round((s.getTime()-a.getTime())/(1e3*60*60*24)))}return{...e,missingVariables:rr([r,t]),nodeValue:n,explanation:{depuis:r,"jusqu'Ã ":t}}},u1=(e,r)=>({explanation:Jg(s1,e,r),unit:Zr("jour"),nodeKind:"durÃ©e"});ke("durÃ©e",o1);function Uc(e,r){return{explanation:U(e,r),nodeKind:"est non dÃ©fini"}}Uc.nom="est non dÃ©fini";var l1=kr("est dÃ©fini",{valeur:{}},{"=":[{"est non dÃ©fini":"valeur"},"non"]}),c1=kr("est applicable",{valeur:{}},{"=":[{"est non applicable":"valeur"},"non"]}),m1=function(e){const r=this.evaluateNode(e.explanation);let t=!1;return r.nodeValue===void 0&&(t=!0),{...e,nodeValue:t,missingVariables:r.missingVariables,explanation:r}};ke("est non dÃ©fini",m1);function Bc(e){if(!e.unit)return e;const r=Pc(e.unit);return at(r,e)}function at(e,r){return{...r,nodeValue:r.unit&&typeof r.nodeValue=="number"?An(r.unit,e,r.nodeValue):r.nodeValue,unit:e}}var Fa=({style:e,maximumFractionDigits:r=2,minimumFractionDigits:t=0,language:n})=>a=>{const s=e==="currency"&&r>=2&&t===0&&!Number.isInteger(a)?2:t;return Intl.NumberFormat(n,{style:e,currency:"EUR",maximumFractionDigits:r,minimumFractionDigits:s}).format(a)};function v1({maximumFractionDigits:e,minimumFractionDigits:r,language:t,formatUnit:n,unit:a,nodeValue:s}){if(typeof s!="number")return s;const o=a?or(a,s,n):void 0;switch(o){case"â¬":return Fa({style:"currency",maximumFractionDigits:e,minimumFractionDigits:r,language:t})(s);case"%":return Fa({style:"percent",maximumFractionDigits:e,language:t})(s/100);default:return Fa({style:"decimal",minimumFractionDigits:r,maximumFractionDigits:e,language:t})(s)+(typeof o=="string"?`Â ${o}`:"")}}function $1(e){return e&&e[0].toUpperCase()+e.slice(1)}var f1={fr:{true:"oui",false:"non"},en:{true:"yes",false:"no"}};function d1(e,{language:r="fr",displayedUnit:t,formatUnit:n,precision:a=2}={}){let s=typeof e=="number"||typeof e>"u"||e===null?e:e.nodeValue;if(typeof s=="number"&&Number.isNaN(s))return"Erreur dans le calcul du nombre";if(s===void 0)return"Pas encore dÃ©fini";if(s===null)return"Non applicable";if(typeof s=="string")return s.replace("\\n",`
`);if(typeof s=="object")return s.nom;if(typeof s=="boolean")return f1[r][s];if(typeof s=="number"){let o=typeof e=="number"||typeof e>"u"||!("unit"in e)?void 0:e.unit;if(o){const u=Bc({unit:o,nodeValue:s});o=u.unit,s=u.nodeValue}return v1({minimumFractionDigits:0,maximumFractionDigits:a,language:r,formatUnit:n,nodeValue:s,unit:t??o}).trim()}}var p1={};hg(p1,{contextNameToDottedName:()=>ki,cyclicDependencies:()=>x1,decodeRuleName:()=>S1,disambiguateReference:()=>Wc,disambiguateReferenceNode:()=>Ci,encodeRuleName:()=>D1,findCommonAncestor:()=>Jc,getChildrenRules:()=>A1,isAccessible:()=>Da,isExperimental:()=>xi,nameLeaf:()=>zc,ruleParent:()=>Hc,ruleParents:()=>jn,ruleWithDedicatedDocumentationPage:()=>j1,updateReferencesMapsFromReferenceNode:()=>hs});function Lt(e,r){return e!=null&&Object.prototype.hasOwnProperty.call(e,r)}function yu(e){return function(...r){return e}}var b1="\0",Eu="",ku=(e,r)=>{e[r]?e[r]++:e[r]=1},xu=(e,r)=>{--e[r]||delete e[r]},Jt=(e,r,t,n)=>{let a=""+r,s=""+t;if(!e&&a>s){const o=a;a=s,s=o}return a+Eu+s+Eu+(n===void 0?b1:n)},h1=(e,r,t,n)=>{let a=""+r,s=""+t;if(!e&&a>s){const u=a;a=s,s=u}const o={v:a,w:s};return n&&(o.name=n),o},La=(e,r)=>Jt(e,r.v,r.w,r.name),g1=class{constructor(e={}){fe(this,"_nodeCount",0);fe(this,"_edgeCount",0);fe(this,"_isDirected");fe(this,"_label");fe(this,"_defaultNodeLabelFn");fe(this,"_defaultEdgeLabelFn");fe(this,"_nodes");fe(this,"_in");fe(this,"_preds");fe(this,"_out");fe(this,"_sucs");fe(this,"_edgeObjs");fe(this,"_edgeLabels");this._isDirected=Lt(e,"directed")?e.directed:!0,this._label=void 0,this._defaultNodeLabelFn=yu(void 0),this._defaultEdgeLabelFn=yu(void 0),this._nodes={},this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}setGraph(e){return this._label=e,this}graph(){return this._label}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}setNode(e,r=void 0){return Lt(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}setNodes(e,r){return e.forEach(t=>{r!==void 0?this.setNode(t,r):this.setNode(t)}),this}node(e){return this._nodes[e]}hasNode(e){return Lt(this._nodes,e)}successors(e){const r=this._sucs[e];if(r)return Object.keys(r)}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setEdge(e,r,t=void 0,n=void 0){e=""+e,r=""+r;const a=Jt(this._isDirected,e,r,n);if(Lt(this._edgeLabels,a))return t!==void 0&&(this._edgeLabels[a]=t),this;this.setNode(e),this.setNode(r),this._edgeLabels[a]=t!==void 0?t:this._defaultEdgeLabelFn(e,r,n);const s=h1(this._isDirected,e,r,n);return e=s.v,r=s.w,Object.freeze(s),this._edgeObjs[a]=s,ku(this._preds[r],e),ku(this._sucs[e],r),this._in[r][a]=s,this._out[e][a]=s,this._edgeCount++,this}edge(e,r,t){const n=arguments.length===1?La(this._isDirected,arguments[0]):Jt(this._isDirected,e,r,t);return this._edgeLabels[n]}hasEdge(e,r,t){const n=arguments.length===1?La(this._isDirected,arguments[0]):Jt(this._isDirected,e,r,t);return Lt(this._edgeLabels,n)}removeEdge(e,r,t){const n=arguments.length===1?La(this._isDirected,arguments[0]):Jt(this._isDirected,e,r,t),a=this._edgeObjs[n];return a&&(e=a.v,r=a.w,delete this._edgeLabels[n],delete this._edgeObjs[n],xu(this._preds[r],e),xu(this._sucs[e],r),delete this._in[r][n],delete this._out[e][n],this._edgeCount--),this}outEdges(e,r=void 0){const t=this._out[e];if(t){const n=Object.values(t);return r===void 0?n:n.filter(function(a){return a.w===r})}}};function _1(e){let r=0;const t=[],n={},a=[];function s(o){const u=n[o]={onStack:!0,lowlink:r,index:r++};if(t.push(o),e.successors(o).forEach(function(m){Object.prototype.hasOwnProperty.call(n,m)?n[m].onStack&&(u.lowlink=Math.min(u.lowlink,n[m].index)):(s(m),u.lowlink=Math.min(u.lowlink,n[m].lowlink))}),u.lowlink===u.index){const m=[];let l;do l=t.pop(),n[l].onStack=!1,m.push(l);while(o!==l);a.push(m)}}return e.nodes().forEach(function(o){Object.prototype.hasOwnProperty.call(n,o)||s(o)}),a}function y1(e){return _1(e).filter(function(r){return r.length>1||r.length===1&&e.hasEdge(r[0],r[0])})}function E1(e){const r=new g1;return[...e.entries()].forEach(([t,n])=>{n.forEach(a=>{r.setEdge(t,a)})}),r}function k1(e,r){function*t(s){let o=s;for(;;)yield r[o++%r.length]}const n=[];for(let s=0;s<r.length;s++){const o=[];let u;for(const m of t(s))if(u===void 0)o.push(m),u=m;else if(e.get(u)?.has(m)){if(o.includes(m)){o.splice(0,o.lastIndexOf(m));break}o.push(m),u=m}n.push(o)}return n.reduce((s,o)=>o.length>s.length?s:o)}function x1(e){const{referencesMaps:r}=Yn(e),t=E1(r.referencesIn),a=y1(t).map(u=>u.reverse()),s=a.map(u=>k1(r.referencesIn,u)),o=a.map((u,m)=>w1(t,u,s[m]));return[s,o]}var C1=(e,r,t)=>{for(let n=0;n<e.length+1;n++)if(r===e[n]&&t===e[(n+1)%e.length])return!0;return!1};function w1(e,r,t){const n=new Set;return r.forEach(a=>{e.outEdges(a).filter(({w:s})=>r.includes(s)).forEach(({v:s,w:o})=>{n.add(`"${s}" -> "${o}"`+(C1(t,s,o)?" [color=red]":""))})}),`digraph Cycle {
	${[...n].join(`;
	`)};
}`}var mt=e=>e.split(" . "),bs=e=>e.join(" . "),zc=e=>mt(e).slice(-1)?.[0],D1=e=>e?.replace(/\s\.\s/g,"/").replace(/-/g,"â").replace(/\s/g,"-"),S1=e=>e.replace(/\//g," . ").replace(/-/g," ").replace(/\u2011/g,"-"),ki=e=>e.endsWith("$SITUATION")?Hc(e):e,Hc=e=>bs(mt(e).slice(0,-1));function jn(e){return mt(e).slice(0,-1).map((r,t,n)=>bs(n.slice(0,t+1))).reverse()}var A1=(e,r)=>Object.keys(e).filter(n=>n.startsWith(r)&&mt(n).length===mt(r).length+1);function Jc(e,r){const t=mt(e),n=mt(r),a=t.findIndex((s,o)=>n[o]!==s);return a===-1?e:bs(t.slice(0,a))}function Da(e,r,t){if(!(t in e))throw new K("InternalError",`La rÃ¨gle "${t}" n'existe pas`,{dottedName:t});const n=Jc(r,t),a=[t,...jn(t),""];return a.slice(0,Math.max(a.indexOf(n)-1,0)).every(o=>!(o in e)||e[o].private===!1)}function xi(e,r){if(!(r in e))throw new K("InternalError",`La rÃ¨gle "${r}" n'existe pas`,{dottedName:r});return[r,...jn(r)].some(n=>n in e&&e[n].rawNode?.experimental==="oui")}function Wc(e,r="",t){const a=[r,...jn(r),""].map(o=>o?o+" . "+t:t).sort((o,u)=>o===r?1:u===r?-1:0).filter(o=>o in e),s=a.find(o=>Da(e,r,o));if(!a.length)throw new K("SyntaxError",`La rÃ©fÃ©rence "${t}" est introuvable.
VÃ©rifiez que l'orthographe et l'espace de nom sont corrects`,{dottedName:ki(r)});if(!s)throw new K("SyntaxError",`La rÃ¨gle "${a[0]}" n'est pas accessible depuis "${r}".
Cela vient du fait qu'elle est privÃ©e ou qu'un de ses parent est privÃ©`,{dottedName:ki(r)});return s}function j1(e){return e.virtualRule!==!0&&e.type!=="groupe"&&e.type!=="texte"&&e.type!=="paragraphe"&&e.type!=="notification"}function hs(e,r,t){e.nodeKind==="reference"&&(vu(r.referencesIn,t??e.contextDottedName,e.dottedName),vu(r.rulesThatUse,e.dottedName,t??e.contextDottedName))}function Ci(e,r){if(e.nodeKind==="reference")return e.dottedName||(e.dottedName=Wc(r,e.contextDottedName,e.name),e.title=r[e.dottedName].title,e.acronym=r[e.dottedName].rawNode.acronyme),e}var V1=0,Tn={};function Kc(e,r){return e?(Array.isArray(e)?e:[e]).map(t=>{typeof t=="string"&&(t={rÃ¨gle:t});const n=U(t.rÃ¨gle,r),a=U(t.par??r.dottedName,r),[s,o]=[t.dans??[],t["sauf dans"]??[]].map(u=>Array.isArray(u)?u:[u]).map(u=>u.map(m=>U(m,r)));return{nodeKind:"replacementRule",rawNode:t,definitionRule:U(r.dottedName,r),replacedReference:n,replacementNode:a,whiteListedNames:s,blackListedNames:o,remplacementRuleId:V1++}}):[]}function O1(e,r){return Kc(e,r).map(t=>({...t,replacementNode:Kr}))}function I1(e){const r={};for(const t in e){const n=e[t];for(const a of n.replacements){if(!a.replacedReference.dottedName)throw new Sn(a);const s=a.replacedReference.dottedName;r[s]=[...r[s]??[],a]}}return r}function N1({newRules:e,previousReplacements:r,parsedRules:t,referencesMaps:n,logger:a}){const s=I1(e),o=new Set([]);for(const c in s){const p=n.rulesThatUse.get(c)??[];for(const f of p)o.add(f)}const u=new Set(Object.keys(e).filter(c=>[...n.referencesIn.get(c)??new Set].some(p=>(r[p]??[]).length))),m=kg(r,s);if(!u.size&&!o.size)return[t,m];const l=Cu(r,n),v=Cu(s,n);return u.forEach(c=>{t[c]=l(t[c])}),o.forEach(c=>{t[c]=v(t[c])}),[t,m]}function Cu(e,r,t){return da((n,a)=>{if(n.nodeKind==="replacementRule"||n.nodeKind==="inversion"||n.nodeKind==="une possibilitÃ©")return!1;if(n.nodeKind==="recalcul")return{...n,explanation:{...n.explanation,recalculNode:a(n.explanation.recalculNode),amendedSituation:n.explanation.amendedSituation.map(([s,o])=>[s,a(o)])}};if(n.nodeKind==="reference"){if(!n.dottedName)throw new Sn(n);const s=q1(n,e[n.dottedName]??[]);return Dc(o=>(hs(o,r,n.contextDottedName),"continue"))(s),s}})}function q1(e,r,t){const n=r.filter(({definitionRule:s})=>s.dottedName!==e.contextDottedName).filter(({whiteListedNames:s})=>!s.length||s.some(o=>e.contextDottedName.startsWith(o.dottedName))).filter(({blackListedNames:s})=>!s.length||s.every(o=>!e.contextDottedName.startsWith(o.dottedName))).sort((s,o)=>{const u=+!!o.whiteListedNames.length-+!!s.whiteListedNames.length,m=+!!o.blackListedNames.length-+!!s.blackListedNames.length;return u||m});if(!n.length)return e;n.length>1;const a=n.map(s=>s.remplacementRuleId).join("-");return Tn[a]??(Tn[a]={nodeKind:"variations",sourceMap:{mecanismName:"replacement"},rawNode:e.rawNode,explanation:[...n.map(s=>({condition:s.definitionRule,consequence:s.replacementNode})),{condition:Dr(!0),consequence:e}]}),Tn[a]}function P1(e,r){const t=!!(e.privÃ©==="oui"||e.nom.startsWith("[privÃ©] ")),n=e.nom.replace(/^\[privÃ©\] /,""),a=[r.dottedName,n].filter(Boolean).join(" . "),s=zc(a),o=$1(e.titre??s);if(r.parsedRules[a])throw new K("EvaluationError",`La rÃ©fÃ©rence '${a}' a dÃ©jÃ  Ã©tÃ© dÃ©finie`,{dottedName:a});const u={};for(const c in e)N_.includes(c)&&(u[c]=e[c]);"formule"in e&&(u.valeur=e.formule),!t&&!a.endsWith("$SITUATION")&&(u["dans la situation"]=`${a} . $SITUATION`,u.avec={...u.avec??{},"[privÃ©] $SITUATION":{...Ac,isNullable:e["possiblement non applicable"]==="oui"}},u["par dÃ©faut"]!=null&&(u["par dÃ©faut"]={valeur:u["par dÃ©faut"],"variable manquante":a}));const m={...r,dottedName:a};r.parsedRules[a]=void 0;const l={valeur:U(u,m),parents:jn(a).map(c=>U(c,m)).map(c=>(c.dottedName=c.name,c))},v={};if(e.suggestions)for(const c in e.suggestions)v[c]=U(e.suggestions[c],m);return r.parsedRules[a]={dottedName:a,replacements:[...O1(e["rend non applicable"],m),...Kc(e.remplace,m)],title:o,private:t,suggestions:v,nodeKind:"rule",explanation:l,rawNode:e,virtualRule:!!r.dottedName},r.dottedName?U(n,r):r.parsedRules[a]}ke("rule",function(r){const{ruleDisabledByItsParent:t,nullableParent:n,parentMissingVariables:a}=Gc(this,r);let s={...r.explanation.valeur,nodeValue:null,missingVariables:{}};return t||(this.cache._meta.evaluationRuleStack.filter(u=>u===r.dottedName).length>1?s={nodeValue:void 0}:(this.cache._meta.evaluationRuleStack.unshift(r.dottedName),s=this.evaluateNode(r.explanation.valeur),this.cache._meta.evaluationRuleStack.shift())),s.missingVariables??(s.missingVariables={}),T1(this,r,s),{...s,missingVariables:ct(s.missingVariables,a),...r,explanation:{parents:r.explanation.parents,valeur:s,nullableParent:n,ruleDisabledByItsParent:t}}});function T1(e,r,t){r.private===!0||!Da(e.context.parsedRules,"",r.dottedName)||t.nodeValue===void 0&&!Object.keys(t.missingVariables).length&&(t.missingVariables[r.dottedName]=1)}function Gc(e,r){if(r.private)return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};const t=e.context.nodesTypes,n=r.explanation.parents.find(s=>t.get(s)?.isNullable||t.get(s)?.type==="boolean");if(!n)return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};if(!e.cache._meta.parentRuleStack.includes(r.dottedName)){e.cache._meta.parentRuleStack.unshift(r.dottedName);let s=Dr(!1);if(t.get(n)?.isNullable&&(s=e.evaluateNode({nodeKind:"est non applicable",explanation:n})),s.nodeValue!==!0&&t.get(n)?.type==="boolean"&&(s=e.evaluateNode({nodeKind:"operation",operator:"=",operationKind:"=",explanation:[n,Dr(!1)]})),e.cache._meta.parentRuleStack.shift(),s.nodeValue===!0)return{ruleDisabledByItsParent:!0,parentMissingVariables:s.missingVariables??{},nullableParent:n}}let a={};if(t.get(n)?.type==="boolean"){const s=e.evaluateNode(n);return a=s.missingVariables??{},{ruleDisabledByItsParent:s.nodeValue===!1,parentMissingVariables:a,nullableParent:n}}return{ruleDisabledByItsParent:!1,parentMissingVariables:a,nullableParent:n}}function Yc(e,r){return{explanation:U(e,r),nodeKind:"est non applicable"}}Yc.nom="est non applicable";var Mn=e=>({nodeKind:"est non applicable",explanation:e}),M1=function(e){const r=e.explanation;if(this.context.nodesTypes.get(r)?.isNullable===!1&&r.nodeKind!=="rule")return{...e,nodeValue:!1,missingVariables:{}};if(this.cache.nodes.has(r)&&this.cache.nodes.get(r)!==void 0)return{...e,nodeValue:this.cache.nodes.get(r)?.nodeValue===null,missingVariables:this.cache.nodes.get(r)?.missingVariables??{}};switch(r.nodeKind){case"rule":const{ruleDisabledByItsParent:n,parentMissingVariables:a}=Gc(this,r);if(n)return{...e,nodeValue:!0,missingVariables:a};const s=this.evaluateNode(Mn(r.explanation.valeur)),o=ct(a,s.missingVariables);return s.nodeValue===!1&&this.context.nodesTypes.get(this.context.parsedRules[`${r.dottedName} . $SITUATION`])?.isNullable&&!Object.keys(s.missingVariables).length&&(o[r.dottedName]=1),{...e,nodeValue:s.nodeValue,missingVariables:o};case"reference":if(!r.dottedName)throw new K("InternalError","Missing dottedName",{});return{...this.evaluateNode(Mn(this.context.parsedRules[r.dottedName])),...e};case"condition":return{...this.evaluateNode({...r,explanation:{si:r.explanation.si,alors:Mn(r.explanation.alors),sinon:Mn(r.explanation.sinon)}}),...e}}const t=this.evaluateNode(r);return{...e,nodeValue:t.nodeValue===void 0?void 0:t.nodeValue===null,missingVariables:t.missingVariables}};ke("est non applicable",M1);function R1(e,r){return{explanation:{assiette:U(e.assiette,r),multiplicateur:e.multiplicateur?U(e.multiplicateur,r):Dr(1),tranches:ds(e.tranches,r)},nodeKind:"grille"}}var F1=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Le multiplicateur ne peut pas Ãªtre nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});const a=ps.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}).map(m=>{if(m.isActive===!1)return m;const l=r(m.montant);return{...m,montant:l,nodeValue:l.nodeValue,unit:l.unit,missingVariables:rr([l,m])}});let s;const o=a.find(m=>m.isActive);o?s=[o]:a[a.length-1].isAfterActive===!1?s=[{nodeValue:!1}]:s=a.filter(m=>m.isActive===void 0);const u=s[0]?s[0].isActive===void 0?void 0:s[0].nodeValue:!1;return{...e,nodeValue:u,missingVariables:rr([t,n,...s]),explanation:{...e.explanation,assiette:t,multiplicateur:n,tranches:a},unit:s[0]?.unit??void 0}};ke("grille",F1);function Xc(e,r,t,n=0,a=100,s=0){let o=r,u=t,m=o,l=e(o),v=e(u),c=l,p,f,g,h,k,x;for(;a-- >0;){if(g=u-o,Math.abs(c)<Math.abs(v)&&(o=u,u=m,m=o,l=v,v=c,c=l),p=1e-15*Math.abs(u)+n/2,f=(m-u)/2,Math.abs(f)<=p||v===0)return u;if(Math.abs(g)>=p&&Math.abs(l)>Math.abs(v)){let d,A;const C=m-u;o===m?(d=v/l,h=C*d,k=1-d):(k=l/c,d=v/c,A=v/l,h=A*(C*k*(k-d)-(u-o)*(d-1)),k=(k-1)*(d-1)*(A-1)),h>0?k=-k:h=-h,h<.75*C*k-Math.abs(p*k)/2&&h<Math.abs(g*k/2)&&(f=h/k)}if(Math.abs(f)<p&&(f=f>0?p:-p),o=u,l=v,u+=f,v=e(u),(v>0&&c>0||v<0&&c<0)&&(m=o,c=l),Math.abs(v)<n)return u;Math.abs(v)<s&&(x=u)}return x}var L1=function(e){const r=this.shallowCopy();if(this.cache._meta.evaluationRuleStack.slice(1).includes(e.explanation.ruleToInverse))return{...pa,...e};r.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],r.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const t=e.explanation.inversionCandidates.find(x=>{if(this.cache._meta.evaluationRuleStack.includes(x.dottedName))return!1;const d=r.evaluateNode(r.context.parsedRules[`${x.dottedName} . $SITUATION`]);return typeof d.nodeValue=="number"&&!(x.dottedName in d.missingVariables)});if(t===void 0)return{...e,nodeValue:void 0,missingVariables:{...Object.fromEntries(e.explanation.inversionCandidates.map(x=>[x.dottedName,1])),[e.explanation.ruleToInverse]:1}};const n=r.evaluateNode(t);let a=0;r.setSituation({[t.dottedName]:pa},{keepPreviousSituation:!0});let s;const o=x=>(a++,r.setSituation({[e.explanation.ruleToInverse]:{nodeValue:x,nodeKind:"constant",type:"number",unit:n.unit}},{keepPreviousSituation:!0}),s=r.evaluateNode(t),s),u=n.nodeValue;let m;const l=u,c=o(l).nodeValue,p=c>u?.9:1.2,f=c!==void 0?l*u*p/c:2e3,h=o(f).nodeValue,k=this.context.inversionMaxIterations??10;if(c!==void 0||h!==void 0){const x=Z=>(Z===l?c:Z===f?h:o(Z).nodeValue)-u,C=h!==void 0&&h<u&&(h>c||c>u)?f:c!==void 0&&c<u&&(c>h||h>u)?l:-1e6,w=h!==void 0&&h>u&&(h<c||c<u)?f:c!==void 0&&c>u&&(c<h||h<u)?l:1e8;m=Xc(x,C,w,.1,k,1)}return m==null&&(this.cache.inversionFail=!0),(s.traversedVariables??[]).forEach(x=>this.cache._meta.traversedVariablesStack[0].add(x)),{...e,nodeValue:m,unit:n.unit,explanation:{...e.explanation,inversionGoal:t,numberOfIteration:a},missingVariables:s.missingVariables}},U1=(e,r)=>{if(!e.avec)throw new K("SyntaxError","Une formule d'inversion doit prÃ©ciser _avec_ quoi on peut inverser la variable",{dottedName:r.dottedName});return{explanation:{ruleToInverse:r.dottedName,inversionCandidates:e.avec.map(t=>({...U(t,r)}))},nodeKind:"inversion"}};ke("inversion",L1);var B1=Ft("le maximum de",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{">":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privÃ©] $INTERNAL valeur":t,"[privÃ©] $INTERNAL acc":r}}),Kr)),z1=Ft("le minimum de",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{"<":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privÃ©] $INTERNAL valeur":t,"[privÃ©] $INTERNAL acc":r}}),Kr));function wi(e){return e.reverse().reduce((r,t)=>({"+":[t,r]}),Kr)}var H1=Ft("somme",{valeur:{type:"liste"}},({valeur:e})=>wi([...e])),J1=Ft("moyenne",{valeur:{type:"liste"}},({valeur:e})=>{const r=[...e];return{"/":[wi(r),wi(r.map(W1))]}});function W1(e){return{"applicable si":{"est applicable":e},valeur:1}}var K1=kr("non applicable si",{"non applicable si":{},valeur:{}},{condition:{si:"non applicable si = non",alors:"valeur",sinon:Kr}}),G1=(e,r)=>(Array.isArray(e)&&(e={possibilitÃ©s:e}),{...e,explanation:e.possibilitÃ©s.map(t=>U(t,r)),context:r.dottedName,nodeKind:"une possibilitÃ©"});ke("une possibilitÃ©",e=>({...e,missingVariables:{[e.context]:1},nodeValue:void 0}));var Qc={"*":[(e,r)=>e*r,"Ã"],"/":[(e,r)=>e/r,"â"],"+":[(e,r)=>e+r],"-":[(e,r)=>e-r,"â"],"<":[(e,r)=>e<r],"<=":[(e,r)=>e<=r,"â¤"],">":[(e,r)=>e>r],">=":[(e,r)=>e>=r,"â¥"],"=":[(e,r)=>(e??!1)===(r??!1)],"!=":[(e,r)=>(e??!1)!==(r??!1),"â "],et:[(e,r)=>(e??!1)&&(r??!1)],ou:[(e,r)=>(e??!1)||(r??!1)]},Y1=(e,r)=>(t,n)=>{const a=t.map(s=>U(s,n));return{...t,nodeKind:"operation",operationKind:e,operator:r||e,explanation:a}},X1=function(e){let r=this.evaluateNode(e.explanation[0]),t={...e,missingVariables:{}};if(r.nodeValue===null&&["<",">","<=",">=","/","*","-","et"].includes(e.operationKind)||r.nodeValue===0&&["/","*"].includes(e.operationKind)||r.nodeValue===!1&&e.operationKind==="et"||r.nodeValue===!0&&e.operationKind==="ou")return{...t,nodeValue:e.operationKind==="et"?!1:r.nodeValue,missingVariables:r.missingVariables};let n=this.evaluateNode(e.explanation[1]);if(t.explanation=[r,n],e.operationKind==="/"&&n.nodeValue===0)throw new K("EvaluationError","Division by zero",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(n.nodeValue===null&&["<",">","<=",">=","/","*","et"].includes(e.operationKind)||n.nodeValue===0&&["*"].includes(e.operationKind)||n.nodeValue===!1&&e.operationKind==="et"||n.nodeValue===!0&&e.operationKind==="ou")return{...t,nodeValue:e.operationKind==="et"?!1:n.nodeValue,missingVariables:n.missingVariables};t.missingVariables=rr([r,n]),(r.nodeValue===void 0||n.nodeValue===void 0)&&(t={...t,nodeValue:void 0});const a=["+","-"].includes(e.operationKind)&&or(n.unit)==="%"&&or(r.unit)!=="%";if(!("nodeValue"in t)&&!["/","*"].includes(e.operationKind)&&!a)try{r.unit&&"unit"in n?n=at(r.unit,n):n.unit&&(r=at(n.unit,r))}catch(m){xa(this.context.logger,`Dans l'expression '${e.operationKind}', la partie gauche (unitÃ©: ${or(r.unit)}) n'est pas compatible avec la partie droite (unitÃ©: ${or(n.unit)})`,{dottedName:this.cache._meta.evaluationRuleStack[0]},m)}const s=Qc[e.operationKind][0],o=r.nodeValue,u=n.nodeValue;if(t.nodeValue="nodeValue"in t?t.nodeValue:["<",">","<=",">=","*","/"].includes(e.operationKind)&&n.nodeValue===null?null:[o,u].every(m=>typeof m=="string"&&m.match?.(/^[\d]{2}\/[\d]{2}\/[\d]{4}$/))?s(Ei(o),Ei(u)):s(o,u),e.operationKind==="*"&&Vr("*",[r.unit,n.unit])?.numerators.includes("%")){let m=Vr("*",[r.unit,n.unit]);const l=t.nodeValue;return{...t,nodeValue:typeof l=="number"?l/100:l,unit:Vr("*",[m,{numerators:[],denominators:["%"]}])}}if(a){let m=Vr("*",[r.unit,n.unit]);return{...t,nodeValue:typeof r.nodeValue=="number"&&typeof n.nodeValue=="number"?r.nodeValue*(1+n.nodeValue/100*(e.operationKind==="-"?-1:1)):t.nodeValue,unit:Vr("*",[m,{numerators:[],denominators:["%"]}])}}return e.operationKind==="*"||e.operationKind==="/"||e.operationKind==="-"||e.operationKind==="+"?{...t,unit:Vr(e.operationKind,[r.unit,n.unit])}:t};ke("operation",X1);var Q1=Object.fromEntries(Object.entries(Qc).map(([e,[r,t]])=>[e,Y1(e,t)])),Z1=Q1,e_=kr("par dÃ©faut",{"par dÃ©faut":{},valeur:{}},{condition:{si:{"est non dÃ©fini":"valeur"},alors:"par dÃ©faut",sinon:"valeur"}}),r_=kr("plafond",{plafond:{},valeur:{}},{condition:{si:{et:["plafond != non","valeur > plafond"]},alors:"plafond",sinon:"valeur"}}),t_=kr("plancher",{plancher:{},valeur:{}},{condition:{si:{et:["plancher != non","valeur < plancher"]},alors:"plancher",sinon:"valeur"}}),wu=kr("produit",{assiette:{},taux:{"par dÃ©faut":"100%"},facteur:{"par dÃ©faut":1},plafond:{"par dÃ©faut":Kr}},{"*":[{"*":["taux","facteur"]},{valeur:"assiette",plafond:"plafond"}],"simplifier l'unitÃ©":"oui"}),n_=function(e){if(this.cache._meta.currentRecalcul===e.explanation.recalculNode)return{...Kr,...e};const r=Object.fromEntries(e.explanation.amendedSituation.filter(([a,s])=>{const o=this.evaluateNode(a),u=this.evaluateNode(s);return o.nodeValue!==u.nodeValue||or(o.unit)!==or(u.unit)}).map(([a,s])=>[a.dottedName,s]));let t=this;Object.keys(r).length&&(t=this.shallowCopy().setSituation(r,{keepPreviousSituation:!0}),t.subEngineId=this.subEngines.length,Object.values(r).forEach(a=>t.cache.nodes.set(a,this.evaluate(a))),this.subEngines.push(t)),t.cache._meta.currentRecalcul=e.explanation.recalculNode;const n=t.evaluateNode(e.explanation.recalculNode);return delete t.cache._meta.currentRecalcul,{...e,nodeValue:n.nodeValue,explanation:{...e.explanation,recalcul:n,subEngineId:t.subEngineId},missingVariables:n.missingVariables,..."unit"in n&&{unit:n.unit}}},a_=(e,r)=>{const t=Object.keys(e.avec).map(a=>[U(a,r),U(e.avec[a],r)]);return{explanation:{recalculNode:U(e.rÃ¨gle??r.dottedName,r),amendedSituation:t},nodeKind:"recalcul"}};ke("recalcul",n_);var i_=function(e){if(this.cache._meta.evaluationRuleStack.slice(1).includes(e.explanation.ruleToSolve))return{...pa,...e};let r=0;const t=this.shallowCopy();t.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],t.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const n=this.context.inversionMaxIterations??25,a=c=>(r++,t.setSituation({[e.explanation.ruleToSolve]:{...pa,nodeValue:c}},{keepPreviousSituation:!0}),t.evaluateNode(e.explanation.valeur)),s=Symbol("inversion failed");let o=s;const u=1;let m=a(u);const l=m.nodeValue,v=m.unit;return l!==void 0&&(o=Xc(g=>g===u?l-u:(m=a(g),m.nodeValue-g),-1e6,1e8,.5,n,2)),o===s&&(o=void 0,this.cache.inversionFail=!0),o!==void 0&&(m=a(o)),{...e,unit:v,nodeValue:o,explanation:{...e.explanation,valeur:m,numberOfIterations:r},missingVariables:m.missingVariables}};function Zc(e,r){return{explanation:{ruleToSolve:r.dottedName,valeur:U(e.valeur,r)},nodeKind:"rÃ©soudre rÃ©fÃ©rence circulaire"}}Zc.nom="rÃ©soudre la rÃ©fÃ©rence circulaire";ke("rÃ©soudre rÃ©fÃ©rence circulaire",i_);function em(e,r){return{explanation:U(e.valeur,r),nodeKind:"simplifier unitÃ©"}}em.nom="simplifier l'unitÃ©";ke("simplifier unitÃ©",function(r){const t=this.evaluateNode(r.explanation),n=t.nodeValue,a={...t,...r,explanation:t};if(n==null)return a;if(!t.unit)return{...a,unit:t.unit};const s=Pc(t.unit);return{...a,nodeValue:typeof n=="number"?An(t.unit,s,n):n,unit:s}});var s_=kr("dans la situation",{valeur:{},"dans la situation":{}},{condition:{si:{"est non dÃ©fini":"dans la situation"},alors:"valeur",sinon:"dans la situation"}});function o_(e,r){return{explanation:{assiette:U(e.assiette,r),multiplicateur:e.multiplicateur?U(e.multiplicateur,r):Dr(1),tranches:ds(e.tranches,r)},nodeKind:"taux progressif"}}var u_=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Division by zero",{dottedName:""});const a=ps.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}),s={...e,explanation:{tranches:a,assiette:t,multiplicateur:n},unit:Zr("%")},o=a[a.length-1];if(a.every(({isActive:d})=>d===!1)||o.isActive&&o.plafond.nodeValue===1/0){const d=at(Zr("%"),r(o.taux)),{nodeValue:A,missingVariables:C}=d;return o.taux=d,o.nodeValue=A,o.missingVariables=C,{...s,nodeValue:A,missingVariables:C}}if(a.every(({isActive:d})=>d!==!0)||typeof t.nodeValue!="number")return{...s,nodeValue:void 0,missingVariables:rr(a)};const u=a.findIndex(({isActive:d})=>d===!0),m=a[u];m.taux=at(Zr("%"),r(m.taux));const l=a[u-1];l&&(l.taux=at(Zr("%"),r(l.taux)),l.isActive=!0);const v=l?l.taux:m.taux,c=[v,m.taux];if(c.some(d=>d.nodeValue===void 0))return m.nodeValue=void 0,{...s,nodeValue:void 0,missingVariables:rr(c)};const p=v.nodeValue,f=m.taux.nodeValue,g=m.plancherValue,h=m.plafondValue,k=(f-p)/(h-g),x=p+(t.nodeValue-g)*k;return m.nodeValue=x,{...s,nodeValue:x,missingVariables:{}}};ke("taux progressif",u_);var gs="texte";function Di(e,r){const t=[];let n=0;for(const{0:a,index:s}of e.matchAll(/{{(.|\n)*?}}/g)){const o=a.slice(2,-2).trim(),u=U(o,r);t.push(e.substring(n,s),u),n=(s??0)+a.length}return t.push(e.slice(n)),{nodeKind:gs,explanation:t}}Di.nom=gs;ke(gs,function(r){const t=r.explanation.map(n=>typeof n=="string"?n:this.evaluateNode(n));return{...r,explanation:t,missingVariables:rr(r.explanation.filter(n=>typeof n!="string")),nodeValue:t.map(n=>typeof n=="string"?n:d1(n)).join("")}});var l_=Ft("toutes ces conditions",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({et:[r,t]}),"oui")),c_=Ft("une de ces conditions",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({ou:[r,t]}),"non"));function Sa(e,r){const t=U(e.valeur,r),n=Zr(e.unitÃ©,r.getUnitKey);return{explanation:t,unit:n,nodeKind:Sa.nom}}Sa.nom="unitÃ©";ke(Sa.nom,function(r){const t=this.evaluateNode(r.explanation);let n=t.nodeValue;if(n!==null&&"unit"in r)try{n=An(t.unit,r.unit,t.nodeValue)}catch(a){xa(this.context.logger,"Erreur lors de la conversion d'unitÃ© explicite",{dottedName:this.cache._meta.evaluationRuleStack[0]},a)}return{...r,nodeValue:n,explanation:t,missingVariables:t.missingVariables}});function Aa(e,r){return{missingVariable:e["variable manquante"],nodeKind:Aa.nom,explanation:U(e.valeur,r)}}Aa.nom="variable manquante";ke(Aa.nom,function(r){const t=this.evaluateNode(r.explanation),n=Object.values(t.missingVariables).reduce((a,s)=>a>s?a:s,0);return{...r,nodeValue:t.nodeValue,unit:t.unit,explanation:t,missingVariables:ct(t.missingVariables,{[r.missingVariable]:n+1})}});var m_=(e,r,t)=>{if(e==="valeur")return U(r,t);const{variations:n,...a}=r;return U({variations:n.map(({alors:o,sinon:u,si:m})=>{const{attributs:l,...v}=o??u;return{[o!==void 0?"alors":"sinon"]:{...l,[e]:{...a,...v}},...m!==void 0&&{si:m}}})},t)};function v_(e,r){return{explanation:e.map(({si:n,alors:a,sinon:s})=>s!==void 0?{consequence:U(s,r),condition:Dr(!0)}:{consequence:U(a,r),condition:U(n,r)}),nodeKind:"variations"}}var $_=function(e){const[r,t,n]=e.explanation.reduce(([a,s,o,u],{condition:m,consequence:l},v)=>{if(u===!0)return[a,[...s,{condition:m,consequence:l}],o,u];const c=this.evaluateNode(m),p=u===void 0?u:!u&&(c.nodeValue===void 0?void 0:c.nodeValue!==!1&&c.nodeValue!==null);if(p===!1||p===null)return[a,[...s,{condition:c,consequence:l}],o,u];let f;if(c.nodeValue!==!1&&c.nodeValue!==null&&(f=this.evaluateNode(l),o))try{f=at(o,f)}catch(g){xa(this.context.logger,`L'unitÃ© de la branche nÂ° ${v+1} du mÃ©canisme 'variations' n'est pas compatible avec celle d'une branche prÃ©cÃ©dente`,{dottedName:this.cache._meta.evaluationRuleStack[0]},g)}return[p&&f?.nodeValue,[...s,{condition:c,consequence:f??l}],o||f?.unit,u||p]},[null,[],void 0,!1]);return{...e,nodeValue:r,...n!==void 0&&{unit:n},explanation:t,missingVariables:t.reduce((a,{condition:s,consequence:o})=>ct(a,ct(jc(s.missingVariables),"nodeValue"in s&&s.nodeValue!==!1&&s.nodeValue!==null?o.missingVariables:{})),{})}};ke("variations",$_);var f_=wc(_g(),1),Rn=([e,,r,,t])=>({[r.value.toLowerCase()]:[e,t]}),d_=([e,,r])=>({[e]:[gt([{value:"0"}]),r]}),p_=({value:e})=>({variable:e}),Du=([{value:e}])=>{console.log(e)},gt=([{value:e}])=>({constant:{type:"number",nodeValue:parseFloat(e)}}),b_=e=>({...gt(e),unitÃ©:e[2].value}),Su=([{value:e}])=>({constant:{type:"date",nodeValue:Fc(e)}}),Ua=([{value:e}])=>({constant:{type:"boolean",nodeValue:e==="oui"}}),Au=([{value:e}])=>({constant:{type:"string",nodeValue:e.slice(1,-1)}}),h_=wc(yg(),1);function de(e){return e[0]}var g_="(?:(?:0?[1-9]|[12][0-9]|3[01])\\/)?(?:0?[1-9]|1[012])\\/\\d{4}",__="[a-zA-ZÃ-Å¿â¬$%]",y_="[a-zA-ZÃ-Å¿0-9',Â°]",Si=`${__}(?:[-']?${y_}+)*`,E_="-?(?:[1-9][0-9]+|[0-9])(?:\\.[0-9]+)?",te=h_.default.compile({"(":"(",")":")","[":"[","]":"]",comparison:[">","<",">=","<=","=","!="],date:new RegExp(g_),boolean:["oui","non"],number:new RegExp(E_),word:new RegExp(Si),string:[/'.*'/,/".*"/],JSONObject:/{.*}/,additionSubstraction:/[\+-]/,multiplicationDivision:["*","/"],dot:" . ",".":".",space:{match:/[\s]+/,lineBreaks:!0}}),Wt=e=>({value:e.map(r=>r&&r.value).join("")}),Fn=([e,r])=>Array.isArray(r)?Wt([e,...r]):e,k_=te,x_=[{name:"main",symbols:["Comparison"],postprocess:de},{name:"main",symbols:["NumericValue"],postprocess:de},{name:"main",symbols:["Date"],postprocess:de},{name:"main",symbols:["NonNumericTerminal"],postprocess:de},{name:"main",symbols:["JSONObject"],postprocess:de},{name:"NumericValue",symbols:["AdditionSubstraction"],postprocess:de},{name:"NumericValue",symbols:["Negation"],postprocess:de},{name:"NumericTerminal",symbols:["Variable"],postprocess:de},{name:"NumericTerminal",symbols:["number"],postprocess:de},{name:"Negation",symbols:[{literal:"-"},te.has("space")?{type:"space"}:space,"Parentheses"],postprocess:d_},{name:"Parentheses",symbols:[{literal:"("},te.has("space")?{type:"space"}:space,"NumericValue",te.has("space")?{type:"space"}:space,{literal:")"}],postprocess:([,,e])=>e},{name:"Parentheses",symbols:[{literal:"("},"NumericValue",{literal:")"}],postprocess:([,e])=>e},{name:"Parentheses",symbols:["NumericTerminal"],postprocess:de},{name:"Date",symbols:["Variable"],postprocess:de},{name:"Date",symbols:[te.has("date")?{type:"date"}:Su],postprocess:Su},{name:"Comparison",symbols:["Comparable",te.has("space")?{type:"space"}:space,te.has("comparison")?{type:"comparison"}:comparison,te.has("space")?{type:"space"}:space,"Comparable"],postprocess:Rn},{name:"Comparison",symbols:["Date",te.has("space")?{type:"space"}:space,te.has("comparison")?{type:"comparison"}:comparison,te.has("space")?{type:"space"}:space,"Date"],postprocess:Rn},{name:"Comparable$subexpression$1",symbols:["AdditionSubstraction"]},{name:"Comparable$subexpression$1",symbols:["NonNumericTerminal"]},{name:"Comparable",symbols:["Comparable$subexpression$1"],postprocess:([[e]])=>e},{name:"NonNumericTerminal",symbols:[te.has("boolean")?{type:"boolean"}:Ua],postprocess:Ua},{name:"NonNumericTerminal",symbols:[te.has("string")?{type:"string"}:Au],postprocess:Au},{name:"Variable$ebnf$1",symbols:[]},{name:"Variable$ebnf$1$subexpression$1",symbols:[te.has("dot")?{type:"dot"}:dot,"Words"],postprocess:Wt},{name:"Variable$ebnf$1",symbols:["Variable$ebnf$1","Variable$ebnf$1$subexpression$1"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Variable",symbols:["Words","Variable$ebnf$1"],postprocess:e=>p_(Fn(e))},{name:"Words$ebnf$1$subexpression$1$ebnf$1",symbols:[te.has("space")?{type:"space"}:space],postprocess:de},{name:"Words$ebnf$1$subexpression$1$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Words$ebnf$1$subexpression$1",symbols:["Words$ebnf$1$subexpression$1$ebnf$1","WordOrNumber"],postprocess:Wt},{name:"Words$ebnf$1",symbols:["Words$ebnf$1$subexpression$1"]},{name:"Words$ebnf$1$subexpression$2$ebnf$1",symbols:[te.has("space")?{type:"space"}:space],postprocess:de},{name:"Words$ebnf$1$subexpression$2$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Words$ebnf$1$subexpression$2",symbols:["Words$ebnf$1$subexpression$2$ebnf$1","WordOrNumber"],postprocess:Wt},{name:"Words$ebnf$1",symbols:["Words$ebnf$1","Words$ebnf$1$subexpression$2"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Words",symbols:["WordOrKeyword","Words$ebnf$1"],postprocess:Fn},{name:"Words",symbols:[te.has("word")?{type:"word"}:Si],postprocess:de},{name:"WordOrKeyword",symbols:[te.has("word")?{type:"word"}:Si],postprocess:de},{name:"WordOrKeyword",symbols:[te.has("boolean")?{type:"boolean"}:Ua],postprocess:de},{name:"WordOrNumber",symbols:["WordOrKeyword"],postprocess:de},{name:"WordOrNumber",symbols:[te.has("number")?{type:"number"}:gt],postprocess:de},{name:"UnitDenominator$ebnf$1$subexpression$1",symbols:[te.has("space")?{type:"space"}:space]},{name:"UnitDenominator$ebnf$1",symbols:["UnitDenominator$ebnf$1$subexpression$1"],postprocess:de},{name:"UnitDenominator$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"UnitDenominator",symbols:["UnitDenominator$ebnf$1",{literal:"/"},"Words"],postprocess:Wt},{name:"UnitNumerator$ebnf$1$subexpression$1",symbols:[{literal:"."},"Words"]},{name:"UnitNumerator$ebnf$1",symbols:["UnitNumerator$ebnf$1$subexpression$1"],postprocess:de},{name:"UnitNumerator$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"UnitNumerator",symbols:["Words","UnitNumerator$ebnf$1"],postprocess:Fn},{name:"Unit$ebnf$1",symbols:["UnitNumerator"],postprocess:de},{name:"Unit$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Unit$ebnf$2",symbols:[]},{name:"Unit$ebnf$2",symbols:["Unit$ebnf$2","UnitDenominator"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Unit",symbols:["Unit$ebnf$1","Unit$ebnf$2"],postprocess:Fn},{name:"AdditionSubstraction",symbols:["AdditionSubstraction",te.has("space")?{type:"space"}:space,te.has("additionSubstraction")?{type:"additionSubstraction"}:additionSubstraction,te.has("space")?{type:"space"}:space,"MultiplicationDivision"],postprocess:Rn},{name:"AdditionSubstraction",symbols:["MultiplicationDivision"],postprocess:de},{name:"MultiplicationDivision",symbols:["MultiplicationDivision",te.has("space")?{type:"space"}:space,te.has("multiplicationDivision")?{type:"multiplicationDivision"}:multiplicationDivision,te.has("space")?{type:"space"}:space,"Parentheses"],postprocess:Rn},{name:"MultiplicationDivision",symbols:["Parentheses"],postprocess:de},{name:"number",symbols:[te.has("number")?{type:"number"}:gt],postprocess:gt},{name:"number$ebnf$1$subexpression$1",symbols:[te.has("space")?{type:"space"}:space]},{name:"number$ebnf$1",symbols:["number$ebnf$1$subexpression$1"],postprocess:de},{name:"number$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"number",symbols:[te.has("number")?{type:"number"}:gt,"number$ebnf$1","Unit"],postprocess:b_},{name:"JSONObject",symbols:[te.has("JSONObject")?{type:"JSONObject"}:Du],postprocess:Du}],C_="main",w_={Lexer:k_,ParserRules:x_,ParserStart:C_},{Grammar:D_,Parser:S_}=f_.default,A_=D_.fromCompiled(w_),Ai=new S_(A_),j_=Ai.save();function V_(e,r){const t=(e+"").replace(/\s*\n\s*/g," ").trim();try{Ai.restore(j_);const[n]=Ai.feed(t).results;if(n==null)throw new K("InternalError",`
Un problÃ¨me est survenu lors du parsing de l'expression \`${t}\` :

	le parseur Nearley n'a pas rÃ©ussi Ã  parser l'expression.
`,{dottedName:r});return n}catch(n){throw n instanceof K?n:new K("SyntaxError",`\`${t}\` n'est pas une expression valide`,{dottedName:r},n)}}function O_(e,r){if(!r.dottedName)throw new Sn({message:"Une rÃ©fÃ©rence ne peut pas exister en dehors d'une rÃ¨gle (`context.dottedName` est vide)",context:r});return{nodeKind:"reference",name:e,contextDottedName:r.dottedName}}ke("reference",function(r){if(!r.dottedName)throw new Sn(r);const t=this.evaluateNode(this.context.parsedRules[r.dottedName]);return delete t.sourceMap,{...t,...r}});function U(e,r){if(e==null)throw new K("SyntaxError",`
	Une des valeurs de la formule est vide.
	VÃ©rifiez que tous les champs Ã  droite des deux points sont remplis`,{dottedName:r.dottedName});if(typeof e=="boolean")throw new K("SyntaxError",`
Les valeurs boolÃ©ennes true / false ne sont acceptÃ©es.
Utilisez leur contrepartie franÃ§aise : 'oui' / 'non'`,{dottedName:r.dottedName});const t=typeof e=="object"?e:V_(e,r.dottedName);return"nodeKind"in t?t:"nom"in t?P1(t,r):{...I_(t,r),rawNode:e}}function ju(e,r){if(Array.isArray(e))throw new K("SyntaxError",`
Il manque le nom du mÃ©canisme pour le tableau : [${e.map(o=>`'${o}'`).join(", ")}]
Les mÃ©canisme possibles sont : 'somme', 'le maximum de', 'le minimum de', 'toutes ces conditions', 'une de ces conditions'.
		`,{dottedName:r.dottedName});const t=Object.keys(e);if(t.length>1)throw new K("SyntaxError",`
Les mÃ©canismes suivants se situent au mÃªme niveau : ${t.map(o=>`'${o}'`).join(", ")}
Cela vient probablement d'une erreur dans l'indentation
	`,{dottedName:r.dottedName});if(t.length===0)return{nodeKind:"constant",nodeValue:void 0};const n=t[0],a=e[n],s=tm[n];if(!s)throw new K("SyntaxError",`Le mÃ©canisme "${n}" est inconnu.

VÃ©rifiez qu'il n'y ait pas d'erreur dans l'orthographe du nom.`,{dottedName:r.dottedName});try{return a?.composantes?n1(n,a,r):a?.variations&&Object.values(a).length>1?m_(n,a,r):s(a,r)}catch(o){throw o instanceof K?o:new K("SyntaxError",n?`â¡ï¸ Dans le mÃ©canisme ${n}
${o.message}`:o.message,{dottedName:r.dottedName})}}var rm=[Aa,Mc,zg,K1,wa,Sa,em,t_,r_,e_,s_,Zc,Bg];function I_(e,r){const t=rm.find(s=>s.nom in e);if(!t)return ju(e,r);const{[t.nom]:n,...a}=e;return ju({[t.nom]:{valeur:a,[t.nom]:n}},r)}var tm={...Z1,...rm.reduce((e,r)=>({[r.nom]:r,...e}),{}),"inversion numÃ©rique":U1,"le maximum de":B1,"le minimum de":z1,"taux progressif":o_,"toutes ces conditions":l_,"est non dÃ©fini":Uc,"est non applicable":Yc,"est applicable":c1,"est dÃ©fini":l1,"une de ces conditions":c_,"une possibilitÃ©":G1,condition:Rc,barÃ¨me:e1,durÃ©e:u1,grille:R1,multiplication:wu,produit:wu,recalcul:a_,somme:H1,moyenne:J1,[Di.nom]:Di,valeur:U,variable:O_,variations:v_,constant:e=>({type:e.type,fullPrecision:!0,isNullable:e.nodeValue==null,missingVariables:{},nodeValue:e.nodeValue,nodeKind:"constant"})},N_=Object.keys(tm);function $n(e){return{dottedName:"",logger:console,getUnitKey:r=>r,parsedRules:{},referencesMaps:{referencesIn:new Map,rulesThatUse:new Map},nodesTypes:new WeakMap,rulesReplacements:{},...e}}function Ba(e){return{...e,parsedRules:{...e.parsedRules},referencesMaps:{referencesIn:new Map(e.referencesMaps.referencesIn),rulesThatUse:new Map(e.referencesMaps.rulesThatUse)}}}function Yn(e,r=$n({})){if(typeof e=="string")throw new K("EngineError","Publicodes does not parse yaml rule sets itself anymore. Please provide a parsed js object. E.g. the `eemeli/yaml` package.",{});let t=Ot(e);const n=$n(r);let a=n.parsedRules;n.parsedRules={};for(const v in t){let c=t[v];if((typeof c=="string"||typeof c=="number")&&(c={valeur:`${c}`}),typeof c!="object")throw new K("SyntaxError",`Rule ${v} is incorrectly written. Please give it a proper value.`,{dottedName:v});const p=Ot(c);p.nom=v,U(p,n)}let s={};for(const v in a)s[v]=a[v];for(const v in n.parsedRules)s[v]=n.parsedRules[v];let[o,u]=q_(s,n.parsedRules,n.referencesMaps),m;[s,m]=N1({parsedRules:s,newRules:o,referencesMaps:u,previousReplacements:n.rulesReplacements,logger:n.logger});const l=Ug(Object.keys(o),s,n.nodesTypes);return{parsedRules:s,nodesTypes:l,referencesMaps:u,rulesReplacements:m}}function q_(e,r,t){const n=da(o=>Ci(o,e)),a=da(o=>{const u=Ci(o,e);return u&&hs(u,t),u});return[xg(o=>o.nodeKind==="replacementRule"?n(o):a(o),r),t]}var Ln=()=>({_meta:{evaluationRuleStack:[],parentRuleStack:[],traversedVariablesStack:[]},nodes:new Map}),P_=class nm{constructor(r={},t={}){fe(this,"baseContext");fe(this,"context");fe(this,"publicParsedRules");fe(this,"cache",Ln());fe(this,"subEngines",[]);fe(this,"subEngineId");fe(this,"checkExperimentalRule",Dc(r=>(r.nodeKind==="reference"&&xi(this.context.parsedRules,r.dottedName)&&mu(this.baseContext.logger,r.dottedName),"continue")));const n={dottedName:"",...t};this.baseContext=$n({...n,...Yn(r,n)}),this.context=this.baseContext,this.publicParsedRules={};for(const a in this.baseContext.parsedRules){const s=this.baseContext.parsedRules[a];!s.private&&Da(this.baseContext.parsedRules,"",a)&&(this.publicParsedRules[a]=s)}}resetCache(){this.cache=Ln()}setSituation(r={},t={}){this.resetCache();const n=t.keepPreviousSituation??!1;Object.keys(r).forEach(o=>{if(!(o in this.baseContext.parsedRules))throw new K("EvaluationError",`Erreur lors de la mise Ã  jour de la situation : ${o} n'existe pas dans la base de rÃ¨gle.`,{dottedName:o});if(this.baseContext.parsedRules[o].private)throw new K("EvaluationError",`Erreur lors de la mise Ã  jour de la situation : ${o} est une rÃ¨gle privÃ©e (il n'est pas possible de modifier une rÃ¨gle privÃ©e).`,{dottedName:o})});const a=Object.fromEntries(Object.entries(r).map(([o,u])=>[`[privÃ©] ${o} . $SITUATION`,u&&typeof u=="object"&&"nodeKind"in u?{valeur:u}:u])),s=Ba(this.baseContext);try{this.context={...this.baseContext,...Yn(a,n?this.context:this.baseContext)}}catch(o){throw this.baseContext=s,o}return this.baseContext=s,Object.keys(r).forEach(o=>{xi(this.context.parsedRules,o)&&mu(this.baseContext.logger,o),this.checkExperimentalRule(this.context.parsedRules[`${o} . $SITUATION`])}),this}inversionFail(){return!!this.cache.inversionFail}getRule(r){if(!(r in this.baseContext.parsedRules))throw new K("UnknownRule",`La rÃ¨gle '${r}' n'existe pas`,{dottedName:r});if(!(r in this.publicParsedRules))throw new K("PrivateRule",`La rÃ¨gle ${r} est une rÃ¨gle privÃ©e.`,{dottedName:r});return this.publicParsedRules[r]}getParsedRules(){return this.publicParsedRules}evaluate(r){const t=this.cache.nodes.get(r);if(t)return t;this.context={...this.context,...Yn({"[privÃ©] $EVALUATION":r&&typeof r=="object"&&"nodeKind"in r?{valeur:r}:r},this.context)},this.checkExperimentalRule(this.context.parsedRules.$EVALUATION),this.cache._meta=Ln()._meta;const n=this.evaluateNode(this.context.parsedRules.$EVALUATION.explanation.valeur);return this.cache.nodes.set(r,n),n}evaluateNode(r){const t=this.cache.nodes.get(r);if(t!==void 0)return t.traversedVariables?.forEach(s=>this.cache._meta.traversedVariablesStack[0]?.add(s)),t;if(!nn[r.nodeKind])throw new K("EvaluationError",`Unknown "nodeKind": ${r.nodeKind}`,{dottedName:""});const n=this.cache._meta.traversedVariablesStack.length===0||r.nodeKind==="rule";n&&this.cache._meta.traversedVariablesStack.unshift(new Set),r.nodeKind==="reference"&&r.dottedName&&r.dottedName in this.publicParsedRules&&this.cache._meta.traversedVariablesStack[0].add(r.dottedName);const a=nn[r.nodeKind].call(this,r);return n&&(a.traversedVariables=Array.from(this.cache._meta.traversedVariablesStack.shift()??[]),this.cache._meta.traversedVariablesStack.length>0&&a.traversedVariables.forEach(s=>{this.cache._meta.traversedVariablesStack[0].add(s)})),this.cache.nodes.set(r,a),a}shallowCopy(){const r=new nm;return r.baseContext=Ba(this.baseContext),r.context=Ba(this.context),r.publicParsedRules=this.publicParsedRules,r.cache={...Ln(),nodes:new Map(this.cache.nodes)},r}};class T_ extends P_{constructor(t,n){super(t);fe(this,"elmApp");this.elmApp=n}setSituation(t,n){return this.elmApp.ports.situationUpdated.send(null),super.setSituation(t,n)}evaluateAll(t){const n=t.map(a=>{const s=super.evaluate(a);return[a,{nodeValue:s.nodeValue??null,isNullable:s?.isNullable??!1,missingVariables:Object.keys(s.missingVariables)}]});return this.elmApp.ports.evaluatedRules.send(n),n}}const M_={titre:"Alimentation",formule:{somme:["repas","petits dÃ©jeuners","boissons","ecocups","dÃ©chets","artistes"]},unitÃ©:"kgCO2e",note:`A ajouter dans une V2 ?
  - Part de nourriture bio sur l'ensemble des repas
  - Part de nourriture de saison sur l'ensemble des repas
  - Part de nourriture locale sur l'ensemble des repas
  - Prise en compte du gaspillage ?
`},R_={titre:"Communication",formule:{somme:["merchandising","numÃ©rique","textile bÃ©nÃ©voles"]},unitÃ©:"kgCO2e"},F_=null,L_={titre:"Fret",formule:{somme:["infrastructures","artistes"]}},U_={titre:"Gestion des infrastructures",formule:{somme:["fret","bÃ¢timents","scÃ©nographie"]},unitÃ©:"kgCO2e"},B_={titre:"RÃ©sultats"},z_={titre:"Transport",formule:{somme:["public","artistes"]},unitÃ©:"kgCO2e"},H_=null,J_=null,am={alimentation:M_,"alimentation . artistes":{titre:"Alimentation des artistes",formule:{somme:["repas","petits dÃ©jeuners"]},note:`Par dÃ©faut, on considÃ¨re que les artistes consomment un repas sur place, un petit dÃ©jeuner s'ils sont hÃ©bergÃ©s.
`},"alimentation . artistes . repas":{formule:{recalcul:{rÃ¨gle:"alimentation . repas",avec:{"informations . nombre de repas total":"informations . nombre artistes * 1 repas","alimentation . repas . proposition":"alimentation . artistes . repas . type"}}}},"alimentation . artistes . repas . type":{question:"Quelle type de rÃ©gime alimentaire prÃ©voyez-vous pour les artistes ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["vÃ©gÃ©talien","vÃ©gÃ©tarien","mixte vÃ©gÃ© viande","viande uniquement"]}},"par dÃ©faut":"'mixte vÃ©gÃ© viande'"},"alimentation . artistes . repas . type . vÃ©gÃ©talien":{titre:"Uniquement vÃ©gan"},"alimentation . artistes . repas . type . vÃ©gÃ©tarien":{titre:"Uniquement vÃ©gÃ©tarien"},"alimentation . artistes . repas . type . mixte vÃ©gÃ© viande":{titre:"Mixte vÃ©gÃ©tarien / viande"},"alimentation . artistes . repas . type . viande uniquement":{titre:"Uniquement carnÃ©"},"alimentation . artistes . petits dÃ©jeuners":{"applicable si":"hÃ©bergement . artistes . prÃ©sent",formule:{recalcul:{rÃ¨gle:"alimentation . petits dÃ©jeuners",avec:{"alimentation . petits dÃ©jeuners . nombre":"informations . nombre artistes * 1 repas"}}}},"nosgestesclimat . alimentation . boisson . tasse de cafÃ©":{titre:"Empreinte d'une tasse de cafÃ©",formule:"empreinte cafÃ© moulu * quantitÃ© cafÃ© par tasse",unitÃ©:"kgCO2e/tasse",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de cafÃ© . empreinte cafÃ© moulu":{formule:10.09,unitÃ©:"kgCO2e/kg",note:"Facteur d'Ã©mission issu d'[Agibalyse, cafÃ© moulu](https://agribalyse.ademe.fr/app/aliments/18003#Caf%C3%A9,_moulu).",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de cafÃ© . quantitÃ© cafÃ© par tasse":{formule:.012,unitÃ©:"kg/tasse",note:"on fait l'hypothÃ¨se qu'une tasse de cafÃ© contient en moyenne 12 grammes de cafÃ© moulu.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ©":{titre:"Empreinte d'une tasse de thÃ©",formule:"empreinte thÃ© infusÃ© sans consommation * quantitÃ© thÃ© par tasse",unitÃ©:"kgCO2e/tasse",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . empreinte thÃ© infusÃ© sans consommation":{formule:"empreinte thÃ© infusÃ© * (1 - part consommation empreinte thÃ© infusÃ©)",unitÃ©:"kgCO2e/kg",note:`Pour l'empreinte d'une tasse de cafÃ© ou chocolat chaud, la part liÃ©e Ã  la consommation (chauffage de l'eau notamment) n'est pas prise en compte dans le facteur d'Ã©mission
ce qui n'est pas le cas du facteur d'Ã©mission du thÃ© issu d'Agribalyse. Si la boisson est bue Ã  domicile, la consommation est dÃ©jÃ  incluse dans la facture Ã©lectrique du logement.
En revanche, si elle est prise dans un cafÃ©, l'empreinte de la consommation doit Ãªtre ajoutÃ©e.
Nous faisons le choix de ne pas inclure la consommation dans les boissons chaudes
(la part liÃ©e Ã  la consommation Ã©tant nÃ©gligeable pour le cafÃ© et chocolat chaud devant les grains de cafÃ© ou le cacao)
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . quantitÃ© thÃ© par tasse":{formule:.25,unitÃ©:"kg/tasse",note:"On fait l'hypothÃ¨se qu'une tasse de thÃ© fait en moyenne 250 grammes.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . empreinte thÃ© infusÃ©":{formule:.04,unitÃ©:"kgCO2e/kg",note:"Facteur d'Ã©mission issu d'[Agibalyse, thÃ© infusÃ© non sucrÃ©](https://agribalyse.ademe.fr/app/aliments/18020#Th%C3%A9_infus%C3%A9,_non_sucr%C3%A9).",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . part consommation empreinte thÃ© infusÃ©":{formule:"25%",note:`Selon la dÃ©composition issu d'[Agibalyse, thÃ© infusÃ© non sucrÃ©](https://agribalyse.ademe.fr/app/aliments/18020#Th%C3%A9_infus%C3%A9,_non_sucr%C3%A9),
la part de consommation dans le facteur d'Ã©mission du thÃ© reprÃ©sente 25%.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur":{formule:{moyenne:["facteur sodas","facteur jus de fruits"]},note:"Cette valeur est bien sÃ»r trÃ¨s approximative.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur sodas":{formule:.51,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, Cola, sucrÃ©](https://agribalyse.ademe.fr/app/aliments/18037#Cola,_sucr%C3%A9,_avec_%C3%A9dulcorants), 0.51 kgCO2e/kg. On considÃ¨re que la masse volumique est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur jus de fruits":{formule:.91,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, Jus multifruit, pur jus, standard](https://agribalyse.ademe.fr/app/aliments/2069#Jus_multifruit,_%C3%A0_base_de_concentr%C3%A9,_standard), 0.91 kgCO2e/kg. On considÃ¨re que la masse volumique est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur":{formule:{moyenne:["facteur biÃ¨re","facteur vin","facteur cocktail"]},note:"Le vin n'a pas la mÃªme empreinte que la biÃ¨re au litre, c'est une grosse simplification.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur biÃ¨re":{formule:1.12,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, biÃ¨re coeur de marchÃ©](https://agribalyse.ademe.fr/app/aliments/5001#Bi%C3%A8re_%22coeur_de_march%C3%A9%22_(4-5%C2%B0_alcool)), 1.12 kgCO2e/kg. On considÃ¨re que la masse volumique de la biÃ¨re est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur vin":{formule:1.22,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, vin blanc sec](https://agribalyse.ademe.fr/app/aliments/5215#Vin_blanc_sec), 1.22 kgCO2e/kg. On considÃ¨re que la masse volumique du vin est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur cocktail":{formule:.91,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, cocktail base rhum](https://agribalyse.ademe.fr/app/aliments/1012#Cocktail_%C3%A0_base_de_rhum), 0.91 kgCO2e/kg. On considÃ¨re que la masse volumique d'un cocktail est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte":{formule:.27,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agibalyse, eau embouteillÃ©e de source](https://agribalyse.ademe.fr/app/aliments/18430#Eau_embouteillÃ©e_de_source).",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"alimentation . boissons":{titre:"Boissons",formule:{somme:["froide","chaude"]}},"alimentation . boissons . froide":{formule:{somme:["eau","eau en bouteille","soft","alcool"]},note:"On fait l'hypothÃ¨se que les boissons ne sont pas servies en bouteilles individuelles."},"alimentation . boissons . froide . eau":{formule:"quantitÃ© * empreinte",note:"On fait l'hypothÃ¨se de fontaine Ã  eau."},"alimentation . boissons . froide . eau . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . eau . quantitÃ© par jour":{formule:"0.5 l * informations . nombre de personnes par jour"},"alimentation . boissons . froide . eau . empreinte":{formule:62e-5,unitÃ©:"kgCO2e/l",note:`Facteur d'Ã©mission issu de la base empreinte "Eau potable, mix de provenances".
Si eau en bouteille: 0.27 kgCO2e/l
`},"alimentation . boissons . froide . eau en bouteille":{"applicable si":"eau en bouteille prÃ©sent",formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte"},"alimentation . boissons . froide . eau en bouteille prÃ©sent":{question:"Allez-vous prÃ©voir de l'eau en bouteille pour les Ã©quipes ?","par dÃ©faut":"oui"},"alimentation . boissons . froide . eau en bouteille . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . eau en bouteille . quantitÃ© par jour":{formule:"0.5 l/jour * informations . nombre de bÃ©nÃ©voles"},"alimentation . boissons . froide . soft":{formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur",note:`A priori, le facteur d'Ã©mission d'agribalyse considÃ¨re bien une part d'emballage qui correspond Ã  la bouteille. 
On suppose que ce sont des grands formats.
`},"alimentation . boissons . froide . soft . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . soft . quantitÃ© par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour"},"alimentation . boissons . froide . soft . quantitÃ© par jour et par personne":{question:'Quelle quantitÃ© de boissons "soft" est consommÃ©e par personne et par jour ?',"par dÃ©faut":.5,unitÃ©:"l"},"alimentation . boissons . froide . alcool":{formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . alcool . facteur",note:`On considÃ¨re ici une moyenne de plusieurs types d'alcool dont le facteur d'Ã©mission est nÃ©anmoins trÃ¨s proche.
On pourrait imaginer sÃ©parer la biÃ¨re du reste ouo considÃ©rer seulement la biÃ¨re.
`},"alimentation . boissons . froide . alcool . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . alcool . quantitÃ© par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour"},"alimentation . boissons . froide . alcool . quantitÃ© par jour et par personne":{question:"Quelle quantitÃ© d'alcool est consommÃ©e par personne et par jour ?","par dÃ©faut":.5,unitÃ©:"l"},"alimentation . boissons . chaude":{formule:{somme:["cafÃ©","thÃ©"]}},"alimentation . boissons . chaude . cafÃ©":{formule:"nombre * nosgestesclimat . alimentation . boisson . tasse de cafÃ©"},"alimentation . boissons . chaude . cafÃ© . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . boissons . chaude . cafÃ© . nombre par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour",note:"On fait l'hypothÃ¨se qu'en moyenne, la consommation sera de 1 cafÃ© par personne et par jour."},"alimentation . boissons . chaude . cafÃ© . quantitÃ© par jour et par personne":{question:"Quelle quantitÃ© de cafÃ© est consommÃ©e par personne et par jour ?","par dÃ©faut":1,unitÃ©:"tasse"},"alimentation . boissons . chaude . thÃ©":{formule:"nombre * nosgestesclimat . alimentation . boisson . tasse de thÃ©"},"alimentation . boissons . chaude . thÃ© . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . boissons . chaude . thÃ© . nombre par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour",note:"On fait l'hypothÃ¨se qu'en moyenne, la consommation sera de 1 thÃ© pour 10 personnes par jour."},"alimentation . boissons . chaude . thÃ© . quantitÃ© par jour et par personne":{question:"Quelle quantitÃ© de thÃ© est consommÃ©e par personne et par jour ?","par dÃ©faut":"10% * 1 tasse",unitÃ©:"tasse"},"alimentation . dÃ©chets":{formule:{somme:["gobelets"]},unitÃ©:"kgCO2e"},"alimentation . dÃ©chets . gobelets":{"non applicable si":"ecocups prÃ©sent",formule:"2 gobelet * informations . nombre de jours * informations . nombre de personnes par jour * empreinte",unitÃ©:"kgCO2e",note:"On considÃ¨re 2 gobelets par personne par jour."},"alimentation . dÃ©chets . gobelets . empreinte":{formule:{variations:[{si:'gobelets . type = "plastique"',alors:"type . plastique . poids * empreinte plastique par kg"},{si:'gobelets . type = "carton"',alors:"type . carton . poids * empreinte carton par kg"}]},unitÃ©:"kgCO2e/gobelet"},"alimentation . dÃ©chets . gobelets . type":{question:"Quel type de gobelets allez-vous utiliser ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["plastique","carton"]}},"par dÃ©faut":"'plastique'"},"alimentation . dÃ©chets . gobelets . type . plastique":{titre:"Plastique jetable"},"alimentation . dÃ©chets . gobelets . type . plastique . poids":{formule:.01,unitÃ©:"kg/gobelet"},"alimentation . dÃ©chets . gobelets . type . carton":null,"alimentation . dÃ©chets . gobelets . type . carton . poids":{formule:.01,unitÃ©:"kg/gobelet",note:"On considÃ¨re 10g par gobelet."},"alimentation . dÃ©chets . empreinte plastique par kg":{formule:"2 + 0.101",unitÃ©:"kgCO2e/kg",note:`On considÃ¨re du platisque polypropylÃ¨ne (PP) neuf et l'impact fin de vie.
FE issus de la base empreinte (PP - polypropylÃ¨ne et Emballages/Plastique rigide biosourcÃ© PP autres emballages/Fin de vie moyenne filiÃ¨re - Impacts)
`},"alimentation . dÃ©chets . empreinte carton par kg":{formule:"0.670 + 0.737",unitÃ©:"kgCO2e/kg",note:`On considÃ¨re que le carton est recyclÃ© (hypothÃ¨se conservatrice, contrairement Ã  ce qu'on peut penser, 
le carton recyclÃ© est plus impactant que le carton neuf).
FE issus de la base empreinte (Carton/recyclÃ© et Emballages/Carton/Fin de vie moyenne filiÃ¨re - Impacts)
`},"alimentation . ecocups":{"applicable si":"ecocups prÃ©sent",formule:"1 ecocup.jour * informations . nombre de personnes par jour * empreinte / amortissement",unitÃ©:"kgCO2e"},"alimentation . ecocups prÃ©sent":{question:"Allez-vous utiliser des ecocups pour l'Ã©vÃ©nement ?","par dÃ©faut":"oui"},"alimentation . ecocups . rÃ©utilisation":{question:"Est-il prÃ©vu de rÃ©utiliser les ecocups pour une autre Ã©dition ?","par dÃ©faut":"non"},"alimentation . ecocups . amortissement":{formule:{variations:[{si:"ecocups . rÃ©utilisation",alors:3},{sinon:1}]},note:"On considÃ¨re que les ecocups servirons sur 3 Ã©ditions."},"alimentation . ecocups . empreinte":{formule:"poids * dÃ©chets . empreinte plastique par kg",unitÃ©:"kgCO2e/ecocup"},"alimentation . ecocups . poids":{formule:.03,unitÃ©:"kg/ecocup"},"nosgestesclimat . alimentation . petit dÃ©jeuner . continental":{titre:"Continental",formule:.289,unitÃ©:"kgCO2e/repas",description:`
> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le \`@incubateur-ademe/nosgestesclimat\`.


Petit dÃ©jeuner avec pain, viennoiserie, beurre, confiture et un fruit.

Voici le menu type utilisÃ© pour notre calcul.

| IngrÃ©dients     | Qte (g) | Kcal  | ProtÃ©ines (g) | Lipides (g) | gCO2e /g | gCO2e |
| --------------- | ------- | ----- | ------------- | ----------- | -------- | ----- |
| Pain            | 50      | 132,5 | 4,5           | 1,6         | 0,67     | 33,5  |
| Vienoiserie     | 50      | 203   | 4             | 10,5        | 1,7      | 85    |
| Beurre demi-sel | 10      | 71,7  | 0,09          | 8,1         | 7,82     | 78,2  |
| Confiture       | 20      | 27,8  | 0,04          | 0,01        | 1,42     | 28,4  |
| Orange          | 100     | 47    | 0,9           | 0,1         | 0,64     | 64    |
| Total           | 230     | 482   | 9,53          | 20,31       |          | 289,1 |
`},"alimentation . petits dÃ©jeuners":{titre:"Petits dÃ©jeuners","applicable si":"petits dÃ©jeuners prÃ©sent",formule:"nombre * nosgestesclimat . alimentation . petit dÃ©jeuner . continental",note:"On considÃ¨re le petits dÃ©jeuner continental de Nos Gestes Climat"},"alimentation . petits dÃ©jeuners prÃ©sent":{question:"Proposez-vous des petits dÃ©jeuners sur place ?","par dÃ©faut":"oui"},"alimentation . petits dÃ©jeuners . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . petits dÃ©jeuners . nombre par jour":{formule:"1 repas * informations . nombre de personnes par jour"},"nosgestesclimat . alimentation . plats . vÃ©gÃ©talien . empreinte":{titre:"Empreinte d'un repas vÃ©gÃ©talien",formule:.785,unitÃ©:"kgCO2e/repas",note:`Pour l'instant, en l'absence de repas type vÃ©gÃ©talien dans la [base carbone](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm),
nous prenons l'empreinte du repas vÃ©gÃ©tarien, dans lequel nous substituons les 2 Åufs par du tofu et des noix dans l'entrÃ©e qui devient alors une salade,
en gardant approximativement les mÃªmes quantitÃ©s de calories et de protÃ©ines.

> Note : on peut se demander pourquoi la recette fait mention d'une omelette aux oignons sans inclure les oignons. NÃ©gligeables ? Nous les avons ajoutÃ©s.

Notons finalement que le tofu considÃ©rÃ© ici pourrait Ãªtre remplacÃ© par du soja franÃ§ais et une fabrication du tofu franÃ§aise dÃ©carbonÃ©e, notamment pour Ã©viter la dÃ©forestation et rÃ©duire encore plus les Ã©missions, donnant lieu Ã  un rÃ©gime vÃ©gÃ©talien local. Voir [ce papier](https://www.nature.com/articles/s43016-020-0106-x) Ã  ce propos du soja et de la dÃ©forestation.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . vÃ©gÃ©tarien . empreinte":{titre:"Empreinte d'un repas vÃ©gÃ©tarien",formule:1.115,unitÃ©:"kgCO2e/repas",note:`C'est le "Repas vÃ©gÃ©tarien 1" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), [actualisÃ© avec les facteurs d'Ã©mission Agribalyse](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424).

> Note : on peut se demander pourquoi la recette fait mention d'une omelette aux oignons sans inclure les oignons. NÃ©gligeables ? Nous les avons ajoutÃ©.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . viande 1 . empreinte":{titre:"Empreinte d'un repas de type viande 1 (poulet, porc, fromage)",formule:2.098,unitÃ©:"kgCO2e/repas",note:`C'est le "Repas classique 1 (avec poulet)" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), actualisÃ© avec les facteurs d'Ã©mission Agribalyse.

Le facteur d'Ã©mission associÃ© Ã  l'ingrÃ©dient principal (ici le la piÃ¨ce de volaille ou porc) correspond Ã  une moyenne de facteurs d'Ã©missions associÃ©s au porc (piÃ¨ce de viande et charcuterie), poulet, dinde, canard d'Agribalyse.
Cette moyenne est pondÃ©rÃ©e selon les consommations rÃ©elles des FranÃ§ais par type de viande animale.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1200865486) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . viande 2 . empreinte":{titre:"Empreinte d'un repas de type viande 2 (bÅuf, veau, agneau)",formule:5.51,unitÃ©:"kgCO2e/repas",note:`C'est le "Repas classique 2 (avec bÅuf)" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), actualisÃ© avec les facteurs d'Ã©mission Agribalyse.

Le facteur d'Ã©mission associÃ© Ã  l'ingrÃ©dient principal (ici le la piÃ¨ce de viande rouge) correspond Ã  une moyenne de facteurs d'Ã©missions associÃ©s au bÅuf, agneau, veau d'Agribalyse.
Cette moyenne est pondÃ©rÃ©e selon les consommations rÃ©elles des FranÃ§ais par type de viande animale.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1200865486) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"alimentation . repas":{titre:"Repas",formule:{somme:["vÃ©gÃ©talien","vÃ©gÃ©tarien","viande 1","viande 2"]}},"alimentation . repas . vÃ©gÃ©talien":{formule:"nombre * nosgestesclimat . alimentation . plats . vÃ©gÃ©talien . empreinte"},"alimentation . repas . vÃ©gÃ©talien . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . vÃ©gÃ©talien . proportion":{formule:{variations:[{si:"proposition = 'vÃ©gÃ©talien'",alors:"100%"},{sinon:"0%"}]}},"alimentation . repas . vÃ©gÃ©tarien":{formule:"nombre * nosgestesclimat . alimentation . plats . vÃ©gÃ©tarien . empreinte"},"alimentation . repas . vÃ©gÃ©tarien . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . vÃ©gÃ©tarien . proportion":{formule:{variations:[{si:"proposition = 'vÃ©gÃ©tarien'",alors:"100%"},{si:"proposition = 'mixte vÃ©gÃ© viande'",alors:"proposition . mixte vÃ©gÃ© viande . proportion vÃ©gÃ©tarien"},{sinon:"0%"}]}},"alimentation . repas . viande 1":{formule:"nombre * nosgestesclimat . alimentation . plats . viande 1 . empreinte"},"alimentation . repas . viande 1 . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . viande 1 . proportion":{formule:{variations:[{si:"proposition = 'viande uniquement'",alors:"proposition . choix viande . proportion viande 1"},{si:"proposition = 'mixte vÃ©gÃ© viande'",alors:"proposition . choix viande . proportion viande 1 * proposition . mixte vÃ©gÃ© viande . proportion viande"},{sinon:"0%"}]}},"alimentation . repas . viande 2":{formule:"nombre * nosgestesclimat . alimentation . plats . viande 2 . empreinte"},"alimentation . repas . viande 2 . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . viande 2 . proportion":{formule:{variations:[{si:"proposition = 'viande uniquement'",alors:"proposition . choix viande . proportion viande 2"},{si:"proposition = 'mixte vÃ©gÃ© viande'",alors:"proposition . choix viande . proportion viande 2 * proposition . mixte vÃ©gÃ© viande . proportion viande"},{sinon:"0%"}]}},"alimentation . repas . proposition":{question:"Quelle type de rÃ©gime alimentaire prÃ©voyez-vous ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["vÃ©gÃ©talien","vÃ©gÃ©tarien","mixte vÃ©gÃ© viande","viande uniquement"]}},"par dÃ©faut":"'mixte vÃ©gÃ© viande'"},"alimentation . repas . proposition . vÃ©gÃ©talien":{titre:"Uniquement vÃ©gan"},"alimentation . repas . proposition . vÃ©gÃ©tarien":{titre:"Uniquement vÃ©gÃ©tarien"},"alimentation . repas . proposition . mixte vÃ©gÃ© viande":{titre:"Mixte vÃ©gÃ©tarien / viande"},"alimentation . repas . proposition . viande uniquement":{titre:"Uniquement carnÃ©"},"alimentation . repas . proposition . mixte vÃ©gÃ© viande . proportion vÃ©gÃ©tarien":{"applicable si":"proposition = 'mixte vÃ©gÃ© viande'",question:"Comment allez-vous rÃ©partir les rÃ©gimes proposÃ©s ?","par dÃ©faut":"50%",unitÃ©:"%"},"alimentation . repas . proposition . mixte vÃ©gÃ© viande . proportion viande":{"applicable si":"proposition = 'mixte vÃ©gÃ© viande'",formule:"100% - proportion vÃ©gÃ©tarien",unitÃ©:"%"},"alimentation . repas . proposition . choix viande":{"applicable si":{"une de ces conditions":["proposition = 'mixte vÃ©gÃ© viande'","proposition = 'viande uniquement'"]},question:"Proposerez-vous de la viande blanche ou viande rouge ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["viande 1","viande 2","les deux"]}},"par dÃ©faut":"'les deux'"},"alimentation . repas . proposition . choix viande . viande 1":{titre:"Viande blanche"},"alimentation . repas . proposition . choix viande . viande 2":{titre:"Viande rouge"},"alimentation . repas . proposition . choix viande . les deux":{titre:"Les 2"},"alimentation . repas . proposition . choix viande . proportion viande 1":{formule:{variations:[{si:"choix viande = 'viande 1'",alors:"100%"},{si:"choix viande = 'les deux'",alors:"50%"},{sinon:"0%"}]}},"alimentation . repas . proposition . choix viande . proportion viande 2":{formule:{variations:[{si:"choix viande = 'viande 2'",alors:"100%"},{si:"choix viande = 'les deux'",alors:"50%"},{sinon:"0%"}]}},"commun . intensitÃ© Ã©lectricitÃ©":{titre:"IntensitÃ© carbone du mix Ã©lectrique franÃ§ais",description:`
> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [\`@incubateur-ademe/publicodes-commun\`](https://github.com/incubateur-ademe/publicodes-commun).


IntensitÃ© moyenne, tous types de consommations confondues, annÃ©e 2022.`,formule:.052,unitÃ©:"kgCO2e/kWh",note:`Ici, on parle du mix Ã©lectrique de consommation. 
Le chiffre est issu de la Base Empreinte (ElectricitÃ©/2022 - mix moyen/consommation) dont la mÃ©thodologie est dÃ©crite dans la [documentation](https://prod-basecarbonesolo.ademe-dri.fr/documentation/UPLOAD_DOC_FR/).
La v2.6 de MicMac donnait une valeur de 12.4gCO2e/kWh pour les fournisseurs d'Ã©lectricitÃ© "verte", mais cette valeur semble correspondre Ã  un calcul thÃ©orique sur l'annÃ©e, et non pas Ã  un calcul rÃ©el, minute par minute.
`},"commun . mois par an":{titre:"Nombre de mois par an",formule:12,unitÃ©:"mois",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . semaines par an":{titre:"Nombre de semaines par an",formule:52,unitÃ©:"semaine",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . jours par semaine":{titre:"Nombre de jours par semaine",formule:7,unitÃ©:"jour/semaine",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . jours par an":{titre:"Nombre de jours par an",formule:365,unitÃ©:"jour",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},communication:R_,"communication . merchandising":{titre:"Merchandising",formule:{somme:["textile","plastique"]},unitÃ©:"kgCO2e",note:`Pour cette modÃ©lisation, nous nous inspirons de l'Ã©tude [DÃ©carbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf)
en estimant le chiffre d'affaires rÃ©alisÃ© grÃ¢ce au merchandising rÃ©parti sur diffÃ©rents produits textiles (t-shirts et sweat shirts) 
mais Ã©galement des produits dÃ©rivÃ©s "plastiques".

D'aprÃ¨s [le baromÃ¨tre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
sur les consommations et les achats des festivaliers, le panier moyen pour du merch est de 4â¬ par jour et par personne.

Dans une V2, il s'agira d'affiner l'empreinte carbone associÃ©e aux produits vendu en passant par des FE "physiques"
et en incluant des variations selon l'approvisionnement des produits.
`},"communication . merchandising . surplus production":{formule:"110%",note:`On estime que 10% le surplus de production.
`},"communication . merchandising . chiffre d affaires":{formule:"informations . nombre de festivaliers * merchandising . panier moyen par jour et par personne",unitÃ©:"â¬",note:`D'aprÃ¨s [le baromÃ¨tre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
sur les consommations et les achats des festivaliers, le panier moyen pour du merch est de 4â¬ par jour et par personne.
`},"communication . merchandising . chiffre d affaires . part textile":{formule:"70%"},"communication . merchandising . chiffre d affaires . part plastique":{formule:"30%"},"communication . merchandising . panier moyen par jour et par personne":{formule:4,unitÃ©:"â¬",note:`D'aprÃ¨s [le baromÃ¨tre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
`},"communication . merchandising . textile":{formule:"surplus production * chiffre d affaires . part textile * chiffre d affaires * ratio monÃ©taire",unitÃ©:"kgCO2e"},"communication . merchandising . textile . ratio monÃ©taire":{formule:"ratio monÃ©taire HT / 1.2 â¬/â¬HT",unitÃ©:"kgCO2e/â¬"},"communication . merchandising . textile . ratio monÃ©taire HT":{formule:.6,unitÃ©:"kgCO2e/â¬HT",note:`Facteur d'Ã©mission issu de la base empreinte "Service/Textile et habillement".
`},"communication . merchandising . plastique":{formule:"surplus production * chiffre d affaires . part plastique * chiffre d affaires * ratio monÃ©taire",unitÃ©:"kgCO2e"},"communication . merchandising . plastique . ratio monÃ©taire":{formule:"ratio monÃ©taire HT / 1.2 â¬/â¬HT",unitÃ©:"kgCO2e/â¬"},"communication . merchandising . plastique . ratio monÃ©taire HT":{formule:.8,unitÃ©:"kgCO2e/â¬HT",note:`Facteur d'Ã©mission issu de la base empreinte "Service/Textile et habillement".
`},numÃ©rique:{titre:"NumÃ©rique",formule:0,unitÃ©:"kgCO2e"},"nosgestesclimat . divers . textile . t-shirt . empreinte":{formule:5.35,unitÃ©:"kgCO2e",note:"moyenne de l'empreinte des t-shirts en coton et en polyester de la Base Carbone",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . divers . textile . sweat . empreinte":{formule:27.4,unitÃ©:"kgCO2e",note:"empreinte d'un sweat de la Base Carbone",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"textile bÃ©nÃ©voles":{titre:"Textile bÃ©nÃ©voles",formule:{variations:[{si:'textile bÃ©nÃ©voles . type = "t shirt"',alors:"informations . nombre de bÃ©nÃ©voles * nosgestesclimat . divers . textile . t-shirt . empreinte / amortissement"},{si:'textile bÃ©nÃ©voles . type = "sweat"',alors:"informations . nombre de bÃ©nÃ©voles * nosgestesclimat . divers . textile . sweat . empreinte / amortissement"},{si:'textile bÃ©nÃ©voles . type = "aucun"',alors:0}]},unitÃ©:"kgCO2e"},"textile bÃ©nÃ©voles . type":{question:"PrÃ©voyez-vous des vÃªtements pour votre Ã©quipe ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["t shirt","sweat","aucun"]}},"par dÃ©faut":"'t shirt'"},"textile bÃ©nÃ©voles . type . t shirt":{titre:"T-shirt"},"textile bÃ©nÃ©voles . type . sweat":{titre:"Sweat"},"textile bÃ©nÃ©voles . type . aucun":{titre:"Non, aucun vÃªtement"},"textile bÃ©nÃ©voles . amortissement":{formule:{variations:[{si:"textile bÃ©nÃ©voles . rÃ©utilisation",alors:2},{sinon:1}]}},"textile bÃ©nÃ©voles . rÃ©utilisation":{question:"Est-il prÃ©vu de rÃ©utiliser les vÃªtements pour une autre Ã©dition ?","par dÃ©faut":"non"},"nosgestesclimat . logement . chauffage . gaz . facteur d'Ã©mission base carbone":{titre:"IntensitÃ© carbone gaz naturel",valeur:.221,unitÃ©:"kgCO2e/kWh",note:`Il s'agit de kgCO2e/kWh *PCS*.

On raisonne en PCS (Pouvoir Calorifique SupÃ©rieur) et non en PCI (Pouvoir Calorifique InfÃ©rieur), car le PCS est utilisÃ© en tant que coefficient de conversion dans les factures pour convertir le volume de gaz utilisÃ© en kWh : 
on fait l'hypothÃ¨se que la chaudiÃ¨re gaz rÃ©cupÃ¨re bien la chaleur latente de condensation.

Base Carbone Gaz naturel - 2022/mix moyen/consommation
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},Ã©nergie:{titre:"Ãnergie",formule:{somme:["Ã©lectricitÃ©","autre","groupe Ã©lectrogÃ¨ne"]},unitÃ©:"kgCO2e"},"Ã©nergie . consommation par dÃ©faut":{formule:"0.6 kWh * informations . nombre de festivaliers",unitÃ©:"kWh",note:`Selon l'Ã©tude [DÃ©carbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf):
il est tout Ã  fait pertinent d'utiliser lâ[Ã©tude dâENERIS](https://www.ressource0.com/wp-content/uploads/2012/09/guideSpectacle-vivant1.pdf) produite en 2011 
qui propose une consommation Ã©lectrique de 0,6 KWh par festivalier en moyenne.
`},"Ã©nergie . Ã©lectricitÃ©":{formule:"consommation * commun . intensitÃ© Ã©lectricitÃ©",unitÃ©:"kgCO2e"},"Ã©nergie . Ã©lectricitÃ© . consommation":{question:"Quelle est votre consommation d'Ã©lectricitÃ© pour l'Ã©vÃ©nement ?",unitÃ©:"kWh","par dÃ©faut":{variations:[{si:"autre prÃ©sent",alors:"consommation par dÃ©faut / 4"},{sinon:"consommation par dÃ©faut / 2"}]}},"Ã©nergie . autre":{"applicable si":"autre prÃ©sent",formule:{somme:["gaz","fioul"]},unitÃ©:"kgCO2e"},"Ã©nergie . autre prÃ©sent":{question:"Utilisez-vous une autre source d'Ã©nergie pour l'Ã©vÃ©nement (gaz, fioul) ?","par dÃ©faut":"non"},"Ã©nergie . autre . gaz":{formule:"consommation * nosgestesclimat . logement . chauffage . gaz . facteur d'Ã©mission base carbone",unitÃ©:"kgCO2e"},"Ã©nergie . autre . gaz . consommation":{question:"Quelle est votre consommation de gaz pour l'Ã©vÃ©nement ?",unitÃ©:"kWh","par dÃ©faut":"consommation par dÃ©faut / 4"},"Ã©nergie . autre . fioul":{formule:"consommation * empreinte",unitÃ©:"kgCO2e"},"Ã©nergie . autre . fioul . consommation":{question:"Quelle est votre consommation de fioul pour l'Ã©vÃ©nement ?",unitÃ©:"kWh","par dÃ©faut":"consommation par dÃ©faut / 4"},"Ã©nergie . autre . fioul . empreinte":{formule:.303,unitÃ©:"kgCO2e/kWh",note:`Facteur d'Ã©mission issu de la base empreinte "Fioul domestique" (kgCO2e/kWhPCS).
`},"Ã©nergie . groupe Ã©lectrogÃ¨ne":{formule:"nombre * empreinte par jour * informations . nombre de jours",unitÃ©:"kgCO2e",note:`On fait l'hypothÃ¨se que la puissance d'un groupe Ã©lectrogÃ¨ne utilisÃ© est de 10kW.
On estime qu'un groupe Ã©lectrogÃ¨ne de cette puissance consomme 4l/h.

Dans un second temps, il s'agira de d'Ã©valuer l'empreinte du groupe Ã©lectrogÃ¨ne directement 
via le type de carburant consommÃ© et la consommation rÃ©elle.
`},"Ã©nergie . groupe Ã©lectrogÃ¨ne . nombre":{question:"Combien de groupes Ã©lectrogÃ¨nes prÃ©voyez-vous d'utiliser ?","par dÃ©faut":"consommation par dÃ©faut / 2 / production"},"Ã©nergie . groupe Ã©lectrogÃ¨ne . production":{formule:"10kW * 24 h/jour * 0.75 * informations . nombre de jours",unitÃ©:"kWh"},"Ã©nergie . groupe Ã©lectrogÃ¨ne . empreinte par jour":{formule:"0.75 * consommation carburant * empreinte carburant * 24 h/jour",note:"On considÃ¨re qu'un groupe Ã©lectrogÃ¨ne est utilisÃ© 75% de la journÃ©e Ã  pleine puissance.",unitÃ©:"kgCO2e/jour"},"Ã©nergie . groupe Ã©lectrogÃ¨ne . consommation carburant":{formule:4,unitÃ©:"l/h"},"Ã©nergie . groupe Ã©lectrogÃ¨ne . empreinte carburant":{formule:2.7,unitÃ©:"kgCO2e/l",note:`Facteur d'Ã©mission issu de la base empreinte "Essence".
`},"nosgestesclimat . logement . vacances . empreinte hotel par nuit":{formule:6.93,unitÃ©:"kgCO2e/nuit",note:`## Notre hypothÃ¨se sur le facteur d'Ã©mission utilisÃ©

  D'aprÃ¨s [l'enquÃªte mobilitÃ© des franÃ§ais de 2019](https://www.statistiques.developpement-durable.gouv.fr/resultats-detailles-de-lenquete-mobilite-des-personnes-de-2019?rubrique=60&dossier=1345), 
  les franÃ§ais voyagent Ã  86% en France. On assume donc ici que **les nuitÃ©es se passent en France**.

## Notre source de donnÃ©es

  Le rapport final de prÃ©-dÃ©ploiement de l'affichage environnemental des hÃ´tels, [publication ADEME de mars 2020](https://librairie.ademe.fr/consommer-autrement/4096-projet-de-pre-deploiement-de-l-affichage-environnemental-des-hotels.html), donne une moyenne de 9,91 kg Ã©qCO2 / nuitÃ©e. 
  En retranchant la partie petit-dÃ©jeuner (comptant pour 30% de l'empreinte), car sinon nous aurions une double comptabilitÃ© de ces derniers, on se retrouve avec une empreinte par nuitÃ©e de 9,91 * (1 - 30%) = 6,93 kg Ã©qCO2.

  Le rapport permet Ã©galement de scinder les empreintes selon la classe de l'hÃ´tel. Pour dÃ©marrer, nous avons assumÃ© de partir sur la moyenne des empreintes toutes classes confondues, mais cela pourra Ãªtre implÃ©mentÃ© par la suite. Cela donnerait :

  - HÃ´tels sans classement : 4,73 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 2* : 8,53 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 3* : 8,47 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 4* : 11,43 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 5* : 17,11 kg Ã©qCO2 / nuitÃ©e

  Depuis plusieurs annÃ©es, [Betterfly Tourism](https://www.betterfly-tourism.com/affichage-environnemental-hotels/) implÃ©mente en partenariat avec l'ADEME l'affichage environnemental auprÃ¨s des hÃ´tels. Il sera donc possible de rÃ©Ã©valuer l'empreinte avec des donnÃ©es plus rÃ©centes issues de leur base de donnÃ©es consolidÃ©e.

  De son cÃ´tÃ©, le [Hotel Carbon Measurement Initiative (HCMI)](https://sustainablehospitalityalliance.org/resource/hotel-carbon-measurement-initiative/) qui alimente le [Cornell Hotel Sustainability Benchmarking Index](https://greenview.sg/services/chsb-index/) prÃ©sente des [donnÃ©es](https://ecommons.cornell.edu/handle/1813/109990) pertinentes pour notre usage.
  Cela pourra Ãªtre un bon point de dÃ©part pour le jour oÃ¹ nous souhaiterons diffÃ©rencier les nuitÃ©es d'hÃ´tel selon le pays frÃ©quentÃ©.
  Ã noter que le HCMI donne une moyenne pour la France de 7,7 kg Ã©qCO2 / nuitÃ©e, ce qui est trÃ¨s proche de la donnÃ©e que nous avons choisie, elle calculÃ©e Ã  partir du rÃ©fÃ©rentiel ADEME.

  > Point publicodes : Cette rÃ¨gle Ã©tant utilisÃ©e dans d'autres espaces nom que \`logement . vacances . hotel\` c'est important ici de ne pas l'inclure dans cet espace non qui rendrait l'empreinte de la nuitÃ©e non applicable si la rÃ¨gle hotel est elle aussi non applicable.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . logement . vacances . camping . empreinte par nuit":{formule:1.4,unitÃ©:"kgCO2e/nuit",note:`Ces donnÃ©es sont issues de la proposition de rÃ©fÃ©rentiel ADEME pour l'hÃ´tellerie de plein air, Ã©tude effectuÃ©e sur 13 campings de l'HÃ©rault conjointement entre Betterfly Tourism et l'ADEME.
Les donnÃ©es sont fournies par Betterfly Tourism et datent de juin 2021. La moyenne de l'empreinte par nuitÃ©e sur les 13 campings Ã©tudiÃ©s est de 1,4 kg Ã©qCO2.
Le rÃ©fÃ©rentiel ADEME est prÃ©sent dans la base Impacts depuis mai 2023.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},hÃ©bergement:{titre:"HÃ©bergement",formule:{somme:["nuitÃ©es hotel","nuitÃ©es camping","artistes"]},unitÃ©:"kgCO2e",note:`Pour le moment, on ne prend en compte que les nuitÃ©es en hÃ´tel en considÃ©rant que le nombre de nuits 
correspond au nombre de jours de l'Ã©vÃ¨nement.
Dans un second temps, on pourrait ajouter le camping par exemple. 
On pourrait Ã©galement ajouter la possibilitÃ© de renseigner le nombre de nuitÃ©es prises en charge durant l'Ã©vÃ¨nement.
`},"hÃ©bergement . nuitÃ©es hotel":{"non applicable si":'prÃ©sent = "aucun"',formule:"nombre de nuits hotel * nosgestesclimat . logement . vacances . empreinte hotel par nuit",unitÃ©:"kgCO2e"},"hÃ©bergement . nuitÃ©es hotel . prÃ©sent":{question:"Prenez-vous en charge l'hÃ©bergement en hÃ´tel des participants, bÃ©nÃ©voles ou organisateurs du festival ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["participants et organisateurs","organisateurs","aucun"]}},"par dÃ©faut":"'organisateurs'"},"hÃ©bergement . nuitÃ©es hotel . prÃ©sent . participants et organisateurs":{titre:"Oui, pour tous le monde"},"hÃ©bergement . nuitÃ©es hotel . prÃ©sent . organisateurs":{titre:"Uniquement pour les organisateurs et bÃ©nÃ©voles"},"hÃ©bergement . nuitÃ©es hotel . prÃ©sent . aucun":{titre:"Non, pas d'hÃ©bergement en hÃ´tel"},"hÃ©bergement . nuitÃ©es hotel . nombre de nuits hotel":{formule:{variations:[{si:'prÃ©sent = "participants et organisateurs"',alors:"informations . nombre de personnes par jour * informations . nombre de nuits"},{si:'prÃ©sent = "organisateurs"',alors:"informations . nombre de bÃ©nÃ©voles * informations . nombre de nuits"},{si:'prÃ©sent = "aucun"',alors:0}]},unitÃ©:"nuit"},"hÃ©bergement . nuitÃ©es camping":{"non applicable si":'prÃ©sent = "aucun"',formule:"nombre de nuits camping * nosgestesclimat . logement . vacances . camping . empreinte par nuit",unitÃ©:"kgCO2e"},"hÃ©bergement . nuitÃ©es camping . prÃ©sent":{question:"Prenez-vous en charge l'hÃ©bergement en camping des participants, bÃ©nÃ©voles ou organisateurs du festival ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["participants et organisateurs","organisateurs","aucun"]}},"par dÃ©faut":"'aucun'"},"hÃ©bergement . nuitÃ©es camping . prÃ©sent . participants et organisateurs":{titre:"Oui, pour tous le monde"},"hÃ©bergement . nuitÃ©es camping . prÃ©sent . organisateurs":{titre:"Uniquement pour les organisateurs et bÃ©nÃ©voles"},"hÃ©bergement . nuitÃ©es camping . prÃ©sent . aucun":{titre:"Non, pas d'hÃ©bergement en hÃ´tel"},"hÃ©bergement . nuitÃ©es camping . nombre de nuits camping":{formule:{variations:[{si:'prÃ©sent = "participants et organisateurs"',alors:"informations . nombre de personnes par jour * informations . nombre de nuits"},{si:'prÃ©sent = "organisateurs"',alors:"informations . nombre de bÃ©nÃ©voles * informations . nombre de nuits"},{si:'prÃ©sent = "aucun"',alors:0}]},unitÃ©:"nuit"},"hÃ©bergement . artistes":{"applicable si":"prÃ©sent",formule:"informations . nombre de nuits artistes * nosgestesclimat . logement . vacances . empreinte hotel par nuit",unitÃ©:"kgCO2e"},"hÃ©bergement . artistes . prÃ©sent":{question:"Prenez-vous en charge l'hÃ©bergement en hÃ´tel des artistes du festival ?","par dÃ©faut":"oui"},informations:F_,"informations . nombre de jours":{question:"Combien de jours dure votre Ã©vÃ¨nment ?","par dÃ©faut":2,unitÃ©:"jour"},"informations . nombre de nuits":{formule:"informations . nombre de jours * 1 nuit/jour",unitÃ©:"nuit"},"informations . nombre de festivaliers":{question:"Combien de participants attendez-vous sur l'ensemble de l'Ã©vÃ¨nements (compter 2 entrÃ©es si une personne est prÃ©sente 2 jours) ?",note:"On parle de la somme des entrÃ©es uniques par jour.","par dÃ©faut":25e3},"informations . nombre de festivaliers par jour":{formule:"nombre de festivaliers / nombre de jours"},"informations . nombre de bÃ©nÃ©voles":{question:"Combien y aura-t-il d'organisateurs et bÃ©nÃ©voles ?","par dÃ©faut":100},"informations . nombre de personnes par jour":{formule:"nombre de festivaliers par jour + nombre de bÃ©nÃ©voles"},"informations . nombre de repas par jour":{formule:"2 repas * nombre de personnes par jour"},"informations . nombre de repas total":{formule:"nombre de repas par jour * nombre de jours"},"informations . nombre artistes en voiture":{question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?","par dÃ©faut":10},"informations . nombre artistes en train":{question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?","par dÃ©faut":10},"informations . nombre artistes en tour bus":{question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?","par dÃ©faut":30},"informations . nombre artistes en avion":{question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?","par dÃ©faut":10},"informations . nombre artistes":{question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?","par dÃ©faut":{somme:["nombre artistes en voiture","nombre artistes en train","nombre artistes en tour bus","nombre artistes en avion"]}},"informations . nombre de nuits artistes":{formule:"nombre artistes * 1 nuit",unitÃ©:"nuit"},bÃ¢timents:{titre:"BÃ¢timents",formule:{somme:["bÃ©ton","mÃ©tallique"]},unitÃ©:"kgCO2e"},"bÃ¢timents . facteur amortissement":{formule:"informations . nombre de jours / (commun . jours par an * 50)",note:`BÃ¢timents amortis sur 50 ans. On fait l'hypothÃ¨se que le bÃ¢timent reste "non amorti" 
mÃªme s'il date de plus de 50 ans pour limiter les paramÃ¨tres, au vu de l'impact nÃ©gligeable.
`},"bÃ¢timents . bÃ©ton":{formule:"surface * empreinte par m2 * facteur amortissement",unitÃ©:"kgCO2e"},"bÃ¢timents . bÃ©ton . surface":{question:`Quelle est la surface des bÃ¢timents "structure bÃ©ton" utilisÃ©s pour l'Ã©vÃ©nement ?`,"par dÃ©faut":50,unitÃ©:"m2"},"bÃ¢timents . bÃ©ton . empreinte par m2":{formule:825,unitÃ©:"kgCO2e/m2",note:`Facteur d'Ã©mission issu de la base empreinte "BÃ¢timent industriel/structure en bÃ©ton".
`},"bÃ¢timents . mÃ©tallique":{formule:"surface * empreinte par m2 * facteur amortissement",unitÃ©:"kgCO2e"},"bÃ¢timents . mÃ©tallique . surface":{question:`Quelle est la surface des bÃ¢timents "structure mÃ©tallique" utilisÃ©s pour l'Ã©vÃ©nement ?`,"par dÃ©faut":50,unitÃ©:"m2"},"bÃ¢timents . mÃ©tallique . empreinte par m2":{formule:275,unitÃ©:"kgCO2e/m2",note:`Facteur d'Ã©mission issu de la base empreinte "BÃ¢timent industriel/structure mÃ©tallique".
`},fret:L_,"fret . infrastructures":{formule:0,unitÃ©:"kgCO2e"},"fret . artistes":{formule:0,unitÃ©:"kgCO2e"},infrastructures:U_,"infrastructures . scÃ©nographie":{titre:"ScÃ©nographie",formule:{somme:["scÃ¨ne","matÃ©riel","dÃ©cor"]},unitÃ©:"kgCO2e"},"infrastructures . scÃ©nographie . scÃ¨ne":{formule:0,note:`Le seul montage des scÃ¨nes dâun festival comme Les Vieilles Charrues implique une vingtaine
de semi-remorques dâaprÃ¨s certaines sources53 et quarante pour dâautres54. Nous sommes
partis dâune moyenne Ã  trente semi-remorques et dâune hypothÃ¨se oÃ¹ le festival ne cherche
pas Ã  rÃ©duire les distances parcourues par le choix de fournisseurs locaux, comptant ainsi
2000 kilomÃ¨tres par vÃ©hicule en incluant les retours Ã  vide.
Nous insistons sur un point : nous nâaffirmons pas que ces donnÃ©es sont celles des Vieilles
Charrues, il sâagit dâune premiÃ¨re estimation pour un grand festival en pÃ©riphÃ©rie. Par ailleurs,
nous ignorons si cette donnÃ©e inclut la logistique alimentaire.
Si lâon estime que les fournisseurs ne sont pas locaux et que le tonnage transportÃ© est en
moyenne Ã  8,5 tonnes, nous pensons que lâimpact global du fret liÃ© Ã  la logistique avoisine
les 190 tonnes de carbone.
`},"infrastructures . scÃ©nographie . matÃ©riel":{formule:"dÃ©penses * ratio monÃ©taire * facteur amortissement",unitÃ©:"kgCO2e",note:`Selon la mÃ©thode du simulateur [SEEDS](https://nuage.arviva.org/index.php/s/Pzzm9KbAwwL4gPR), 
les Ã©missions de CO2 liÃ©es Ã  la location de matÃ©riel technique sont estimÃ©es Ã  partir du montant 
dÃ©pensÃ©s pour leur location puis amorties sur via la durÃ©e de location et leur durÃ©e de vie.

A titre indicatif:
  - Projecteur : 600â¬ soit 240kgCO2e  
  - Enceinte : 500â¬ soit 200kgCO2e 
  - Console : 1500â¬ soit 600kgCO2e 
  - Machine Ã  fumÃ©e : 400â¬ soit 160kgCO2e  
  - Micros : 200â¬ soit 80kgCO2e  
  - VidÃ©oprojecteur : 145kgCO2e (dÃ©jÃ  prÃ©sent dans la base ADEME)
`},"infrastructures . scÃ©nographie . matÃ©riel . facteur amortissement":{formule:"informations . nombre de jours / (commun . jours par an * 5)",note:"MatÃ©riel amorti sur 5 ans."},"infrastructures . scÃ©nographie . matÃ©riel . dÃ©penses":{question:"A combien estimez-vous vos dÃ©penses de location de matÃ©riel technique (son, lumiÃ¨re, vidÃ©o etc...) ?","par dÃ©faut":1e4,unitÃ©:"â¬HT"},"infrastructures . scÃ©nographie . matÃ©riel . ratio monÃ©taire":{formule:.4,unitÃ©:"kgCO2e/â¬HT",note:`Ratio monÃ©taire issu de la Base Empreinte "Service/Produits informatiques, Ã©lectroniques et optiques".
`},"infrastructures . scÃ©nographie . dÃ©cor":{"applicable si":"dÃ©cor prÃ©sent",formule:0,unitÃ©:"kgCO2e",note:`Pour le moment, nous faisons l'hypothÃ¨se que les dÃ©cors et costumes sont de la responsabilitÃ© des artistes.
`},"infrastructures . scÃ©nographie . dÃ©cor prÃ©sent":{question:"PrÃ©voyez-vous des dÃ©cors et costumes pour la scÃ©nographie de l'Ã©vÃ©nement ?","par dÃ©faut":"non"},resultats:B_,"resultats . bilan total":{titre:"Bilan Carbone de mon Ã©vÃ¨nement",formule:{somme:["alimentation","transport","infrastructures","hÃ©bergement","Ã©nergie","communication"]},unitÃ©:"kgCO2e"},"resultats . bilan par festivalier":{titre:"Bilan Carbone de mon Ã©vÃ¨nement par festivalier",formule:"bilan total / informations . nombre de festivaliers",unitÃ©:"kgCO2e"},transport:z_,"transport . public":{formule:{somme:["voiture","avion","train","commun"]},unitÃ©:"kgCO2e"},"transport . public . accessible en transports en commun":{question:"Votre festival est-il facilement accessible en transport en commun ?","par dÃ©faut":"non"},"transport . public . nombre de dÃ©placements":{formule:{variations:[{si:{"toutes ces conditions":['hÃ©bergement . nuitÃ©es hotel . prÃ©sent = "aucun"','hÃ©bergement . nuitÃ©es camping . prÃ©sent = "aucun"']},alors:"informations . nombre de festivaliers + informations . nombre de bÃ©nÃ©voles * informations . nombre de jours"},{si:{"une de ces conditions":['hÃ©bergement . nuitÃ©es hotel . prÃ©sent = "organisateurs"','hÃ©bergement . nuitÃ©es camping . prÃ©sent = "organisateurs"']},alors:"informations . nombre de festivaliers"},{si:{"une de ces conditions":['hÃ©bergement . nuitÃ©es hotel . prÃ©sent = "participants et organisateurs"','hÃ©bergement . nuitÃ©es camping . prÃ©sent = "participants et organisateurs"']},alors:"informations . nombre de festivaliers par jour + informations . nombre de bÃ©nÃ©voles"}]},note:`Erreur d'unitÃ© dans la formule "informations . nombre de festivaliers par jour + informations . nombre de bÃ©nÃ©voles"`},"transport . public . distance AR":{question:"Quelle est la distane moyenne aller/retour parcourue par un festivalier ?",unitÃ©:"km","par dÃ©faut":100,note:"On inclue ici les festivaliers mais Ã©galement les bÃ©nÃ©voles et les organisateurs."},"transport . public . part mobilitÃ© douce":{formule:"100% - parts totales modes de transport",unitÃ©:"%",note:"On considÃ¨re que l'impact de la marche ou du vÃ©lo est nÃ©gligeable."},"transport . public . parts totales modes de transport":{formule:{somme:["voiture . part","avion . part","train . part","commun . part"]},plafond:100,unitÃ©:"%"},"transport . public . voiture . part":{question:"Quelle part des festivaliers viennent en voiture ?","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"20%"},{sinon:"80%"}]}},"transport . public . avion . part":{question:"Quelle part des festivaliers viennent en avion ?","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"3%"},{sinon:"3%"}]}},"transport . public . train . part":{question:"Quelle part des festivaliers viennent en train ?","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"20%"},{sinon:"10%"}]}},"transport . public . commun . part":{question:"Quelle part des festivaliers viennent en transports en commun (bus, tramway, mÃ©tro) ?","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"50%"},{sinon:"5%"}]}},"transport . public . voiture":{formule:"part * nombre de dÃ©placements * distance AR * voiture . empreinte par km / voiture . remplissage moyen",unitÃ©:"kgCO2e",note:"On fait l'hypothÃ¨se d'un aller/retour par festivalier."},"transport . public . avion":{formule:"part * nombre de dÃ©placements * distance avion AR * avion . empreinte par km",unitÃ©:"kgCO2e"},"transport . public . avion . distance avion AR":{formule:1500,unitÃ©:"km"},"transport . public . train":{formule:"part * nombre de dÃ©placements * distance AR * train . empreinte par km",unitÃ©:"kgCO2e"},"transport . public . commun":{formule:"part * nombre de dÃ©placements * distance AR * commun . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes":{formule:{somme:["voiture","avion","train","tour bus"]},unitÃ©:"kgCO2e"},"transport . artistes . voiture":{formule:"informations . nombre artistes en train * distance * voiture . empreinte par km / voiture . remplissage moyen",unitÃ©:"kgCO2e"},"transport . artistes . voiture . distance":{question:"Quelle est la distance (A/R) parcourue en voiture en moyenne par les artistes pour venir au festival ?","par dÃ©faut":100,unitÃ©:"km"},"transport . artistes . avion":{formule:"informations . nombre artistes en avion * distance * avion . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes . avion . distance":{question:"Quelle est la distance (A/R) parcourue en avion en moyenne par les artistes pour venir au festival ?","par dÃ©faut":1500,unitÃ©:"km"},"transport . artistes . train":{formule:"informations . nombre artistes en train * distance * train . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes . train . distance":{question:"Quelle est la distance en moyenne (A/R) parcourue en train par les artistes pour venir au festival ?","par dÃ©faut":500,unitÃ©:"km"},"transport . artistes . tour bus":{formule:"informations . nombre artistes en tour bus * distance * tour bus . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes . tour bus . distance":{question:"Quelle est la distance en moyenne (A/R) parcourue en tour bus par les artistes pour venir au festival ?","par dÃ©faut":1e3,unitÃ©:"km"},"transport . voiture":null,"transport . voiture . empreinte par km":{formule:.231,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Voiture/Motorisation moyenne/2018".
`},"transport . voiture . remplissage moyen":{formule:1.8,note:"On considÃ¨re un taux de remplissage moyen de 1,8 personnes par voiture."},"transport . avion":null,"transport . avion . empreinte par km":{formule:.187,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Avion passagers/Moyen courrier, 2018/AVEC trainÃ©es".
`},"transport . train":null,"transport . train . empreinte par km":{formule:{moyenne:["TGV","TER"]},unitÃ©:"kgCO2e/km",note:`Moyenne entre TGV et TER.
`},"transport . train . empreinte par km . TGV":{formule:.00293,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "TGV/2022".
`},"transport . train . empreinte par km . TER":{formule:.0277,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "TER/2022/Traction moyenne".
`},"transport . commun . empreinte par km":{formule:{moyenne:["bus","mÃ©tro ou tram"]},unitÃ©:"kgCO2e/km"},"transport . commun . empreinte par km . bus":{formule:.146,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Autobus moyen/AgglomÃ©ration de 100 000 Ã  250 000 habitants".
`},"transport . commun . empreinte par km . mÃ©tro ou tram":{formule:.00503,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "MÃ©tro, tramway, trolleybus/2018/AgglomÃ©ration de 100 000 Ã  250 000 habitants".
`},"transport . tour bus":null,"transport . tour bus . empreinte par km":{formule:.0295,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Autocar/2018".
`},nosgestesclimat:H_,"nosgestesclimat . alimentation . boisson":null,"nosgestesclimat . alimentation":null,"nosgestesclimat . alimentation . boisson . sucrÃ©es":null,"nosgestesclimat . alimentation . boisson . alcool":null,"nosgestesclimat . alimentation . boisson . eau en bouteille":null,"nosgestesclimat . alimentation . petit dÃ©jeuner":null,"nosgestesclimat . alimentation . plats . vÃ©gÃ©talien":null,"nosgestesclimat . alimentation . plats":null,"nosgestesclimat . alimentation . plats . vÃ©gÃ©tarien":null,"nosgestesclimat . alimentation . plats . viande 1":null,"nosgestesclimat . alimentation . plats . viande 2":null,commun:J_,"nosgestesclimat . divers . textile . t-shirt":null,"nosgestesclimat . divers . textile":null,"nosgestesclimat . divers":null,"nosgestesclimat . divers . textile . sweat":null,"nosgestesclimat . logement . chauffage . gaz":null,"nosgestesclimat . logement . chauffage":null,"nosgestesclimat . logement":null,"nosgestesclimat . logement . vacances":null,"nosgestesclimat . logement . vacances . camping":null};let _s=$g.Main.init({flags:am,node:document.getElementById("elm-app")});const ys=new T_(am,_s);console.log("app",ys.getParsedRules());_s.ports.setSituation.subscribe(e=>{ys.setSituation(e)});_s.ports.evaluateAll.subscribe(e=>{ys.evaluateAll(e)});
