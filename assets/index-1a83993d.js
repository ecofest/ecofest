var om=Object.defineProperty;var um=(e,r,t)=>r in e?om(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var fe=(e,r,t)=>(um(e,typeof r!="symbol"?r+"":r,t),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();function Wr(e,r,t){return t.a=e,t.f=r,t}function $(e){return Wr(2,e,function(r){return function(t){return e(r,t)}})}function w(e){return Wr(3,e,function(r){return function(t){return function(n){return e(r,t,n)}}})}function Y(e){return Wr(4,e,function(r){return function(t){return function(n){return function(a){return e(r,t,n,a)}}}})}function Ve(e){return Wr(5,e,function(r){return function(t){return function(n){return function(a){return function(s){return e(r,t,n,a,s)}}}}})}function Er(e){return Wr(6,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return e(r,t,n,a,s,o)}}}}}})}function Ft(e){return Wr(7,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return e(r,t,n,a,s,o,u)}}}}}}})}function Iu(e){return Wr(8,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return function(m){return e(r,t,n,a,s,o,u,m)}}}}}}}})}function Nu(e){return Wr(9,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return function(m){return function(l){return e(r,t,n,a,s,o,u,m,l)}}}}}}}}})}function i(e,r,t){return e.a===2?e.f(r,t):e(r)(t)}function g(e,r,t,n){return e.a===3?e.f(r,t,n):e(r)(t)(n)}function P(e,r,t,n,a){return e.a===4?e.f(r,t,n,a):e(r)(t)(n)(a)}function F(e,r,t,n,a,s){return e.a===5?e.f(r,t,n,a,s):e(r)(t)(n)(a)(s)}function lr(e,r,t,n,a,s,o){return e.a===6?e.f(r,t,n,a,s,o):e(r)(t)(n)(a)(s)(o)}function ve(e,r,t,n,a,s,o,u){return e.a===7?e.f(r,t,n,a,s,o,u):e(r)(t)(n)(a)(s)(o)(u)}function lm(e,r,t,n,a,s,o,u,m){return e.a===8?e.f(r,t,n,a,s,o,u,m):e(r)(t)(n)(a)(s)(o)(u)(m)}function ee(e,r){for(var t,n=[],a=Wa(e,r,0,n);a&&(t=n.pop());a=Wa(t.a,t.b,0,n));return a}function Wa(e,r,t,n){if(e===r)return!0;if(typeof e!="object"||e===null||r===null)return typeof e=="function"&&Tt(5),!1;if(t>100)return n.push(y(e,r)),!0;e.$<0&&(e=st(e),r=st(r));for(var a in e)if(!Wa(e[a],r[a],t+1,n))return!1;return!0}$(ee);$(function(e,r){return!ee(e,r)});function ne(e,r,t){if(typeof e!="object")return e===r?0:e<r?-1:1;if(typeof e.$>"u")return(t=ne(e.a,r.a))||(t=ne(e.b,r.b))?t:ne(e.c,r.c);for(;e.b&&r.b&&!(t=ne(e.a,r.a));e=e.b,r=r.b);return t||(e.b?1:r.b?-1:0)}$(function(e,r){return ne(e,r)<0});$(function(e,r){return ne(e,r)<1});$(function(e,r){return ne(e,r)>0});$(function(e,r){return ne(e,r)>=0});var cm=$(function(e,r){var t=ne(e,r);return t<0?Xu:t?b$:Yu}),Pt=0;function y(e,r){return{a:e,b:r}}function we(e,r,t){return{a:e,b:r,c:t}}function U(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t}$(R);function R(e,r){if(typeof e=="string")return e+r;if(!e.b)return r;var t=yr(e.a,r);e=e.b;for(var n=t;e.b;e=e.b)n=n.b=yr(e.a,r);return t}var O={$:0};function yr(e,r){return{$:1,a:e,b:r}}var mm=$(yr);function b(e){for(var r=O,t=e.length;t--;)r=yr(e[t],r);return r}function Ii(e){for(var r=[];e.b;e=e.b)r.push(e.a);return r}var vm=w(function(e,r,t){for(var n=[];r.b&&t.b;r=r.b,t=t.b)n.push(i(e,r.a,t.a));return b(n)});Y(function(e,r,t,n){for(var a=[];r.b&&t.b&&n.b;r=r.b,t=t.b,n=n.b)a.push(g(e,r.a,t.a,n.a));return b(a)});Ve(function(e,r,t,n,a){for(var s=[];r.b&&t.b&&n.b&&a.b;r=r.b,t=t.b,n=n.b,a=a.b)s.push(P(e,r.a,t.a,n.a,a.a));return b(s)});Er(function(e,r,t,n,a,s){for(var o=[];r.b&&t.b&&n.b&&a.b&&s.b;r=r.b,t=t.b,n=n.b,a=a.b,s=s.b)o.push(F(e,r.a,t.a,n.a,a.a,s.a));return b(o)});$(function(e,r){return b(Ii(r).sort(function(t,n){return ne(e(t),e(n))}))});$(function(e,r){return b(Ii(r).sort(function(t,n){var a=i(e,t,n);return a===Yu?0:a===Xu?-1:1}))});var $m=[];function fm(e){return e.length}var dm=w(function(e,r,t){for(var n=new Array(e),a=0;a<e;a++)n[a]=t(r+a);return n}),pm=$(function(e,r){for(var t=new Array(e),n=0;n<e&&r.b;n++)t[n]=r.a,r=r.b;return t.length=n,y(t,r)});$(function(e,r){return r[e]});w(function(e,r,t){for(var n=t.length,a=new Array(n),s=0;s<n;s++)a[s]=t[s];return a[e]=r,a});$(function(e,r){for(var t=r.length,n=new Array(t+1),a=0;a<t;a++)n[a]=r[a];return n[t]=e,n});w(function(e,r,t){for(var n=t.length,a=0;a<n;a++)r=i(e,t[a],r);return r});var bm=w(function(e,r,t){for(var n=t.length-1;n>=0;n--)r=i(e,t[n],r);return r});$(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=e(r[a]);return n});w(function(e,r,t){for(var n=t.length,a=new Array(n),s=0;s<n;s++)a[s]=i(e,r+s,t[s]);return a});w(function(e,r,t){return t.slice(e,r)});w(function(e,r,t){var n=r.length,a=e-n;a>t.length&&(a=t.length);for(var s=n+a,o=new Array(s),u=0;u<n;u++)o[u]=r[u];for(var u=0;u<a;u++)o[u+n]=t[u];return o});$(function(e,r){return r});$(function(e,r){return console.log(e+": "+hm()),r});function hm(e){return"<internals>"}function Tt(e){throw new Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}var gm=$(function(e,r){return e+r});$(function(e,r){return e-r});$(function(e,r){return e*r});$(function(e,r){return e/r});$(function(e,r){return e/r|0});var _m=$(Math.pow);$(function(e,r){return r%e});var ym=$(function(e,r){var t=r%e;return e===0?Tt(11):t>0&&e<0||t<0&&e>0?t+e:t}),km=Math.PI,Em=Math.E,xm=Math.cos,Cm=Math.sin,wm=Math.tan;$(Math.atan2);function Sm(e){return e}function Om(e){return e===1/0||e===-1/0}var Vm=Math.ceil,jm=Math.floor,Am=Math.round,Dm=Math.sqrt,go=Math.log,Im=isNaN;$(function(e,r){return e&&r});$(function(e,r){return e||r});$(function(e,r){return e!==r});var Nm=$(function(e,r){return e+r});function qm(e){var r=e.charCodeAt(0);return isNaN(r)?q:W(55296<=r&&r<=56319?y(e[0]+e[1],e.slice(2)):y(e[0],e.slice(1)))}$(function(e,r){return e+r});function Fm(e){return e.length}$(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;){var s=r.charCodeAt(a);if(55296<=s&&s<=56319){n[a]=e(r[a]+r[a+1]),a+=2;continue}n[a]=e(r[a]),a++}return n.join("")});var Pm=$(function(e,r){for(var t=[],n=r.length,a=0;a<n;){var s=r[a],o=r.charCodeAt(a);a++,55296<=o&&o<=56319&&(s+=r[a],a++),e(s)&&t.push(s)}return t.join("")});function Tm(e){for(var r=e.length,t=new Array(r),n=0;n<r;){var a=e.charCodeAt(n);55296<=a&&a<=56319?(t[r-n]=e[n+1],n++,t[r-n]=e[n-1],n++):(t[r-n]=e[n],n++)}return t.join("")}w(function(e,r,t){for(var n=t.length,a=0;a<n;){var s=t[a],o=t.charCodeAt(a);a++,55296<=o&&o<=56319&&(s+=t[a],a++),r=i(e,s,r)}return r});var Mm=w(function(e,r,t){for(var n=t.length;n--;){var a=t[n],s=t.charCodeAt(n);56320<=s&&s<=57343&&(n--,a=t[n]+a),r=i(e,a,r)}return r}),Rm=$(function(e,r){return r.split(e)}),Lm=$(function(e,r){return r.join(e)}),Bm=w(function(e,r,t){return t.slice(e,r)});function zm(e){return e.toUpperCase()}function Jm(e){return e.toLowerCase()}$(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),e(n))return!0}return!1});var Hm=$(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),!e(n))return!1}return!0}),Um=$(function(e,r){return r.indexOf(e)>-1}),Wm=$(function(e,r){return r.indexOf(e)===0});$(function(e,r){return r.length>=e.length&&r.lastIndexOf(e)===r.length-e.length});var Km=$(function(e,r){var t=e.length;if(t<1)return O;for(var n=0,a=[];(n=r.indexOf(e,n))>-1;)a.push(n),n=n+t;return b(a)});function qu(e){return e+""}function Gm(e){for(var r=0,t=e.charCodeAt(0),n=t==43||t==45?1:0,a=n;a<e.length;++a){var s=e.charCodeAt(a);if(s<48||57<s)return q;r=10*r+s-48}return a==n?q:W(t==45?-r:r)}function Qm(e){if(e.length===0||/[\sxbo]/.test(e))return q;var r=+e;return r===r?W(r):q}function Ym(e){var r=e.charCodeAt(0);return 55296<=r&&r<=56319?(r-55296)*1024+e.charCodeAt(1)-56320+65536:r}function Xm(e){return e<0||1114111<e?"ï¿½":e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(Math.floor(e/1024)+55296,e%1024+56320))}function Zm(e){return{$:0,a:e}}function _a(e){return{$:2,b:e}}var ev=_a(function(e){return typeof e=="boolean"?hr(e):br("a BOOL",e)}),rv=_a(function(e){return typeof e=="number"?hr(e):br("a FLOAT",e)}),tv=_a(function(e){return hr(e)}),nv=_a(function(e){return typeof e=="string"?hr(e):e instanceof String?hr(e+""):br("a STRING",e)});function av(e){return{$:3,b:e}}function iv(e){return{$:5,c:e}}var sv=$(function(e,r){return{$:6,d:e,b:r}}),ov=$(function(e,r){return{$:7,e,b:r}});function uv(e){return{$:8,b:e}}function Kr(e,r){return{$:9,f:e,g:r}}var lv=$(function(e,r){return{$:10,b:r,h:e}});function cv(e){return{$:11,g:e}}var mv=$(function(e,r){return Kr(e,[r])}),vv=w(function(e,r,t){return Kr(e,[r,t])}),$v=Y(function(e,r,t,n){return Kr(e,[r,t,n])}),fv=Ve(function(e,r,t,n,a){return Kr(e,[r,t,n,a])});Er(function(e,r,t,n,a,s){return Kr(e,[r,t,n,a,s])});Ft(function(e,r,t,n,a,s,o){return Kr(e,[r,t,n,a,s,o])});Iu(function(e,r,t,n,a,s,o,u){return Kr(e,[r,t,n,a,s,o,u])});Nu(function(e,r,t,n,a,s,o,u,m){return Kr(e,[r,t,n,a,s,o,u,m])});$(function(e,r){try{var t=JSON.parse(r);return Ye(e,t)}catch(n){return qr(i(Hi,"This is not valid JSON! "+n.message,r))}});var Ni=$(function(e,r){return Ye(e,r)});function Ye(e,r){switch(e.$){case 2:return e.b(r);case 5:return r===null?hr(e.c):br("null",r);case 3:return Nn(r)?_o(e.b,r,b):br("a LIST",r);case 4:return Nn(r)?_o(e.b,r,dv):br("an ARRAY",r);case 6:var t=e.d;if(typeof r!="object"||r===null||!(t in r))return br("an OBJECT with a field named `"+t+"`",r);var l=Ye(e.b,r[t]);return sr(l)?l:qr(i(So,t,l.a));case 7:var n=e.e;if(!Nn(r))return br("an ARRAY",r);if(n>=r.length)return br("a LONGER array. Need index "+n+" but only see "+r.length+" entries",r);var l=Ye(e.b,r[n]);return sr(l)?l:qr(i(el,n,l.a));case 8:if(typeof r!="object"||r===null||Nn(r))return br("an OBJECT",r);var a=O;for(var s in r)if(r.hasOwnProperty(s)){var l=Ye(e.b,r[s]);if(!sr(l))return qr(i(So,s,l.a));a=yr(y(s,l.a),a)}return hr(Me(a));case 9:for(var o=e.f,u=e.g,m=0;m<u.length;m++){var l=Ye(u[m],r);if(!sr(l))return l;o=o(l.a)}return hr(o);case 10:var l=Ye(e.b,r);return sr(l)?Ye(e.h(l.a),r):l;case 11:for(var v=O,c=e.g;c.b;c=c.b){var l=Ye(c.a,r);if(sr(l))return l;v=yr(l.a,v)}return qr(h$(Me(v)));case 1:return qr(i(Hi,e.a,r));case 0:return hr(e.a)}}function _o(e,r,t){for(var n=r.length,a=new Array(n),s=0;s<n;s++){var o=Ye(e,r[s]);if(!sr(o))return qr(i(el,s,o.a));a[s]=o.a}return hr(t(a))}function Nn(e){return Array.isArray(e)||typeof FileList<"u"&&e instanceof FileList}function dv(e){return i(q$,e.length,function(r){return e[r]})}function br(e,r){return qr(i(Hi,"Expecting "+e,r))}function ht(e,r){if(e===r)return!0;if(e.$!==r.$)return!1;switch(e.$){case 0:case 1:return e.a===r.a;case 2:return e.b===r.b;case 5:return e.c===r.c;case 3:case 4:case 8:return ht(e.b,r.b);case 6:return e.d===r.d&&ht(e.b,r.b);case 7:return e.e===r.e&&ht(e.b,r.b);case 9:return e.f===r.f&&yo(e.g,r.g);case 10:return e.h===r.h&&ht(e.b,r.b);case 11:return yo(e.g,r.g)}}function yo(e,r){var t=e.length;if(t!==r.length)return!1;for(var n=0;n<t;n++)if(!ht(e[n],r[n]))return!1;return!0}var pv=$(function(e,r){return JSON.stringify(r,null,e)+""});function qi(e){return e}function bv(){return[]}function hv(){return{}}var gv=w(function(e,r,t){return t[e]=r,t});function _v(e){return $(function(r,t){return t.push(e(r)),t})}var yv=null;function Gr(e){return{$:0,a:e}}function kv(e){return{$:1,a:e}}function xr(e){return{$:2,b:e,c:null}}var Ka=$(function(e,r){return{$:3,b:e,d:r}});$(function(e,r){return{$:4,b:e,d:r}});function Ev(e){return{$:5,b:e}}var xv=0;function Fi(e){var r={$:0,e:xv++,f:e,g:null,h:[]};return Pi(r),r}function Fu(e){return xr(function(r){r(Gr(Fi(e)))})}function Pu(e,r){e.h.push(r),Pi(e)}var Cv=$(function(e,r){return xr(function(t){Pu(e,r),t(Gr(Pt))})}),Ia=!1,ko=[];function Pi(e){if(ko.push(e),!Ia){for(Ia=!0;e=ko.shift();)wv(e);Ia=!1}}function wv(e){for(;e.f;){var r=e.f.$;if(r===0||r===1){for(;e.g&&e.g.$!==r;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else if(r===2){e.f.c=e.f.b(function(t){e.f=t,Pi(e)});return}else if(r===5){if(e.h.length===0)return;e.f=e.f.b(e.h.shift())}else e.g={$:r===3?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}function Sv(e){return xr(function(r){var t=setTimeout(function(){r(Gr(Pt))},e);return function(){clearTimeout(t)}})}Y(function(e,r,t,n){return Ti(r,n,e.c3,e.dP,e.dy,function(){return function(){}})});function Ti(e,r,t,n,a,s){var o=i(Ni,e,r?r.flags:void 0);sr(o)||Tt(2);var u={},m=t(o.a),l=m.a,v=s(p,l),c=Ov(u,p);function p(f,_){var h=i(n,f,l);v(l=h.a,_),xo(u,h.b,a(l))}return xo(u,m.b,a(l)),c?{ports:c}:{}}var Te={};function Ov(e,r){var t;for(var n in Te){var a=Te[n];a.a&&(t=t||{},t[n]=a.a(n,r)),e[n]=jv(a,r)}return t}function Vv(e,r,t,n,a){return{b:e,c:r,d:t,e:n,f:a}}function jv(e,r){var t={g:r,h:void 0},n=e.c,a=e.d,s=e.e,o=e.f;function u(m){return i(Ka,u,Ev(function(l){var v=l.a;return l.$===0?g(a,t,v,m):s&&o?P(n,t,v.i,v.j,m):g(n,t,s?v.i:v.j,m)}))}return t.h=Fi(i(Ka,u,e.b))}var Av=$(function(e,r){return xr(function(t){e.g(r),t(Gr(Pt))})});$(function(e,r){return i(Cv,e.h,{$:0,a:r})});function Mi(e){return function(r){return{$:1,k:e,l:r}}}function Tu(e){return{$:2,m:e}}$(function(e,r){return{$:3,n:e,o:r}});var Eo=[],Na=!1;function xo(e,r,t){if(Eo.push({p:e,q:r,r:t}),!Na){Na=!0;for(var n;n=Eo.shift();)Dv(n.p,n.q,n.r);Na=!1}}function Dv(e,r,t){var n={};ea(!0,r,n,null),ea(!1,t,n,null);for(var a in e)Pu(e[a],{$:"fx",a:n[a]||{i:O,j:O}})}function ea(e,r,t,n){switch(r.$){case 1:var a=r.k,s=Iv(e,a,n,r.l);t[a]=Nv(e,s,t[a]);return;case 2:for(var o=r.m;o.b;o=o.b)ea(e,o.a,t,n);return;case 3:ea(e,r.o,t,{s:r.n,t:n});return}}function Iv(e,r,t,n){function a(o){for(var u=t;u;u=u.t)o=u.s(o);return o}var s=e?Te[r].e:Te[r].f;return i(s,a,n)}function Nv(e,r,t){return t=t||{i:O,j:O},e?t.i=yr(r,t.i):t.j=yr(r,t.j),t}function Mu(e){Te[e]&&Tt(3)}function Ru(e,r){return Mu(e),Te[e]={e:qv,u:r,a:Fv},Mi(e)}var qv=$(function(e,r){return r});function Fv(e){var r=[],t=Te[e].u,n=Sv(0);Te[e].b=n,Te[e].c=w(function(o,u,m){for(;u.b;u=u.b)for(var l=r,v=t(u.a),c=0;c<l.length;c++)l[c](v);return n});function a(o){r.push(o)}function s(o){r=r.slice();var u=r.indexOf(o);u>=0&&r.splice(u,1)}return{subscribe:a,unsubscribe:s}}function Ri(e,r){return Mu(e),Te[e]={f:Pv,u:r,a:Tv},Mi(e)}var Pv=$(function(e,r){return function(t){return e(r(t))}});function Tv(e,r){var t=O,n=Te[e].u,a=Gr(null);Te[e].b=a,Te[e].c=w(function(o,u,m){return t=u,a});function s(o){var u=i(Ni,n,o);sr(u)||Tt(4,e,u.a);for(var m=u.a,l=t;l.b;l=l.b)r(l.a(m))}return{send:s}}var ra,rt=typeof document<"u"?document:{};function Li(e,r){e.appendChild(r)}Y(function(e,r,t,n){var a=n.node;return a.parentNode.replaceChild(Mr(e,function(){}),a),{}});function Ga(e){return{$:0,a:e}}var Lu=$(function(e,r){return $(function(t,n){for(var a=[],s=0;n.b;n=n.b){var o=n.a;s+=o.b||0,a.push(o)}return s+=a.length,{$:1,c:r,d:Ju(t),e:a,f:e,b:s}})}),je=Lu(void 0),Mv=$(function(e,r){return $(function(t,n){for(var a=[],s=0;n.b;n=n.b){var o=n.a;s+=o.b.b||0,a.push(o)}return s+=a.length,{$:2,c:r,d:Ju(t),e:a,f:e,b:s}})});Mv(void 0);var Rv=$(function(e,r){return{$:4,j:e,k:r,b:1+(r.b||0)}});function Qr(e,r){return{$:5,l:e,m:r,k:void 0}}var Lv=$(function(e,r){return Qr([e,r],function(){return e(r)})});w(function(e,r,t){return Qr([e,r,t],function(){return i(e,r,t)})});Y(function(e,r,t,n){return Qr([e,r,t,n],function(){return g(e,r,t,n)})});Ve(function(e,r,t,n,a){return Qr([e,r,t,n,a],function(){return P(e,r,t,n,a)})});Er(function(e,r,t,n,a,s){return Qr([e,r,t,n,a,s],function(){return F(e,r,t,n,a,s)})});Ft(function(e,r,t,n,a,s,o){return Qr([e,r,t,n,a,s,o],function(){return lr(e,r,t,n,a,s,o)})});Iu(function(e,r,t,n,a,s,o,u){return Qr([e,r,t,n,a,s,o,u],function(){return ve(e,r,t,n,a,s,o,u)})});Nu(function(e,r,t,n,a,s,o,u,m){return Qr([e,r,t,n,a,s,o,u,m],function(){return lm(e,r,t,n,a,s,o,u,m)})});var Bu=$(function(e,r){return{$:"a0",n:e,o:r}}),Bv=$(function(e,r){return{$:"a1",n:e,o:r}}),zu=$(function(e,r){return{$:"a2",n:e,o:r}}),re=$(function(e,r){return{$:"a3",n:e,o:r}});w(function(e,r,t){return{$:"a4",n:r,o:{f:e,o:t}}});var zv=/^(on|formAction$)/i,Jv=/^\s*j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:/i,Hv=/^\s*(j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:|d\s*a\s*t\s*a\s*:\s*t\s*e\s*x\s*t\s*\/\s*h\s*t\s*m\s*l\s*(,|;))/i;function Uv(e){return zv.test(e)?"data-"+e:e}function Wv(e){return Jv.test(e)?"":e}function Kv(e){return Hv.test(e)?"":e}var Gv=$(function(e,r){return r.$==="a0"?i(Bu,r.n,Qv(e,r.o)):r});function Qv(e,r){var t=Wi(r);return{$:r.$,a:t?g(ul,t<3?Yv:Xv,vr(e),r.a):i(Se,e,r.a)}}var Yv=$(function(e,r){return y(e(r.a),r.b)}),Xv=$(function(e,r){return{Y:e(r.Y),br:r.br,bf:r.bf}});function Ju(e){for(var r={};e.b;e=e.b){var t=e.a,n=t.$,a=t.n,s=t.o;if(n==="a2"){a==="className"?Co(r,a,s):r[a]=s;continue}var o=r[n]||(r[n]={});n==="a3"&&a==="class"?Co(o,a,s):o[a]=s}return r}function Co(e,r,t){var n=e[r];e[r]=n?n+" "+t:t}function Mr(e,r){var t=e.$;if(t===5)return Mr(e.k||(e.k=e.m()),r);if(t===0)return rt.createTextNode(e.a);if(t===4){for(var n=e.k,a=e.j;n.$===4;)typeof a!="object"?a=[a,n.j]:a.push(n.j),n=n.k;var s={j:a,p:r},o=Mr(n,s);return o.elm_event_node_ref=s,o}if(t===3){var o=e.h(e.g);return Qa(o,r,e.d),o}var o=e.f?rt.createElementNS(e.f,e.c):rt.createElement(e.c);ra&&e.c=="a"&&o.addEventListener("click",ra(o)),Qa(o,r,e.d);for(var u=e.e,m=0;m<u.length;m++)Li(o,Mr(t===1?u[m]:u[m].b,r));return o}function Qa(e,r,t){for(var n in t){var a=t[n];n==="a1"?Zv(e,a):n==="a0"?t$(e,r,a):n==="a3"?e$(e,a):n==="a4"?r$(e,a):(n!=="value"&&n!=="checked"||e[n]!==a)&&(e[n]=a)}}function Zv(e,r){var t=e.style;for(var n in r)t[n]=r[n]}function e$(e,r){for(var t in r){var n=r[t];typeof n<"u"?e.setAttribute(t,n):e.removeAttribute(t)}}function r$(e,r){for(var t in r){var n=r[t],a=n.f,s=n.o;typeof s<"u"?e.setAttributeNS(a,t,s):e.removeAttributeNS(a,t)}}function t$(e,r,t){var n=e.elmFs||(e.elmFs={});for(var a in t){var s=t[a],o=n[a];if(!s){e.removeEventListener(a,o),n[a]=void 0;continue}if(o){var u=o.q;if(u.$===s.$){o.q=s;continue}e.removeEventListener(a,o)}o=n$(r,s),e.addEventListener(a,o,Bi&&{passive:Wi(s)<2}),n[a]=o}}var Bi;try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Bi=!0}}))}catch{}function n$(e,r){function t(n){var a=t.q,s=Ye(a.a,n);if(sr(s)){for(var o=Wi(a),u=s.a,m=o?o<3?u.a:u.Y:u,l=o==1?u.b:o==3&&u.br,v=(l&&n.stopPropagation(),(o==2?u.b:o==3&&u.bf)&&n.preventDefault(),e),c,p;c=v.j;){if(typeof c=="function")m=c(m);else for(var p=c.length;p--;)m=c[p](m);v=v.p}v(m,l)}}return t.q=r,t}function a$(e,r){return e.$==r.$&&ht(e.a,r.a)}function Hu(e,r){var t=[];return or(e,r,t,0),t}function Ae(e,r,t,n){var a={$:r,r:t,s:n,t:void 0,u:void 0};return e.push(a),a}function or(e,r,t,n){if(e!==r){var a=e.$,s=r.$;if(a!==s)if(a===1&&s===2)r=v$(r),s=1;else{Ae(t,0,n,r);return}switch(s){case 5:for(var o=e.l,u=r.l,m=o.length,l=m===u.length;l&&m--;)l=o[m]===u[m];if(l){r.k=e.k;return}r.k=r.m();var v=[];or(e.k,r.k,v,0),v.length>0&&Ae(t,1,n,v);return;case 4:for(var c=e.j,p=r.j,f=!1,_=e.k;_.$===4;)f=!0,typeof c!="object"?c=[c,_.j]:c.push(_.j),_=_.k;for(var h=r.k;h.$===4;)f=!0,typeof p!="object"?p=[p,h.j]:p.push(h.j),h=h.k;if(f&&c.length!==p.length){Ae(t,0,n,r);return}(f?!i$(c,p):c!==p)&&Ae(t,2,n,p),or(_,h,t,n+1);return;case 0:e.a!==r.a&&Ae(t,3,n,r.a);return;case 1:wo(e,r,t,n,s$);return;case 2:wo(e,r,t,n,o$);return;case 3:if(e.h!==r.h){Ae(t,0,n,r);return}var E=zi(e.d,r.d);E&&Ae(t,4,n,E);var x=r.i(e.g,r.g);x&&Ae(t,5,n,x);return}}}function i$(e,r){for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function wo(e,r,t,n,a){if(e.c!==r.c||e.f!==r.f){Ae(t,0,n,r);return}var s=zi(e.d,r.d);s&&Ae(t,4,n,s),a(e,r,t,n)}function zi(e,r,t){var n;for(var a in e){if(a==="a1"||a==="a0"||a==="a3"||a==="a4"){var s=zi(e[a],r[a]||{},a);s&&(n=n||{},n[a]=s);continue}if(!(a in r)){n=n||{},n[a]=t?t==="a1"?"":t==="a0"||t==="a3"?void 0:{f:e[a].f,o:void 0}:typeof e[a]=="string"?"":null;continue}var o=e[a],u=r[a];o===u&&a!=="value"&&a!=="checked"||t==="a0"&&a$(o,u)||(n=n||{},n[a]=u)}for(var m in r)m in e||(n=n||{},n[m]=r[m]);return n}function s$(e,r,t,n){var a=e.e,s=r.e,o=a.length,u=s.length;o>u?Ae(t,6,n,{v:u,i:o-u}):o<u&&Ae(t,7,n,{v:o,e:s});for(var m=o<u?o:u,l=0;l<m;l++){var v=a[l];or(v,s[l],t,++n),n+=v.b||0}}function o$(e,r,t,n){for(var a=[],s={},o=[],u=e.e,m=r.e,l=u.length,v=m.length,c=0,p=0,f=n;c<l&&p<v;){var _=u[c],h=m[p],E=_.a,x=h.a,d=_.b,V=h.b,C=void 0,S=void 0;if(E===x){f++,or(d,V,a,f),f+=d.b||0,c++,p++;continue}var X=u[c+1],be=m[p+1];if(X){var ie=X.a,me=X.b;S=x===ie}if(be){var Ue=be.a,Fe=be.b;C=E===Ue}if(C&&S){f++,or(d,Fe,a,f),Ht(s,a,E,V,p,o),f+=d.b||0,f++,Ut(s,a,E,me,f),f+=me.b||0,c+=2,p+=2;continue}if(C){f++,Ht(s,a,x,V,p,o),or(d,Fe,a,f),f+=d.b||0,c+=1,p+=2;continue}if(S){f++,Ut(s,a,E,d,f),f+=d.b||0,f++,or(me,V,a,f),f+=me.b||0,c+=2,p+=1;continue}if(X&&ie===Ue){f++,Ut(s,a,E,d,f),Ht(s,a,x,V,p,o),f+=d.b||0,f++,or(me,Fe,a,f),f+=me.b||0,c+=2,p+=2;continue}break}for(;c<l;){f++;var _=u[c],d=_.b;Ut(s,a,_.a,d,f),f+=d.b||0,c++}for(;p<v;){var k=k||[],h=m[p];Ht(s,a,h.a,h.b,void 0,k),p++}(a.length>0||o.length>0||k)&&Ae(t,8,n,{w:a,x:o,y:k})}var Uu="_elmW6BL";function Ht(e,r,t,n,a,s){var o=e[t];if(!o){o={c:0,z:n,r:a,s:void 0},s.push({r:a,A:o}),e[t]=o;return}if(o.c===1){s.push({r:a,A:o}),o.c=2;var u=[];or(o.z,n,u,o.r),o.r=a,o.s.s={w:u,A:o};return}Ht(e,r,t+Uu,n,a,s)}function Ut(e,r,t,n,a){var s=e[t];if(!s){var o=Ae(r,9,a,void 0);e[t]={c:1,z:n,r:a,s:o};return}if(s.c===0){s.c=2;var u=[];or(n,s.z,u,a),Ae(r,9,a,{w:u,A:s});return}Ut(e,r,t+Uu,n,a)}function Wu(e,r,t,n){Wt(e,r,t,0,0,r.b,n)}function Wt(e,r,t,n,a,s,o){for(var u=t[n],m=u.r;m===a;){var l=u.$;if(l===1)Wu(e,r.k,u.s,o);else if(l===8){u.t=e,u.u=o;var v=u.s.w;v.length>0&&Wt(e,r,v,0,a,s,o)}else if(l===9){u.t=e,u.u=o;var c=u.s;if(c){c.A.s=e;var v=c.w;v.length>0&&Wt(e,r,v,0,a,s,o)}}else u.t=e,u.u=o;if(n++,!(u=t[n])||(m=u.r)>s)return n}var p=r.$;if(p===4){for(var f=r.k;f.$===4;)f=f.k;return Wt(e,f,t,n,a+1,s,e.elm_event_node_ref)}for(var _=r.e,h=e.childNodes,E=0;E<_.length;E++){a++;var x=p===1?_[E]:_[E].b,d=a+(x.b||0);if(a<=m&&m<=d&&(n=Wt(h[E],x,t,n,a,d,o),!(u=t[n])||(m=u.r)>s))return n;a=d}return n}function Ku(e,r,t,n){return t.length===0?e:(Wu(e,r,t,n),ta(e,t))}function ta(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=n.t,s=u$(a,n);a===e&&(e=s)}return e}function u$(e,r){switch(r.$){case 0:return l$(e,r.s,r.u);case 4:return Qa(e,r.u,r.s),e;case 3:return e.replaceData(0,e.length,r.s),e;case 1:return ta(e,r.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=r.s:e.elm_event_node_ref={j:r.s,p:r.u},e;case 6:for(var s=r.s,n=0;n<s.i;n++)e.removeChild(e.childNodes[s.v]);return e;case 7:for(var s=r.s,t=s.e,n=s.v,a=e.childNodes[n];n<t.length;n++)e.insertBefore(Mr(t[n],r.u),a);return e;case 9:var s=r.s;if(!s)return e.parentNode.removeChild(e),e;var o=s.A;return typeof o.r<"u"&&e.parentNode.removeChild(e),o.s=ta(e,s.w),e;case 8:return c$(e,r);case 5:return r.s(e);default:Tt(10)}}function l$(e,r,t){var n=e.parentNode,a=Mr(r,t);return a.elm_event_node_ref||(a.elm_event_node_ref=e.elm_event_node_ref),n&&a!==e&&n.replaceChild(a,e),a}function c$(e,r){var t=r.s,n=m$(t.y,r);e=ta(e,t.w);for(var a=t.x,s=0;s<a.length;s++){var o=a[s],u=o.A,m=u.c===2?u.s:Mr(u.z,r.u);e.insertBefore(m,e.childNodes[o.r])}return n&&Li(e,n),e}function m$(e,r){if(e){for(var t=rt.createDocumentFragment(),n=0;n<e.length;n++){var a=e[n],s=a.A;Li(t,s.c===2?s.s:Mr(s.z,r.u))}return t}}function Ji(e){if(e.nodeType===3)return Ga(e.textContent);if(e.nodeType!==1)return Ga("");for(var r=O,t=e.attributes,n=t.length;n--;){var a=t[n],s=a.name,o=a.value;r=yr(i(re,s,o),r)}for(var u=e.tagName.toLowerCase(),m=O,l=e.childNodes,n=l.length;n--;)m=yr(Ji(l[n]),m);return g(je,u,r,m)}function v$(e){for(var r=e.e,t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=r[a].b;return{$:1,c:e.c,d:e.d,e:n,f:e.f,b:e.b}}var $$=Y(function(e,r,t,n){return Ti(r,n,e.c3,e.dP,e.dy,function(a,s){var o=e.dR,u=n.node,m=Ji(u);return Gu(s,function(l){var v=o(l),c=Hu(m,v);u=Ku(u,m,c,a),m=v})})});Y(function(e,r,t,n){return Ti(r,n,e.c3,e.dP,e.dy,function(a,s){var o=e.bj&&e.bj(a),u=e.dR,m=rt.title,l=rt.body,v=Ji(l);return Gu(s,function(c){ra=o;var p=u(c),f=je("body")(O)(p.cD),_=Hu(v,f);l=Ku(l,v,_,a),v=f,ra=0,m!==p.cl&&(rt.title=m=p.cl)})})});var na=typeof requestAnimationFrame<"u"?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)};function Gu(e,r){r(e);var t=0;function n(){t=t===1?0:(na(n),r(e),1)}return function(a,s){e=a,s?(r(e),t===2&&(t=1)):(t===0&&na(n),t=2)}}$(function(e,r){return i(Qi,_n,xr(function(){r&&history.go(r),e()}))});$(function(e,r){return i(Qi,_n,xr(function(){history.pushState({},"",r),e()}))});$(function(e,r){return i(Qi,_n,xr(function(){history.replaceState({},"",r),e()}))});var f$={addEventListener:function(){},removeEventListener:function(){}},d$=typeof window<"u"?window:f$;w(function(e,r,t){return Fu(xr(function(n){function a(s){Fi(t(s))}return e.addEventListener(r,a,Bi&&{passive:!0}),function(){e.removeEventListener(r,a)}}))});$(function(e,r){var t=Ye(e,r);return sr(t)?W(t.a):q});function Qu(e,r){return xr(function(t){na(function(){var n=document.getElementById(e);t(n?Gr(r(n)):kv(F$(e)))})})}function p$(e){return xr(function(r){na(function(){r(Gr(e()))})})}$(function(e,r){return Qu(r,function(t){return t[e](),Pt})});$(function(e,r){return p$(function(){return d$.scroll(e,r),Pt})});w(function(e,r,t){return Qu(e,function(n){return n.scrollLeft=r,n.scrollTop=t,Pt})});$(function(e,r){return e&r});$(function(e,r){return e|r});$(function(e,r){return e^r});$(function(e,r){return r<<e});$(function(e,r){return r>>e});$(function(e,r){return r>>>e});var Yu=1,b$=2,Xu=0,L=mm,Zu=w(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,s=t.d,o=t.e,u=e,m=g(e,n,a,g(Zu,e,r,o)),l=s;e=u,r=m,t=l;continue e}}),st=function(e){return g(Zu,w(function(r,t,n){return i(L,y(r,t),n)}),O,e)},qn=bm;w(function(e,r,t){var n=t.c,a=t.d,s=$(function(o,u){if(o.$){var l=o.a;return g(qn,e,u,l)}else{var m=o.a;return g(qn,s,u,m)}});return g(qn,s,g(qn,e,r,a),n)});var qr=function(e){return{$:1,a:e}},Hi=$(function(e,r){return{$:3,a:e,b:r}}),So=$(function(e,r){return{$:0,a:e,b:r}}),el=$(function(e,r){return{$:1,a:e,b:r}}),hr=function(e){return{$:0,a:e}},h$=function(e){return{$:2,a:e}},g$=gm,W=function(e){return{$:0,a:e}},q={$:1},rl=Hm,_$=pv,se=qu,Ce=$(function(e,r){return i(Lm,e,Ii(r))}),Lr=$(function(e,r){return b(i(Rm,e,r))}),tl=function(e){return i(Ce,`
    `,i(Lr,`
`,e))},$e=w(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b,s=e,o=i(e,n,r),u=a;e=s,r=o,t=u;continue e}else return r}),Br=function(e){return g($e,$(function(r,t){return t+1}),0,e)},y$=vm,k$=w(function(e,r,t){e:for(;;)if(ne(e,r)<1){var n=e,a=r-1,s=i(L,r,t);e=n,r=a,t=s;continue e}else return t}),Ui=$(function(e,r){return g(k$,e,r,O)}),gr=$(function(e,r){return g(y$,e,i(Ui,0,Br(r)-1),r)}),pn=Ym,nl=function(e){var r=pn(e);return 97<=r&&r<=122},al=function(e){var r=pn(e);return r<=90&&65<=r},E$=function(e){return nl(e)||al(e)},aa=function(e){var r=pn(e);return r<=57&&48<=r},x$=function(e){return nl(e)||al(e)||aa(e)},Me=function(e){return g($e,L,O,e)},bn=qm,C$=$(function(e,r){return`

(`+(se(e+1)+(") "+tl(il(r))))}),il=function(e){return i(w$,e,O)},w$=$(function(e,r){e:for(;;)switch(e.$){case 0:var t=e.a,o=e.b,n=function(){var h=bn(t);if(h.$===1)return!1;var E=h.a,x=E.a,d=E.b;return E$(x)&&i(rl,x$,d)}(),a=n?"."+t:"['"+(t+"']"),m=o,l=i(L,a,r);e=m,r=l;continue e;case 1:var s=e.a,o=e.b,u="["+(se(s)+"]"),m=o,l=i(L,u,r);e=m,r=l;continue e;case 2:var v=e.a;if(v.b)if(v.b.b){var c=function(){return r.b?"The Json.Decode.oneOf at json"+i(Ce,"",Me(r)):"Json.Decode.oneOf"}(),_=c+(" failed in the following "+(se(Br(v))+" ways:"));return i(Ce,`

`,i(L,_,i(gr,C$,v)))}else{var o=v.a,m=o,l=r;e=m,r=l;continue e}else return"Ran into a Json.Decode.oneOf with no possibilities"+function(){return r.b?" at json"+i(Ce,"",Me(r)):"!"}();default:var p=e.a,f=e.b,_=function(){return r.b?"Problem with the value at json"+(i(Ce,"",Me(r))+`:

    `):`Problem with the given value:

`}();return _+(tl(i(_$,4,f))+(`

`+p))}}),cr=32,Ya=Y(function(e,r,t,n){return{$:0,a:e,b:r,c:t,d:n}}),Xa=$m,ya=Vm,ia=$(function(e,r){return go(r)/go(e)}),Oo=Sm,Za=ya(i(ia,2,cr)),S$=P(Ya,0,Za,Xa,Xa),sl=dm,O$=function(e){return{$:1,a:e}};$(function(e,r){return e(r)});var V$=$(function(e,r){return r(e)}),hn=jm,Vo=fm,qe=$(function(e,r){return ne(e,r)>0?e:r}),j$=function(e){return{$:0,a:e}},ol=pm,A$=$(function(e,r){e:for(;;){var t=i(ol,cr,e),n=t.a,a=t.b,s=i(L,j$(n),r);if(a.b){var o=a,u=s;e=o,r=u;continue e}else return Me(s)}}),D$=$(function(e,r){e:for(;;){var t=ya(r/cr);if(t===1)return i(ol,cr,e).a;var n=i(A$,e,O),a=t;e=n,r=a;continue e}}),I$=$(function(e,r){if(r.o){var t=r.o*cr,n=hn(i(ia,cr,t-1)),a=e?Me(r.u):r.u,s=i(D$,a,r.o);return P(Ya,Vo(r.t)+t,i(qe,5,n*Za),s,r.t)}else return P(Ya,Vo(r.t),Za,Xa,r.t)}),N$=Ve(function(e,r,t,n,a){e:for(;;){if(r<0)return i(I$,!1,{u:n,o:t/cr|0,t:a});var s=O$(g(sl,cr,r,e)),o=e,u=r-cr,m=t,l=i(L,s,n),v=a;e=o,r=u,t=m,n=l,a=v;continue e}}),q$=$(function(e,r){if(e<=0)return S$;var t=e%cr,n=g(sl,t,e-t,r),a=e-t-cr;return F(N$,r,a,e,O,n)}),sr=function(e){return!e.$},Se=mv,ul=vv,vr=Zm,Wi=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},kr=function(e){return e},F$=kr,jo=Er(function(e,r,t,n,a,s){return{bJ:s,bN:r,b0:n,b2:t,b9:e,ca:a}}),P$=Um,Pe=Fm,Pr=Bm,gn=$(function(e,r){return e<1?r:g(Pr,e,Pe(r),r)}),ka=Km,Mt=function(e){return e===""},St=$(function(e,r){return e<1?"":g(Pr,0,e,r)}),Ki=Gm,Ao=Ve(function(e,r,t,n,a){if(Mt(a)||i(P$,"@",a))return q;var s=i(ka,":",a);if(s.b){if(s.b.b)return q;var o=s.a,u=Ki(i(gn,o+1,a));if(u.$===1)return q;var m=u;return W(lr(jo,e,i(St,o,a),m,r,t,n))}else return W(lr(jo,e,a,q,r,t,n))}),Do=Y(function(e,r,t,n){if(Mt(n))return q;var a=i(ka,"/",n);if(a.b){var s=a.a;return F(Ao,e,i(gn,s,n),r,t,i(St,s,n))}else return F(Ao,e,"/",r,t,n)}),Io=w(function(e,r,t){if(Mt(t))return q;var n=i(ka,"?",t);if(n.b){var a=n.a;return P(Do,e,W(i(gn,a+1,t)),r,i(St,a,t))}else return P(Do,e,q,r,t)});$(function(e,r){if(Mt(r))return q;var t=i(ka,"#",r);if(t.b){var n=t.a;return g(Io,e,W(i(gn,n+1,r)),i(St,n,r))}else return g(Io,e,q,r)});var T$=Wm,_n=function(e){},yn=Gr,M$=yn(0),ll=Y(function(e,r,t,n){if(n.b){var a=n.a,s=n.b;if(s.b){var o=s.a,u=s.b;if(u.b){var m=u.a,l=u.b;if(l.b){var v=l.a,c=l.b,p=t>500?g($e,e,r,Me(c)):P(ll,e,r,t+1,c);return i(e,a,i(e,o,i(e,m,i(e,v,p))))}else return i(e,a,i(e,o,i(e,m,r)))}else return i(e,a,i(e,o,r))}else return i(e,a,r)}else return r}),mr=w(function(e,r,t){return P(ll,e,r,0,t)}),ae=$(function(e,r){return g(mr,$(function(t,n){return i(L,e(t),n)}),O,r)}),sa=Ka,Gi=$(function(e,r){return i(sa,function(t){return yn(e(t))},r)}),R$=w(function(e,r,t){return i(sa,function(n){return i(sa,function(a){return yn(i(e,n,a))},t)},r)}),L$=function(e){return g(mr,R$(L),yn(O),e)},B$=Av,z$=$(function(e,r){var t=r;return Fu(i(sa,B$(e),t))}),J$=w(function(e,r,t){return i(Gi,function(n){return 0},L$(i(ae,z$(e),r)))}),H$=w(function(e,r,t){return yn(0)}),U$=$(function(e,r){var t=r;return i(Gi,e,t)});Te.Task=Vv(M$,J$,H$,U$);var W$=Mi("Task"),Qi=$(function(e,r){return W$(i(Gi,e,r))}),K$=$$,oa=Ni,Sr={$:-2},gt=Sr,No={aw:O,an:q,M:gt,aR:gt,T:gt,az:gt},G$=$(function(e,r){return g($e,_v(e),bv(),r)}),Yt=qi,cl=Ru("evaluateAll",G$(Yt)),Q$=function(e){return b(["informations","alimentation","transport","infrastructures","hÃ©bergement","Ã©nergie","communication"])},Y$=w(function(e,r,t){var n=e(r);if(n.$)return t;var a=n.a;return i(L,a,t)}),wr=$(function(e,r){return g(mr,Y$(e),O,r)}),zr=$(function(e,r){if(r.$)return q;var t=r.a;return W(e(t))}),Yi=$(function(e,r){e:for(;;)if(r.b){var t=r.a,n=r.b;if(e(t))return!0;var a=e,s=n;e=a,r=s;continue e}else return!1}),Kt=$(function(e,r){return i(Yi,function(t){return ee(t,e)},r)}),Ot=function(e){if(e.b){var r=e.a;return e.b,W(r)}else return q},ml=function(e){return i(Lr," . ",e)},oe=$(function(e,r){if(r.$)return e;var t=r.a;return t}),X$=function(e){return i(oe,e,Ot(ml(e)))},vl=cm,$r=$(function(e,r){e:for(;;){if(r.$===-2)return q;var t=r.b,n=r.c,a=r.d,s=r.e,o=i(vl,e,t);switch(o){case 0:var u=e,m=a;e=u,r=m;continue e;case 1:return W(n);default:var u=e,m=s;e=u,r=m;continue e}}}),Q=Ve(function(e,r,t,n,a){return{$:-1,a:e,b:r,c:t,d:n,e:a}}),Vt=Ve(function(e,r,t,n,a){if(a.$===-1&&!a.a){a.a;var s=a.b,o=a.c,u=a.d,m=a.e;if(n.$===-1&&!n.a){n.a;var l=n.b,v=n.c,c=n.d,p=n.e;return F(Q,0,r,t,F(Q,1,l,v,c,p),F(Q,1,s,o,u,m))}else return F(Q,e,s,o,F(Q,0,r,t,n,u),m)}else if(n.$===-1&&!n.a&&n.d.$===-1&&!n.d.a){n.a;var l=n.b,v=n.c,f=n.d;f.a;var _=f.b,h=f.c,E=f.d,x=f.e,p=n.e;return F(Q,0,l,v,F(Q,1,_,h,E,x),F(Q,1,r,t,p,a))}else return F(Q,e,r,t,n,a)}),ei=w(function(e,r,t){if(t.$===-2)return F(Q,0,e,r,Sr,Sr);var n=t.a,a=t.b,s=t.c,o=t.d,u=t.e,m=i(vl,e,a);switch(m){case 0:return F(Vt,n,a,s,g(ei,e,r,o),u);case 1:return F(Q,n,a,r,o,u);default:return F(Vt,n,a,s,o,g(ei,e,r,u))}}),Ea=w(function(e,r,t){var n=g(ei,e,r,t);if(n.$===-1&&!n.a){n.a;var a=n.b,s=n.c,o=n.d,u=n.e;return F(Q,1,a,s,o,u)}else{var m=n;return m}}),Z$=function(e){e:for(;;)if(e.$===-1&&e.d.$===-1){var r=e.d,t=r;e=t;continue e}else return e},$l=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.e.d.$===-1&&!e.e.d.a){var r=e.a,t=e.b,n=e.c,a=e.d;a.a;var s=a.b,o=a.c,u=a.d,m=a.e,l=e.e;l.a;var v=l.b,c=l.c,p=l.d;p.a;var f=p.b,_=p.c,h=p.d,E=p.e,x=l.e;return F(Q,0,f,_,F(Q,1,t,n,F(Q,0,s,o,u,m),h),F(Q,1,v,c,E,x))}else{var r=e.a,t=e.b,n=e.c,d=e.d;d.a;var s=d.b,o=d.c,u=d.d,m=d.e,V=e.e;V.a;var v=V.b,c=V.c,p=V.d,x=V.e;return F(Q,1,t,n,F(Q,0,s,o,u,m),F(Q,0,v,c,p,x))}else return e},qo=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.d.d.$===-1&&!e.d.d.a){var r=e.a,t=e.b,n=e.c,a=e.d;a.a;var s=a.b,o=a.c,u=a.d;u.a;var m=u.b,l=u.c,v=u.d,c=u.e,p=a.e,f=e.e;f.a;var _=f.b,h=f.c,E=f.d,x=f.e;return F(Q,0,s,o,F(Q,1,m,l,v,c),F(Q,1,t,n,p,F(Q,0,_,h,E,x)))}else{var r=e.a,t=e.b,n=e.c,d=e.d;d.a;var s=d.b,o=d.c,V=d.d,p=d.e,C=e.e;C.a;var _=C.b,h=C.c,E=C.d,x=C.e;return F(Q,1,t,n,F(Q,0,s,o,V,p),F(Q,0,_,h,E,x))}else return e},ef=Ft(function(e,r,t,n,a,s,o){if(s.$===-1&&!s.a){s.a;var u=s.b,m=s.c,l=s.d,v=s.e;return F(Q,t,u,m,l,F(Q,0,n,a,v,o))}else{e:for(;;)if(o.$===-1&&o.a===1)if(o.d.$===-1)if(o.d.a===1){o.a;var c=o.d;return c.a,qo(r)}else break e;else return o.a,o.d,qo(r);else break e;return r}}),Hn=function(e){if(e.$===-1&&e.d.$===-1){var r=e.a,t=e.b,n=e.c,a=e.d,s=a.a,o=a.d,u=e.e;if(s===1){if(o.$===-1&&!o.a)return o.a,F(Q,r,t,n,Hn(a),u);var m=$l(e);if(m.$===-1){var l=m.a,v=m.b,c=m.c,p=m.d,f=m.e;return F(Vt,l,v,c,Hn(p),f)}else return Sr}else return F(Q,r,t,n,Hn(a),u)}else return Sr},Xt=$(function(e,r){if(r.$===-2)return Sr;var t=r.a,n=r.b,a=r.c,s=r.d,o=r.e;if(ne(e,n)<0)if(s.$===-1&&s.a===1){s.a;var u=s.d;if(u.$===-1&&!u.a)return u.a,F(Q,t,n,a,i(Xt,e,s),o);var m=$l(r);if(m.$===-1){var l=m.a,v=m.b,c=m.c,p=m.d,f=m.e;return F(Vt,l,v,c,i(Xt,e,p),f)}else return Sr}else return F(Q,t,n,a,i(Xt,e,s),o);else return i(rf,e,ve(ef,e,r,t,n,a,s,o))}),rf=$(function(e,r){if(r.$===-1){var t=r.a,n=r.b,a=r.c,s=r.d,o=r.e;if(ee(e,n)){var u=Z$(o);if(u.$===-1){var m=u.b,l=u.c;return F(Vt,t,m,l,s,Hn(o))}else return Sr}else return F(Vt,t,n,a,s,i(Xt,e,o))}else return Sr}),tf=$(function(e,r){var t=i(Xt,e,r);if(t.$===-1&&!t.a){t.a;var n=t.b,a=t.c,s=t.d,o=t.e;return F(Q,1,n,a,s,o)}else{var u=t;return u}}),nf=w(function(e,r,t){var n=r(i($r,e,t));if(n.$)return i(tf,e,t);var a=n.a;return g(Ea,e,a,t)}),af=$(function(e,r){return g($e,$(function(t,n){var a=X$(t);return i(Kt,a,r)?g(nf,a,function(s){if(s.$)return W(b([t]));var o=s.a;return W(i(L,t,o))},n):n}),gt,i(wr,function(t){var n=t.a,a=t.b;return i(zr,function(s){return n},a.dl)},st(e)))}),sf=Tu,Un=sf(O),fl=function(e){return g($e,$(function(r,t){var n=r.a,a=r.b;return g(Ea,n,a,t)}),gt,e)},of=uv,dl=function(e){return i(Se,fl,of(e))},uf=Ft(function(e,r,t,n,a,s,o){return{cQ:n,cX:a,de:o,dl:e,dz:r,cl:s,dO:t}}),lf=w(function(e,r,t){return{cx:r,ds:e,dt:t}}),cf=function(e){return{$:0,a:e}},mf=function(e){return{$:2,a:e}},vf=function(e){return{$:7,a:e}},$f=function(e){return{$:1,a:e}},ff=function(e){return{$:5,a:e}},df=function(e){return{$:6,a:e}},pf=function(e){return{$:4,a:e}},bf=function(e){return{$:3,a:e}},_e=sv,ot=lv,Wn=function(e){return i(ot,e,vr(0))},Fr=av,Zt=function(e){return{$:2,a:e}},pl={$:3},bl=function(e){return{$:1,a:e}},Xi=function(e){return{$:0,a:e}},Zi=ev,Or=rv,kn=iv,Rt=cv,Ne=nv,es=Rt(b([i(Se,function(e){switch(e){case"oui":return Zt(!0);case"non":return Zt(!1);default:return Xi(e)}},Ne),i(Se,bl,Or),i(Se,Zt,Zi),kn(pl)])),ar=function(e){return Rt(b([kn(q),i(Se,W,e)]))},hl=ul(V$),ua=$(function(e,r){return g(mr,_e,r,e)}),un=tv,hf=w(function(e,r,t){var n=function(s){return Rt(b([s,kn(t)]))},a=function(s){var o=i(oa,i(ua,e,un),s);if(o.$)return vr(t);var u=o.a,m=i(oa,n(r),u);if(m.$)return i(ua,e,n(r));var l=m.a;return vr(l)};return i(ot,a,un)}),ir=Y(function(e,r,t,n){return i(hl,g(hf,b([e]),r,t),n)}),gf=$(function(e,r){return{cI:e,b5:r}}),yt=w(function(e,r,t){return i(hl,i(_e,e,r),t)}),_f=g(yt,"possibilitÃ©s",Fr(Ne),P(ir,"choix obligatoire",ar(Ne),q,vr(gf))),yf=$(function(e,r){return{cA:r,dm:e}}),kf=dl(es),Ef=g(yt,"avec",kf,g(yt,"rÃ¨gle",Ne,vr(yf)));function en(){return P(ir,"sinon",ar(rn()),q,P(ir,"alors",ar(rn()),q,P(ir,"si",ar(rn()),q,vr(lf))))}function rn(){return Rt(b([i(Se,cf,es),i(Se,$f,i(_e,"somme",Fr(Ne))),i(Se,mf,i(_e,"moyenne",Fr(Ne))),i(Se,bf,i(_e,"variations",Fr(Wn(function(e){return en()})))),i(Se,pf,i(_e,"une possibilitÃ©",_f)),i(Se,ff,i(_e,"toutes ces conditions",Fr(Wn(function(e){return en()})))),i(Se,df,i(_e,"une de ces conditions",Fr(Wn(function(e){return en()})))),i(Se,vf,i(_e,"recalcul",Ef))]))}var xf=en();en=function(){return xf};var ri=rn();rn=function(){return ri};var Cf=P(ir,"note",ar(Ne),q,P(ir,"titre",ar(Ne),q,P(ir,"formule",ar(ri),q,P(ir,"par dÃ©faut",ar(ri),q,P(ir,"unitÃ©",ar(Ne),q,P(ir,"rÃ©sumÃ©",ar(Ne),q,P(ir,"question",ar(Ne),q,vr(uf)))))))),wf=dl(Cf),Sf=function(e){var r=i(oa,wf,e);if(r.$){var a=r.a;return y(U(No,{an:W(a)}),Un)}else{var t=r.a,n=Q$();return y(U(No,{aw:n,aR:i(af,t,n),T:t}),cl(i(ae,function(s){var o=s.a;return o},st(t))))}},Of=function(e){return{$:3,a:e}},Vf=function(e){return{$:2,a:e}},jf=function(e){return{$:1,a:e}},Af=Tu,la=ov,Df=Ri("evaluatedRule",i(ot,function(e){return i(ot,function(r){return vr(y(e,r))},i(la,1,un))},i(la,0,Ne))),If=Ri("evaluatedRules",Fr(i(ot,function(e){return i(ot,function(r){return vr(y(e,r))},i(la,1,un))},i(la,0,Ne)))),Nf=Ri("situationUpdated",kn(0)),qf=function(e){return Af(b([Df(jf),If(Vf),Nf(Of)]))},gl=w(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,s=t.d,o=t.e,u=e,m=g(e,n,a,g(gl,e,r,s)),l=o;e=u,r=m,t=l;continue e}}),Ff=w(function(e,r,t){return g(gl,w(function(n,a,s){return g(gv,e(n),r(a),s)}),hv(),t)}),Pf=qi,Tf=yv,Mf=function(e){return"'"+(e+"'")},Rf=function(e){switch(e.$){case 0:var r=e.a;return Yt(Mf(r));case 1:var t=e.a;return Pf(t);case 2:var n=e.a;return Yt(n?"oui":"non");default:return Tf}},Lf=function(e){return g(Ff,kr,Rf,e)},Bf=Ru("setSituation",kr),zf=w(function(e,r,t){return{bS:t,da:r,ag:e}}),Jf=g(yt,"isNullable",Zi,g(yt,"missingVariables",Fr(Ne),g(yt,"nodeValue",es,vr(zf)))),Fo=$(function(e,r){var t=e.a,n=e.b,a=i(oa,Jf,n);if(a.$){var o=a.a;return U(r,{an:W(o)})}else{var s=a.a;return U(r,{M:g(Ea,t,s,r.M)})}}),Hf=$(function(e,r){switch(e.$){case 0:var t=e.a,o=t.a,n=t.b,a=g(Ea,o,n,r.az);return y(U(r,{az:a}),Bf(Lf(a)));case 1:var s=e.a,o=s.a,u=s.b;return y(i(Fo,y(o,u),r),Un);case 2:var m=e.a;return y(g($e,Fo,r,m),Un);case 3:return y(r,cl(i(ae,function(l){var v=l.a;return v},st(r.T))));default:return y(r,Un)}}),$t=$(function(e,r){return i(zu,e,Yt(r))}),H=$t("className"),ce=je("div"),Po=function(e){return e.$===-2},Uf=Lv,Fn=Uf,Wf=je("ul"),Kf=$t("id"),_l=Ga,xe=_l,rs=zm,ti=je("label"),jt=je("span"),kt=function(e){return{$:0,a:e}},Gf=qi,ts=$(function(e,r){return i(zu,e,Gf(r))}),nr=ts("disabled"),A=qu,pr=je("input"),Qf=function(e){return y(e,!0)},Yf=function(e){return{$:1,a:e}},yl=Bu,Xf=$(function(e,r){return i(yl,e,Yf(r))}),Zf=i(ua,b(["target","value"]),Ne),Zr=function(e){return i(Xf,"input",i(Se,Qf,i(Se,e,Zf)))},Pn=$t("placeholder"),kl=Qm,Dr=$t("type"),ni=$t("value"),To=ts("checked"),ed=function(e){return{$:0,a:e}},El=$(function(e,r){return i(yl,e,ed(r))}),rd=i(ua,b(["target","checked"]),Zi),Mo=function(e){return i(El,"change",i(Se,e,rd))},qa=w(function(e,r,t){return i(ce,b([H("form-control")]),b([i(ti,b([H("label cursor-pointer")]),b([i(jt,b([H("label-text")]),b([xe("Oui")])),i(pr,b([H("radio"),Dr("radio"),To(r),nr(t),Mo(function(n){return kt(y(e,Zt(n)))})]),O)])),i(ti,b([H("label cursor-pointer")]),b([i(jt,b([H("label-text")]),b([xe("Non")])),i(pr,b([H("radio"),Dr("radio"),To(!r),nr(t),Mo(function(n){return kt(y(e,Zt(!n)))})]),O)]))]))}),ai=$(function(e,r){if(r.$)return q;var t=r.a;return e(t)}),td=w(function(e,r,t){return i(oe,t,i(ai,function(n){return n.cl},i($r,r+(" . "+t),e)))}),xl=function(e){return{$:2,a:e}},nd=Ve(function(e,r,t,n,a){return{cO:t,bR:r,b$:e,aQ:n,aU:a}}),Cl=$(function(e,r){return r.b?g(mr,L,r,e):e}),wl=function(e){return i(Ce,"",e)},ad=function(e){return b([e])},id=function(e){var r=i(rl,function(t){return t==="0"},wl(i(Cl,e.bR,ad(e.cO))));return r?1:e.b$<0?2:0},ii=Pm,Jr=function(e){return e<0?-e:e},Sl=w(function(e,r,t){return e<=0?t:g(Sl,e>>1,R(r,r),e&1?R(t,r):t)}),ln=$(function(e,r){return g(Sl,e,r,"")}),sd=$(function(e,r){var t=Pe(r),n=ne(t,e)<0?Jr(e-t):0;return R(r,i(ln,n,"0"))}),ca=$(function(e,r){return e<1?r:g(Pr,0,-e,r)}),cn=$(function(e,r){return e<1?"":g(Pr,-e,Pe(r),r)}),Ol=function(e){return i(cn,1,e)!=="0"?e:Ol(i(ca,1,e))},od=$(function(e,r){var t=e.cO;switch(t.$){case 1:return Ol(r);case 2:return r;default:var n=t.a;return i(sd,n,r)}}),ud=Mm,ld=function(e){return g(ud,L,O,e)},cd=$(function(e,r){var t=i(Yi,function(n){return n!=="0"&&n!=="."},ld(r));return R(e&&t?"-":"",r)}),si=Nm,md=Xm,Vl=function(e){var r=e.a,t=e.b;if(r==="9"){var n=bn(t);if(n.$===1)return"01";var a=n.a;return i(si,"0",Vl(a))}else{var s=pn(r);return s>=48&&s<57?i(si,md(s+1),t):"0"}},vd=Om,$d=Im,jl=function(e){return i(si,e,"")},oi=w(function(e,r,t){return R(t,i(ln,e-Pe(t),jl(r)))}),Ro=Tm,Al=function(e){var r=i(Lr,".",e);if(r.b)if(r.b.b){var t=r.a,n=r.b,a=n.a;return y(t,a)}else{var t=r.a;return y(t,"0")}else return y("0","0")},fd=$(function(e,r){var t=r.a,n=r.b;return y(e(t),n)}),dd=function(e){var r=i(Lr,"e",A(Jr(e)));if(r.b)if(r.b.b){var t=r.a,n=r.b,a=n.a,s=i(oe,0,Ki(i(T$,"+",a)?i(gn,1,a):a)),o=Al(t),u=o.a,m=o.b,l=R(u,m),v=s<0?i(oe,"0",i(zr,function(c){var p=c.a,f=c.b;return p+("."+f)},i(zr,fd(jl),bn(R(i(ln,Jr(s),"0"),l))))):g(oi,s+1,"0",l);return R(e<0?"-":"",v)}else{var t=r.a;return R(e<0?"-":"",t)}else return""},pd=w(function(e,r,t){if(vd(t)||$d(t))return A(t);var n=t<0,a=Al(dd(Jr(t))),s=a.a,o=a.b,u=Pe(s)+r,m=R(i(ln,-u+1,"0"),g(oi,u,"0",R(s,o))),l=Pe(m),v=i(qe,1,u),c=i(e,n,g(Pr,v,l,m)),p=g(Pr,0,v,m),f=c?Ro(i(oe,"1",i(zr,Vl,bn(Ro(p))))):p,_=Pe(f),h=f==="0"?f:r<=0?R(f,i(ln,Jr(r),"0")):ne(r,Pe(o))<0?g(Pr,0,_-r,f)+("."+g(Pr,_-r,_,f)):R(s+".",g(oi,r,"0",o));return i(cd,n,h)}),ui=pd($(function(e,r){var t=bn(r);if(t.$===1)return!1;if(t.a.a==="5")return t.a.b===""?(t.a,!e):(t.a,!0);var n=t.a,a=n.a;return function(s){return s>53&&e||s>=53&&!e}(pn(a))})),bd=function(e){if(e.b){e.a;var r=e.b;return W(r)}else return q},hd=$(function(e,r){var t=function(){var o=e.cO;switch(o.$){case 1:var u=o.a;return ui(u);case 0:return A;default:var m=o.a;return ui(m)}}(),n=i(Lr,".",t(r)),a=function(){var o=bd(n);if(o.$)return"";var u=o.a;return i(oe,"",Ot(u))}(),s=i(oe,"",Ot(n));return y(s,a)}),gd=function(e){var r=Pe(e)>3?i(cn,3,e):e,t=function(n){return Pe(n)>2?i(L,i(cn,2,n),t(i(ca,2,n))):Pe(n)?b([n]):O};return Me(i(L,r,t(i(ca,3,e))))},_d=function(e){var r=function(t){return Pe(t)>3?i(L,i(cn,3,t),r(i(ca,3,t))):b([t])};return Me(r(e))},yd=$(function(e,r){return e?gd(i(ii,aa,r)):_d(i(ii,aa,r))}),kd=$(function(e,r){var t=i(hd,e,r),n=i(yd,e.aV,i(ii,aa,t.a)),a=i(od,e,t.b),s=F(nd,r,n,a,"",""),o=id(s);switch(o){case 2:return U(s,{aQ:e.bb,aU:e.bc});case 0:return U(s,{aQ:e.b3,aU:e.b4});default:return U(s,{aQ:e.cv,aU:e.cw})}}),Ed=$(function(e,r){return r===""?"":R(e.ad,r)}),xd=$(function(e,r){var t=Ed(e),n=i(Ce,e._,r.bR),a=t(r.cO);return wl(b([r.aQ,n,a,r.aU]))}),Cd=$(function(e,r){return i(xd,e,i(kd,e,r))}),wd=function(e){return{$:0,a:e}},Sd={ad:".",cO:wd(0),bb:"â",bc:"",b3:"",b4:"",aV:0,_:"",cv:"",cw:""},Od=U(Sd,{ad:",",cO:xl(3),_:"â¯"}),Dl=function(e){switch(e.$){case 0:var r=e.a;return r;case 1:var t=e.a;return i(Cd,U(Od,{cO:xl(1)}),t);case 2:var n=e.a;return n?"oui":"non";default:return""}},Vd=je("option"),jd=je("select"),Ad=ts("selected"),Lo=Ve(function(e,r,t,n,a){return i(jd,b([Zr(function(s){return kt(y(r,Xi(s)))}),H("select select-bordered"),nr(a)]),i(ae,function(s){return i(Vd,b([ni(s),Ad(ee(Dl(n),s))]),b([xe(g(td,e,r,s))]))},t))}),Dd=w(function(e,r,t){var n=r.a,a=r.b,s=function(_){var h=kl(_);if(h.$)return Mt(_)?kt(y(n,pl)):kt(y(n,Xi(_)));var E=h.a;return kt(y(n,bl(E)))},o=i(zr,function(_){var h=_.ag;return h},i($r,n,e.M)),u=we(a.cX,i($r,n,e.az),o);e:for(;;){r:for(;;){t:for(;;){n:for(;;)if(u.b.$===1){if(u.c.$)break n;switch(u.c.a.$){case 1:if(!u.a.$&&u.a.a.$===4)break r;u.b;var m=u.c.a.a;return i(pr,b([Dr("number"),nr(t),H("input input-bordered"),Pn(A(m)),Zr(s)]),O);case 0:if(!u.a.$&&u.a.a.$===4)break r;u.b;var l=u.c.a.a;return i(pr,b([Dr("text"),nr(t),H("input input-bordered"),Pn(l),Zr(s)]),O);case 2:if(!u.a.$&&u.a.a.$===4)break r;u.b;var v=u.c.a.a;return g(qa,n,v,t);default:if(!u.a.$&&u.a.a.$===4)break r;break n}}else switch(u.b.a.$){case 1:if(!u.a.$&&u.a.a.$===4)break e;var m=u.b.a.a;return i(pr,b([Dr("number"),nr(t),H("input input-bordered"),ni(A(m)),Zr(s)]),O);case 0:if(!u.a.$&&u.a.a.$===4)break e;var l=u.b.a.a;return i(pr,b([Dr("text"),nr(t),H("input input-bordered"),ni(l),Zr(s)]),O);case 2:if(!u.a.$&&u.a.a.$===4)break e;var v=u.b.a.a;return g(qa,n,v,t);default:if(u.c.$){if(!u.a.$&&u.a.a.$===4)break e;break t}else switch(u.c.a.$){case 1:if(!u.a.$&&u.a.a.$===4)break e;u.b.a;var m=u.c.a.a;return i(pr,b([Dr("number"),nr(t),H("input input-bordered"),Pn(A(m)),Zr(s)]),O);case 0:if(!u.a.$&&u.a.a.$===4)break e;u.b.a;var l=u.c.a.a;return i(pr,b([Dr("text"),nr(t),H("input input-bordered"),Pn(l),Zr(s)]),O);case 2:if(!u.a.$&&u.a.a.$===4)break e;u.b.a;var v=u.c.a.a;return g(qa,n,v,t);default:if(!u.a.$&&u.a.a.$===4)break e;break t}}return i(pr,b([H("input"),nr(!0)]),O)}return u.b.a,i(pr,b([H("input"),nr(!0)]),O)}var p=u.a.a.a.b5;u.b;var c=u.c.a;return F(Lo,e.T,n,p,c,t)}var p=u.a.a.a.b5,f=u.b.a;return F(Lo,e.T,n,p,f,t)}),Il=function(e){return xe(" "+i(oe,"",e.dO))},Id=w(function(e,r,t){var n=r.a,a=r.b;return i(oe,xe(""),i(zr,function(s){return i(ce,O,b([i(ti,b([H("form-control")]),b([i(ce,b([H("label")]),b([i(jt,b([H("label-text text-md font-semibold")]),b([xe(s)])),i(jt,b([H("label-text-alt text-md")]),b([Il(a)]))])),g(Dd,e,y(n,a),t)]))]))},a.cl))}),Nd=function(e){return i(ce,b([H("bg-neutral border-x border-b border-base-200 overflow-y-auto rounded-b-md h-[87vh]")]),i(ae,function(r){var t=r.a,n=r.b;return i(ce,b([H("mb-8")]),b([i(ce,b([H("bg-base-100 p-4 mb-4 border-y border-base-200 sticky top-0"),Kf(t)]),b([xe(rs(t))])),i(ce,b([H("grid grid-cols-1 lg:grid-cols-2 gap-6 px-6")]),i(wr,function(a){var s=y(i($r,a,e.T),i($r,a,e.M));if(!s.a.$&&!s.b.$){var o=s.a.a,u=s.b.a;return W(g(Id,e,y(a,o),u.bS))}else return q},n))]))},st(e.aR)))},Nl=je("a"),ql=function(e){return i($t,"href",Wv(e))},qd=je("li"),Fd=function(e){return i(ae,function(r){return i(qd,b([H("p-1 hover:bg-base-100 rounded-lg")]),b([i(Nl,b([H("tab cursor-pointer text-xs hover:text-accent"),ql("#"+r)]),b([xe(rs(r))]))]))},e)},ye=re("class"),Et=re("d"),Hr=re("fill"),Re=Lu("http://www.w3.org/2000/svg"),xt=Re("path"),Pd=re("stroke-linecap"),Td=re("stroke-linejoin"),ut=re("stroke-width"),Fl=Re("svg"),Pl=re("viewBox"),Md=i(Fl,b([Hr("none"),Pl("0 0 24 24"),ye("stroke-current shrink-0 h-6 w-6")]),b([i(xt,b([Pd("round"),Td("round"),ut("2"),Et("M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z")]),O)])),Bo=function(e){if(e.$)return xe("");var r=e.a;return i(ce,b([H("alert alert-error")]),b([Md,i(jt,O,b([xe(il(r))]))]))},He=w(function(e,r,t){return r(e(t))}),Rd=function(e){return{$:0,a:e}},Ld=w(function(e,r,t){return Rd({f:t,bG:Ve(function(n,a,s,o,u){return O}),F:i(He,e,i(He,zr(A),oe("N/A"))),c4:r,bW:q,W:e,aE:e})}),Bd=function(e){return i(Ld,i(He,e,W),O)},zd=Ve(function(e,r,t,n,a){return{$:2,a:e,b:r,c:t,d:n,e:a}}),Jd=function(e){return{$:0,a:e}},Hd=$(function(e,r){var t=e.b;return t(r)}),Tl=Hd,fr=$(function(e,r){var t=$(function(n,a){return n(a)});return g($e,t,r,e)}),ns=$(function(e,r){return{$:0,a:e,b:r}}),Ud=$(function(e,r){var t=r;return U(t,{dG:function(n){return function(a){var s=a.a;return a.b,i(e,s,t.dG(n))}(n.H)}})}),En=$(function(e,r){var t=r;return i(t.dJ,e,t.cJ)}),Wd=function(e){var r=e;return r.cJ.dQ.au},Kd=function(e){var r=e;return r.cJ.dQ.aF},Gd=$(function(e,r){var t=$(function(n,a){var s=a.a,o=a.b;return e(n)?y(i(L,n,s),o):y(s,i(L,n,o))});return g(mr,t,y(O,O),r)}),Qd=$(function(e,r){var t=$(function(n,a){if(n.b){var s=n.a,o=n.b,u=i(Gd,e(s),o),m=u.a,l=u.b;return i(t,l,i(L,y(s,m),a))}else return Me(a)});return i(t,r,O)}),Ml=function(e){return g(mr,Cl,O,e)},Rr=$(function(e,r){return Ml(i(ae,e,r))}),Yd=Y(function(e,r,t,n){return{au:e,aF:r,dV:t,bt:n}}),Ur=$(function(e,r){return ne(e,r)<0?e:r}),mn=$(function(e,r){var t=$(function(n,a){if(a.$)return W(e(n));var s=a.a;return W({au:i(Ur,e(n).au,s.au),aF:i(qe,e(n).aF,s.aF),dV:i(Ur,e(n).dV,s.dV),bt:i(qe,e(n).bt,s.bt)})});return i(oe,P(Yd,0,0,0,0),g($e,t,q,r))}),er=Re("g"),xa=function(e){var r=e;return r.dG(r.cJ)},Rl=je("table"),Ca=function(e){var r=e;return r.dF(r.cJ)},xn=$(function(e,r){var t=r;return g(t.dK,e,t.cJ,i(t.dJ,e,t.cJ))}),Xd=$(function(e,r){var t=function(n){var a=n.a,s=n.b;return i(L,a,s)};return{cJ:{H:y(e,r)},dF:function(n){return b([i(Rl,O,i(Rr,Ca,t(n.H)))])},dG:function(n){return i(mn,xa,t(n.H))},dJ:$(function(n,a){return i(mn,En(n),t(a.H))}),dK:w(function(n,a,s){return i(er,b([ye("elm-charts__group")]),i(ae,xn(n),t(a.H)))})}}),Zd=$(function(e,r){var t=e.aT,n=e.aL,a=e.aK,s=function(m){var l=m;return t(l.cJ)},o=function(m){var l=m.a,v=m.b;return a(i(Xd,l,v))},u=$(function(m,l){return i(n,s(m),s(l))});return i(ae,o,i(Qd,u,r))}),ep=i(ns,En,Zd({aK:Ud($(function(e,r){return U(r,{au:Wd(e),aF:Kd(e)})})),aL:$(function(e,r){return ee(e.au,r.au)&&ee(e.aF,r.aF)&&ee(e.cT,r.cT)&&ee(e.aX,r.aX)}),aT:function(e){return{aX:e.aW.aJ,cT:e.aW.cT,au:e.dQ.au,aF:e.dQ.aF}}})),Ll=ep,as={h:!1,cY:!0,af:.1,dq:0,dr:0,dv:.05,au:q,aF:q},rp=$(function(e,r){var t=r;return{cJ:{dj:e(t.cJ.dj),dE:kr,aW:t.cJ.aW,dQ:t.cJ.dQ},dF:function(n){return Ca(t)},dG:function(n){return t.dG(t.cJ)},dJ:$(function(n,a){return i(t.dJ,n,t.cJ)}),dK:w(function(n,a,s){return i(xn,n,t)})}}),tp=function(e){var r=e;return function(t){var n=t.a,a=t.b;return i(L,n,a)}(r.cJ.H)},np=function(e){var r=function(t){var n=t;return i(rp,n.cJ.dE,n)};return i(ae,r,tp(e))},ap=xa,ip=$(function(e,r){var t=r;return{cJ:{dj:t.cJ.dj,dE:t.cJ.dE,aW:t.cJ.aW,dQ:{cN:e(t.cJ.dQ.cN),c6:t.cJ.dQ.c6,au:t.cJ.dQ.au,aF:t.cJ.dQ.aF,cs:t.cJ.dQ.cs}},dF:function(n){return Ca(t)},dG:function(n){return t.dG(t.cJ)},dJ:$(function(n,a){return i(t.dJ,n,t.cJ)}),dK:w(function(n,a,s){return i(xn,n,t)})}}),sp=Rv,op=sp,up=$(function(e,r){return{$:0,a:e,b:r}}),li=$(function(e,r){return U(r,{x:e})}),Ct=$(function(e,r){return e===""?r:U(r,{b:e})}),ma="#ea60df",Bl={f:O,x:"white",z:0,b:ma,aZ:q,c_:0,c$:"",c0:10,Q:1,dq:0,dr:0},zl=$(function(e,r){return U(r,{dq:e})}),is=$(function(e,r){return U(r,{dr:e})}),ss=function(e){if(e.$){var t=e.a;return t}else{var r=e.a;return b([r])}},lp="#12A5ED",Jl="#871c1c",cp="#71c614",mp="#92b42c",vp="#FF8400",$p="#7b4dff",fp="#F5325B",dp=$(function(e,r){return y(e,r)}),Hl=$(function(e,r){e:for(;;){if(r.$===-2)return e;var t=r.d,n=r.e,a=i(Hl,e+1,n),s=t;e=a,r=s;continue e}}),pp=function(e){return i(Hl,0,e)},bp=w(function(e,r,t){var n=fl(i(gr,dp,r)),a=pp(n),s=t%a;return i(oe,e,i($r,s,n))}),hp="#22d2ba",gp="#FFCA00",Ul=i(bp,ma,b([$p,ma,lp,cp,fp,gp,hp,vp,mp,Jl])),_p=w(function(e,r,t){var n=function(o){return i(fr,o,Bl)},a=i(fr,r,as),s=$(function(o,u){var m=i(qe,a.dr,a.dq),l="Property #"+se(o+1),v=Ul(o),c=b([is(m),zl(m),Ct(v),li(v)]),p=R(c,u.f),f=n(p),_=ee(f.x,v)?R(p,b([li(f.b)])):p;return i(up,i(oe,l,u.bW),_)});return i(gr,function(o){return s(e+o)},i(Rr,ss,t))}),Wl=function(e){return{$:1,a:e}},pe=Ft(function(e,r,t,n,a,s,o){return{$:6,a:e,b:r,c:t,d:n,e:a,f:s,g:o}}),T=$(function(e,r){return{$:1,a:e,b:r}}),Je=$(function(e,r){return{$:0,a:e,b:r}}),_r=w(function(e,r,t){return ne(t,e)<0?e:ne(t,r)>0?r:t}),Kl=function(e){return i(Ce," ",e)},zo=function(e){return e?"1":"0"},pt=function(e){var r=e.a,t=e.b;return A(r)+(" "+A(t))},Fa=function(e){return i(Ce,",",i(ae,pt,e))},yp=function(e){switch(e.$){case 0:var v=e.a,c=e.b;return"M"+pt(y(v,c));case 1:var v=e.a,c=e.b;return"L"+pt(y(v,c));case 2:var n=e.a,a=e.b,r=e.c,t=e.d,v=e.e,c=e.f;return"C"+Fa(b([y(n,a),y(r,t),y(v,c)]));case 3:var n=e.a,a=e.b,v=e.c,c=e.d;return"Q"+Fa(b([y(n,a),y(v,c)]));case 4:var n=e.a,a=e.b,v=e.c,c=e.d;return"Q"+Fa(b([y(n,a),y(v,c)]));case 5:var v=e.a,c=e.b;return"T"+pt(y(v,c));case 6:var s=e.a,o=e.b,u=e.c,m=e.d,l=e.e,v=e.f,c=e.g;return"A "+Kl(b([pt(y(s,o)),se(u),zo(m),zo(l),pt(y(v,c))]));default:return"Z"}},kp={$:7},Ep=Er(function(e,r,t,n,a,s){return{$:2,a:e,b:r,c:t,d:n,e:a,f:s}}),xp=Y(function(e,r,t,n){return{$:3,a:e,b:r,c:t,d:n}}),Cp=Y(function(e,r,t,n){return{$:4,a:e,b:r,c:t,d:n}}),wp=$(function(e,r){return{$:5,a:e,b:r}}),Gl=function(e){return i(qe,1,e.O-e.c9-e.c8)},os=function(e){return Gl(e.cr)},Cn=function(e){var r=e.A-e.I;return r>0?r:1},ci=$(function(e,r){return r*os(e)/Cn(e.cr)}),Be=$(function(e,r){return i(ci,e,r-e.cr.I)+e.cr.c9}),us=function(e){return Gl(e.cs)},Sp=$(function(e,r){return r*us(e)/Cn(e.cs)}),ze=$(function(e,r){return i(Sp,e,e.cs.A-r)+e.cs.c9}),Op=$(function(e,r){switch(r.$){case 0:var c=r.a,p=r.b;return i(Je,i(Be,e,c),i(ze,e,p));case 1:var c=r.a,p=r.b;return i(T,i(Be,e,c),i(ze,e,p));case 2:var a=r.a,s=r.b,t=r.c,n=r.d,c=r.e,p=r.f;return lr(Ep,i(Be,e,a),i(ze,e,s),i(Be,e,t),i(ze,e,n),i(Be,e,c),i(ze,e,p));case 3:var a=r.a,s=r.b,c=r.c,p=r.d;return P(xp,i(Be,e,a),i(ze,e,s),i(Be,e,c),i(ze,e,p));case 4:var a=r.a,s=r.b,c=r.c,p=r.d;return P(Cp,i(Be,e,a),i(ze,e,s),i(Be,e,c),i(ze,e,p));case 5:var c=r.a,p=r.b;return i(wp,i(Be,e,c),i(ze,e,p));case 6:var o=r.a,u=r.b,m=r.c,l=r.d,v=r.e,c=r.f,p=r.g;return ve(pe,o,u,m,l,v,i(Be,e,c),i(ze,e,p));default:return kp}}),Ql=$(function(e,r){return Kl(i(ae,i(He,Op(e),yp),r))}),Yl=re("fill-opacity"),De=$(function(e,r){return r*Cn(e.cr)/os(e)}),Ie=$(function(e,r){return r*Cn(e.cs)/us(e)}),At=re("stroke"),ls=re("stroke-opacity"),Jo=$(function(e,r){var t=$(function(n,a){return n(a)});return g($e,t,r,e)}),Xl=Re("circle"),Zl=re("cx"),ec=re("cy"),mi=Re("defs"),Dt=re("height"),vi=re("id"),Vp=Re("line"),jp=Re("linearGradient"),Ap=re("offset"),Dp=Re("pattern"),Ip=re("patternTransform"),Np=re("patternUnits"),rc=re("r"),bt=w(function(e,r,t){return i(Ce,r,i(Lr,e,t))}),qp=Re("stop"),Fp=re("stop-color"),It=re("width"),Ho=re("x1"),Uo=re("x2"),va=re("y"),Pp=re("y1"),Wo=re("y2"),Tp=$(function(e,r){var t=function(u){return g(bt,"(","-",g(bt,")","-",g(bt,".","-",g(bt,",","-",g(bt," ","-",i(Ce,"-",R(b(["elm-charts__pattern",function(){switch(r.$){case 0:return"striped";case 1:return"dotted";default:return"gradient"}}()]),u)))))))},n=Y(function(u,m,l,v){return i(mi,O,b([i(Dp,b([vi(u),Np("userSpaceOnUse"),It(A(m)),Dt(A(m)),Ip("rotate("+(A(l)+")"))]),b([v]))]))}),a=function(){switch(r.$){case 0:var m=r.a,u=i(Jo,m,{b:e,q:45,dv:4,cq:3}),v=t(b([u.b,A(u.cq),A(u.dv),A(u.q)]));return y(P(n,v,u.dv,u.q,i(Vp,b([Ho("0"),va("0"),Uo("0"),Wo(A(u.dv)),At(u.b),ut(A(u.cq))]),O)),v);case 1:var m=r.a,u=i(Jo,m,{b:e,q:45,dv:4,cq:3}),v=t(b([u.b,A(u.cq),A(u.dv),A(u.q)]));return y(P(n,v,u.dv,u.q,i(Xl,b([Hr(u.b),Zl(A(u.cq/3)),ec(A(u.cq/3)),rc(A(u.cq/3))]),O)),v);default:var m=r.a,l=ee(m,O)?b([e,"white"]):m,v=t(l),c=Br(l),p=function(_){return _*100/(c-1)},f=$(function(_,h){return i(qp,b([Ap(A(p(_))+"%"),Fp(h)]),O)});return y(i(mi,O,b([i(jp,b([vi(v),Ho("0"),Uo("0"),Pp("0"),Wo("1")]),i(gr,f,l))])),v)}}(),s=a.a,o=a.b;return y(s,"url(#"+(o+")"))}),Mp=Gv,Rp=Mp,$a=w(function(e,r,t){return r(R(t,i(ae,Rp(_n),e)))}),Lp=re("clip-path"),tc=function(e){var r=i(He,A,i(bt,".","-"));return i(Ce,"_",b(["elm-charts__id",r(e.cr.O),r(e.cr.I),r(e.cr.A),r(e.cr.c9),r(e.cr.c8),r(e.cs.O),r(e.cs.I),r(e.cs.A),r(e.cs.c9),r(e.cs.c8)]))},vn=function(e){return Lp("url(#"+(tc(e)+")"))},nc=w(function(e,r,t){var n=Er(function(I,J,N,M,Z,G){return P($a,r.f,xt,b([ye("elm-charts__bar"),Hr(I),Yl(A(J)),At(N),ut(A(M)),ls(A(Z)),Et(i(Ql,e,G)),vn(e)]),O)}),a=r.c$===""?r.b:r.c$,s=i(Ie,e,r.z/2),o=s+i(Ie,e,r.c0/2),u=i(De,e,r.z/2),m=u+i(De,e,r.c0/2),l={au:i(Ur,t.au,t.aF)+u,aF:i(qe,t.au,t.aF)-u,dV:i(Ur,t.dV,t.bt)+s,bt:i(qe,t.dV,t.bt)-s},v=Jr(l.bt-l.dV),c={au:l.au-m,aF:l.aF+m,dV:l.dV-o,bt:l.bt+o},p=Jr(l.aF-l.au),f=i(ci,e,p)*.5*g(_r,0,1,r.dq),_=i(De,e,f),h=i(Ie,e,f),E=i(ci,e,p)*.5*g(_r,0,1,r.dr),x=i(De,e,E),d=i(Ie,e,E),V=v-d*.8-h*.8<=0||p-x*.8-_*.8<=0?y(0,0):y(r.dr,r.dq),C=V.a,S=V.b,X=function(){if(ee(l.dV,l.bt))return y(O,O);var I=y(C>0,S>0);return I.a?I.b?y(b([i(Je,l.au+_,l.dV),ve(pe,f,f,-45,!1,!0,l.au,l.dV+h),i(T,l.au,l.bt-d),ve(pe,E,E,-45,!1,!0,l.au+x,l.bt),i(T,l.aF-x,l.bt),ve(pe,E,E,-45,!1,!0,l.aF,l.bt-d),i(T,l.aF,l.dV+h),ve(pe,f,f,-45,!1,!0,l.aF-_,l.dV),i(T,l.au+_,l.dV)]),b([i(Je,c.au+_,c.dV),ve(pe,f,f,-45,!1,!0,c.au,c.dV+h),i(T,c.au,c.bt-d),ve(pe,E,E,-45,!1,!0,c.au+x,c.bt),i(T,c.aF-x,c.bt),ve(pe,E,E,-45,!1,!0,c.aF,c.bt-d),i(T,c.aF,c.dV+h),ve(pe,f,f,-45,!1,!0,c.aF-_,c.dV),i(T,c.au+_,c.dV),i(T,l.aF-_,l.dV),ve(pe,f,f,-45,!1,!1,l.aF,l.dV+h),i(T,l.aF,l.bt-d),ve(pe,E,E,-45,!1,!1,l.aF-x,l.bt),i(T,l.au+x,l.bt),ve(pe,E,E,-45,!1,!1,l.au,l.bt-d),i(T,l.au,l.dV+h),i(T,l.aF,l.dV)])):y(b([i(Je,l.au,l.dV),i(T,l.au,l.bt-d),ve(pe,E,E,-45,!1,!0,l.au+x,l.bt),i(T,l.aF-x,l.bt),ve(pe,E,E,-45,!1,!0,l.aF,l.bt-d),i(T,l.aF,l.dV),i(T,l.au,l.dV)]),b([i(Je,c.au,l.dV),i(T,c.au,c.bt-d),ve(pe,E,E,-45,!1,!0,c.au+x,c.bt),i(T,c.aF-x,c.bt),ve(pe,E,E,-45,!1,!0,c.aF,c.bt-d),i(T,c.aF,l.dV),i(T,l.aF,l.dV),i(T,l.aF,l.bt-d),ve(pe,E,E,-45,!1,!1,l.aF-x,l.bt),i(T,l.au+x,l.bt),ve(pe,E,E,-45,!1,!1,l.au,l.bt-d),i(T,l.au,l.dV)])):I.b?y(b([i(Je,l.au+_,l.dV),ve(pe,f,f,-45,!1,!0,l.au,l.dV+h),i(T,l.au,l.bt),i(T,l.aF,l.bt),i(T,l.aF,l.dV+h),ve(pe,f,f,-45,!1,!0,l.aF-_,l.dV),i(T,l.au+_,l.dV)]),b([i(Je,c.au+_,c.dV),ve(pe,f,f,-45,!1,!0,c.au,c.dV+h),i(T,c.au,c.bt),i(T,c.aF,c.bt),i(T,c.aF,c.dV+h),ve(pe,f,f,-45,!1,!0,c.aF-_,c.dV),i(T,c.au+_,c.dV),i(T,l.aF-_,l.dV),ve(pe,f,f,-45,!1,!1,l.aF,l.dV+h),i(T,l.aF,l.bt),i(T,l.au,l.bt),i(T,l.au,l.dV+h),i(T,l.aF,l.dV)])):y(b([i(Je,l.au,l.dV),i(T,l.au,l.bt),i(T,l.aF,l.bt),i(T,l.aF,l.dV),i(T,l.au,l.dV)]),b([i(Je,c.au,l.dV),i(T,c.au,c.bt),i(T,c.aF,c.bt),i(T,c.aF,l.dV),i(T,l.aF,l.dV),i(T,l.aF,l.bt),i(T,l.au,l.bt),i(T,l.au,l.dV)]))}(),be=X.a,ie=X.b,me=function(I){return r.c_?i(er,b([ye("elm-charts__bar-with-highlight")]),b([lr(n,a,r.c_,"transparent",0,0,ie),lr(n,I,r.Q,r.x,r.z,1,be)])):lr(n,I,r.Q,r.x,r.z,1,be)},Ue=r.aZ;if(Ue.$===1)return me(r.b);var Fe=Ue.a,k=i(Tp,r.b,Fe),j=k.a,D=k.b;return i(er,b([ye("elm-charts__bar-with-pattern")]),b([j,me(D)]))}),Bp=Bv,le=Bp,zp=$(function(e,r){return i(oe,"Property #"+se(e+1),r)}),Ko=je("td"),Jp=je("tr"),Hp=w(function(e,r,t){return i(Jp,O,b([i(Ko,b([i(le,"color",e),i(le,"padding","0"),i(le,"padding-right","3px")]),b([xe(r+":")])),i(Ko,b([i(le,"text-align","right"),i(le,"padding","0")]),b([xe(t)]))]))}),Up=$(function(e,r){var t=Y(function(n,a,s,o){e:for(;;)if(o.b)if(o.b.b){var u=o.a,m=o.b,l=m.a,v=m.b,c=n+1,p=W(u),f=R(s,b([P(r,n,a,u,W(l))])),_=i(L,l,v);n=c,a=p,s=f,o=_;continue e}else{var u=o.a;return R(s,b([P(r,n,a,u,q)]))}else return s});return P(t,0,q,O,e)}),Wp=Y(function(e,r,t,n){var a=function(l){return i(fr,l,Bl)},s=i(fr,r,as),o=Ft(function(l,v,c,p,f,_,h){var E=p.aE(h.cN),x=p.W(h.cN),d=h.bq,V=Br(l),C=s.cY?Br(t):1,S=V>1?qe(0):kr,X=S(i(oe,0,E)-i(oe,0,x)),be=S(i(oe,0,E)),ie=V===1,me=ee(c,V-1),Ue=ie||me?s.dr:0,Fe=!c,k=ie||Fe?s.dq:0,j=h.bD,D=j-d,I=D*s.af,J=D*s.dv,N=(D-I*2-(C-1)*J)/C,M=s.cY?v*N+v*J:0,Z=d+I+M,G=d+I+M+N,z=Ul(f),he=b([is(Ue),zl(k),Ct(z),li(z)]),We=R(he,R(p.f,F(p.bG,v,c,_,p.bW,h.cN))),Ke=a(We),Oe=function(ue){return ee(ue.x,z)?U(ue,{x:ue.b}):ue}(function(ue){var ge=ue.aZ;if(!ge.$&&ge.a.$===2&&ge.a.a.b){var Ge=ge.a.a,tr=Ge.a;return ee(ue.b,z)?U(ue,{b:tr}):ue}else return ue}(Ke));return{cJ:{dj:Oe,dE:Wl,aW:{x:Oe.x,z:Oe.z,b:Oe.b,aJ:_,cT:e,bI:p.F(h.cN),c2:f,dd:p.bW,dk:v,dw:c},dQ:{cN:h.cN,c6:function(){return!x.$}(),au:d,aF:j,cs:i(oe,0,x)}},dF:function(ue){return b([g(Hp,ue.aW.b,i(zp,f,ue.aW.dd),p.F(h.cN))])},dG:function(ue){return{au:Z,aF:G,dV:i(Ur,X,be),bt:i(qe,X,be)}},dJ:$(function(ue,ge){return{au:Z,aF:G,dV:X,bt:be}}),dK:w(function(ue,ge,Ge){return g(nc,ue,Oe,Ge)})}}),u=Er(function(l,v,c,p,f,_){var h=i(gr,F(o,v,c,p,f,_),l);if(h.b){var E=h.a,x=h.b;return W({cJ:{H:y(E,x)},dF:function(d){return b([i(Rl,b([i(le,"margin","0")]),i(Rr,Ca,function(V){var C=V.a,S=V.b;return i(L,C,S)}(d.H)))])},dG:function(d){return i(mn,xa,function(V){var C=V.a,S=V.b;return i(L,C,S)}(d.H))},dJ:$(function(d,V){return i(mn,En(d),function(C){var S=C.a,X=C.b;return i(L,S,X)}(V.H))}),dK:w(function(d,V,C){return i(er,b([ye("elm-charts__bar-series")]),i(ae,xn(d),function(S){var X=S.a,be=S.b;return i(L,X,be)}(V.H)))})})}else return q}),m=Y(function(l,v,c,p){var f=y(s.au,s.aF);if(f.a.$===1){if(f.b.$===1)return f.a,f.b,{cN:c,bD:l+1+.5,bq:l+1-.5};f.a;var _=f.b.a,h=y(v,p);if(h.a.$){if(h.b.$)return h.a,h.b,{cN:c,bD:_(c),bq:_(c)-1};h.a;var x=h.b.a;return{cN:c,bD:_(c),bq:_(c)-(_(x)-_(c))}}else{var E=h.a.a;return{cN:c,bD:_(c),bq:_(E)}}}else if(f.b.$===1){var d=f.a.a;f.b;var V=y(v,p);if(V.b.$){if(V.a.$)return V.a,V.b,{cN:c,bD:d(c)+1,bq:d(c)};var E=V.a.a;return V.b,{cN:c,bD:d(c)+(d(c)-d(E)),bq:d(c)}}else{var x=V.b.a;return{cN:c,bD:d(x),bq:d(c)}}}else{var d=f.a.a,_=f.b.a;return{cN:c,bD:_(c),bq:d(c)}}});return function(l){return i(wr,kr,i(gr,$(function(v,c){return c(e+v)}),Ml(i(gr,$(function(v,c){return i(gr,g(u,l,c,v),Me(c))}),i(ae,ss,t)))))}(i(Up,n,m))}),Kp=Y(function(e,r,t,n){return Jd(function(a){var s=g(_p,a,r,t),o=P(Wp,a,r,t,n),u=i(ae,ip(e),i(Rr,np,o)),m=i(Tl,Ll,u),l=i(ae,xa,m),v=i(fr,r,as),c=$(function(p,f){return U(f,{C:R(f.C,v.h?i(Rr,i(He,ap,function(_){return b([_.au,_.aF])}),m):O)})});return y(F(zd,l,u,s,c,function(p){return i(op,_n,i(er,b([ye("elm-charts__bar-series")]),i(ae,xn(p),o)))}),a+Br(i(Rr,ss,t)))})}),Gp=w(function(e,r,t){return P(Kp,kr,e,r,t)}),Qp=$(function(e,r){var t=e.a,n=e.b;r.a;var a=r.b;return i(ns,t,function(s){return n(a(s))})}),Yp=Qp,Xp=function(e){var r=e,t=r.cJ.dj;if(t.$===1){var n=t.a;return W({cJ:{dj:n,dE:Wl,aW:r.cJ.aW,dQ:r.cJ.dQ},dF:function(a){return r.dF(r.cJ)},dG:function(a){return r.dG(r.cJ)},dJ:$(function(a,s){return i(r.dJ,a,r.cJ)}),dK:$(function(a,s){return i(nc,a,s.dj)})})}else return q},Zp=i(ns,En,wr(Xp)),eb=Zp,Le={k:q,f:O,x:"white",z:0,b:"#808BAB",l:q,m:q,n:!1,q:0,s:!1,i:0,j:0},rb=function(e){return{cr:e.au+(e.aF-e.au)/2,cs:e.dV}},tb=function(e){return i(He,En(e),rb)},nb={k:Le.k,f:Le.f,x:Le.x,z:Le.z,b:Le.b,l:Le.l,m:Le.m,F:q,n:Le.n,y:tb,q:Le.q,s:Le.s,i:Le.i,j:Le.j},ab=function(e){return{$:10,a:e}},ib=$(function(e,r){return ab($(function(t,n){var a=i(Tl,e,n);return i(Rr,r(t),a)}))}),sb=function(e){var r=e;return r.cJ.dQ.cN},ob=function(e){var r=e;return function(t){var n=t.a;return t.b,sb(n)}(r.cJ.H)},ub=ob,lb=$(function(e,r){return i(re,Uv(e),Kv(r))}),cb=lb,mb=Re("foreignObject"),$i=re("transform"),Go=Er(function(e,r,t,n,a,s){return $i("translate("+(A(i(Be,e,t)+a)+(","+(A(i(ze,e,n)+s)+(") rotate("+(A(r)+")"))))))}),ac=re("style"),vb=Re("text"),$b=Re("tspan"),ic=Y(function(e,r,t,n){var a=r.l;if(a.$===1){var s=function(c){return r.n?i(er,b([vn(e)]),b([c])):c},o=r.s?"text-transform: uppercase;":"",u=function(){var c=r.m;if(c.$)return"";var p=c.a;return"font-size: "+(se(p)+"px;")}(),m=function(){var c=r.k;if(c.$===1)return"text-anchor: middle;";switch(c.a){case 0:return c.a,"text-anchor: end;";case 1:return c.a,"text-anchor: start;";default:return c.a,"text-anchor: middle;"}}();return s(P($a,r.f,vb,b([ye("elm-charts__label"),At(r.x),ut(A(r.z)),Hr(r.b),lr(Go,e,-r.q,n.cr,n.cs,r.i,r.j),ac(i(Ce," ",b(["pointer-events: none;",u,m,o])))]),b([i($b,O,t)])))}else{var l=a.a,v=function(){var h=r.k;if(h.$===1)return r.i-l.cq/2;switch(h.a){case 0:return h.a,r.i-l.cq;case 1:return h.a,r.i;default:return h.a,r.i-l.cq/2}}(),s=function(h){return r.n?i(er,b([vn(e)]),b([h])):h},o=r.s?i(le,"text-transform","uppercase"):i(le,"",""),u=function(){var h=r.m;if(h.$)return i(le,"","");var E=h.a;return i(le,"font-size",se(E)+"px")}(),m=function(){var h=r.k;if(h.$===1)return i(le,"text-align","center");switch(h.a){case 0:return h.a,i(le,"text-align","right");case 1:return h.a,i(le,"text-align","left");default:return h.a,i(le,"text-align","center")}}();return s(P($a,r.f,mb,b([ye("elm-charts__label"),ye("elm-charts__html-label"),It(A(l.cq)),Dt(A(l.bL)),lr(Go,e,-r.q,n.cr,n.cs,v,r.j-10)]),b([i(ce,b([i(cb,"xmlns","http://www.w3.org/1999/xhtml"),i(le,"white-space","nowrap"),i(le,"overflow","hidden"),i(le,"text-overflow","ellipsis"),i(le,"height","100%"),i(le,"pointer-events","none"),i(le,"color",r.b),u,o,m]),t)])))}}),fb=function(e){return{$:12,a:e}},db=function(e){return fb(function(r){return e(r)})},fa=_l,pb=function(e){return{k:e.k,f:e.f,x:e.x,z:e.z,b:e.b,l:e.l,m:e.m,n:e.n,q:e.q,s:e.s,i:e.i,j:e.j}},bb=$(function(e,r){return i(ib,i(Yp,Ll,eb),$(function(t,n){var a=i(fr,r,nb),s=function(){var o=a.F;if(o.$)return e(ub(n));var u=o.a;return u(n)}();return b([db(function(o){return P(ic,t,pb(a),b([fa(s)]),i(a.y,t,n))})])}))}),hb=Jl,gb=$(function(e,r){return{bK:r,dd:e}}),_b=Re("clipPath"),sc=$v,yb=i(_e,"offsetHeight",Or),kb=i(_e,"offsetWidth",Or),Eb=fv,xb=i(_e,"offsetLeft",Or),Cb=$(function(e,r){return Rt(b([i(_e,"offsetParent",kn(e)),i(_e,"offsetParent",r)]))}),wb=i(_e,"offsetTop",Or),Sb=i(_e,"scrollLeft",Or),Ob=i(_e,"scrollTop",Or),oc=$(function(e,r){return i(ot,function(t){var n=t.a,a=t.b;return i(Cb,y(n,a),i(oc,n,a))},F(Eb,Y(function(t,n,a,s){return y(e+a-t,r+s-n)}),Sb,Ob,xb,wb))}),Vb=P(sc,w(function(e,r,t){var n=e.a,a=e.b;return{bL:t,c7:n,dN:a,cq:r}}),i(oc,0,0),kb,yb),jb=function(e){return i(_e,"parentElement",e)};function cs(){return Rt(b([Vb,Wn(function(e){return jb(cs())})]))}var uc=cs();cs=function(){return uc};var Ab=$(function(e,r){return i(De,e,r-e.cr.c9)+e.cr.I}),Db=$(function(e,r){return Cn(e.cs)-i(Ie,e,r-e.cs.c9)+e.cs.I}),Ib=$(function(e,r){return{cr:i(Ab,e,r.cr),cs:i(Db,e,r.cs)}}),Nb=function(e){return i(_e,"target",e)},qb=$(function(e,r){var t=w(function(n,a,s){var o=e.cs,u=e.cr,m=s.cq/e.cr.O,l=s.bL/e.cs.O,v=U(e,{cr:U(u,{O:s.cq,c8:e.cr.c8*m,c9:e.cr.c9*m}),cs:U(o,{O:s.bL,c8:e.cs.c8*l,c9:e.cs.c9*l})}),c=i(Ib,v,{cr:n-s.c7,cs:a-s.dN});return i(r,v,c)});return P(sc,t,i(_e,"pageX",Or),i(_e,"pageY",Or),Nb(uc))}),Fb=El,da=Re("rect"),fi=re("x"),Pb=Ve(function(e,r,t,n,a){var s=function(_){return i(Fb,_.dd,i(qb,e,_.bK))},o=r.aS?b([Pl("0 0 "+(A(e.cr.O)+(" "+A(e.cs.O)))),i(le,"display","block")]):b([It(A(e.cr.O)),Dt(A(e.cs.O)),i(le,"display","block")]),u=r.aS?b([i(le,"width","100%"),i(le,"height","100%")]):b([i(le,"width",A(e.cr.O)+"px"),i(le,"height",A(e.cs.O)+"px")]),m=b([H("elm-charts__container-inner")]),l=R(r.aN,R(m,u)),v=b([fi(A(e.cr.c9)),va(A(e.cs.c9)),It(A(os(e))),Dt(A(us(e))),Hr("transparent")]),c=i(mi,O,b([i(_b,b([vi(tc(e))]),b([i(da,v,O)]))])),p=i(da,R(v,i(ae,s,r.aM)),O),f=i(Fl,R(o,r.f),R(b([c]),R(n,b([p]))));return i(ce,b([H("elm-charts__container"),i(le,"position","relative")]),b([i(ce,l,R(t,R(b([f]),a)))]))}),lc=w(function(e,r,t){return U(t,{I:g(r,e,t.I,t.cM)})}),Tb=w(function(e,r,t){return ne(r,e)>0?e:r}),Mb=$(function(e,r){var t=i(qe,1,e.cq-e.S.c7-e.S.dp),n=Ve(function(x,d,V,C,S){return{cL:S,cM:C,O:x,c8:V,c9:d,A:S,I:C}}),a=i(qe,1,e.bL-e.S.cE-e.S.dN),s=function(x){return ee(x.I,x.A)?U(x,{A:x.I+10}):x},o=$(function(x,d){switch(x.$){case 0:return d;case 1:var V=x.a;return R(d,V);case 2:var V=x.a;return R(d,V);case 3:return d;case 4:return d;case 5:return d;case 6:return d;case 7:return d;case 8:return d;case 9:return d;case 10:return d;case 11:var C=x.a;return g($e,o,d,C);case 12:return d;default:return d}}),u=function(x){return function(d){var V=d.cr,C=d.cs;return{cr:s(V),cs:s(C)}}({cr:F(n,t,e.af.c7,e.af.dp,x.au,x.aF),cs:F(n,a,e.af.dN,e.af.cE,x.dV,x.bt)})}(i(mn,kr,g($e,o,O,r))),m=function(){var x=e.bg;if(x.b){var d=x;return g($e,$(function(V,C){return V(C)}),u.cr,d)}else return u.cr}(),l=function(){var x=e.a_;if(x.b){var d=x;return g($e,$(function(V,C){return V(C)}),u.cs,d)}else return g(lc,0,Tb,u.cs)}(),v={cr:m,cs:l},c=De(v),p=m.A+c(e.S.dp),f=m.I-c(e.S.c7),_=Ie(v),h=l.A+_(e.S.dN),E=l.I-_(e.S.cE);return{cr:U(m,{O:e.cq,A:i(qe,f,p),I:i(Ur,f,p)}),cs:U(l,{O:e.bL,A:i(qe,E,h),I:i(Ur,E,h)})}}),Rb=$(function(e,r){var t=$(function(n,a){switch(n.$){case 0:return a;case 1:var s=n.b;return R(a,s);case 2:var s=n.b;return R(a,s);case 3:var o=n.a;return R(a,b([o]));case 4:return n.a,a;case 5:return a;case 6:return a;case 7:return a;case 8:return a;case 9:return a;case 10:return a;case 11:var u=n.a;return g($e,t,a,u);case 12:return a;default:return a}});return g($e,t,O,r)}),Lb=function(e){var r=$(function(t,n){switch(t.$){case 0:return n;case 1:var a=t.c;return R(n,a);case 2:var a=t.c;return R(n,a);case 3:return n;case 4:return n;case 5:return n;case 6:return n;case 7:return n;case 8:return n;case 9:return n;case 10:return n;case 11:var s=t.a;return g($e,r,n,s);case 12:return n;default:return n}});return g($e,r,O,e)},Bb=Y(function(e,r,t,n){return{aG:e,C:t,aH:r,J:n}}),zb=w(function(e,r,t){var n=$(function(a,s){switch(a.$){case 0:return s;case 1:return s;case 2:var u=a.d;return i(u,e,s);case 3:var u=a.b;return s;case 4:var u=a.a;return i(u,e,s);case 5:var u=a.a;return i(u,e,s);case 6:var o=a.a,u=a.b;return g(u,e,o(e),s);case 7:var o=a.a,u=a.b;return g(u,e,o(e),s);case 8:var o=a.a,u=a.b;return g(u,e,o(e),s);case 10:var u=a.a;return g($e,n,s,i(u,e,r));case 9:return s;case 11:var m=a.a;return g($e,n,s,m);case 12:return s;default:return s}});return g($e,n,P(Bb,O,O,O,O),t)}),Jb=function(e){return{$:9,a:e}},Hb=function(e){return U(e,{aq:W(0)})},Ub="rgb(200 200 200)",Qo=$(function(e,r){return U(r,{aI:e})}),Wb={x:"",z:0,b:ma,n:!1,c_:0,c$:"",c0:5,Q:1,aq:q,du:6},Kb=w(function(e,r,t){return ee(g(_r,e.cr.I,e.cr.A,r),r)&&ee(g(_r,e.cs.I,e.cs.A,t),t)}),di=km,Tr=Dm,Yo=Y(function(e,r,t,n){var a=Tr(e/4)+r,s=a/2,o=a;return i(Ce," ",b(["M"+(A(t-s)+(" "+A(n-o-s+r))),"v"+A(o-r),"h"+A(-o+r),"v"+A(o),"h"+A(o-r),"v"+A(o-r),"h"+A(o),"v"+A(-o+r),"h"+A(o-r),"v"+A(-o),"h"+A(-o+r),"v"+A(-o+r),"h"+A(-o),"v"+A(o-r)]))}),cc=function(e){return e*di/180},Gb=wm,Qb=Y(function(e,r,t,n){var a=Tr(e*4/Tr(3))+r*Tr(3),s=Tr(3)*a/2,o=s-Gb(cc(30))*a/2;return i(Ce," ",b(["M"+(A(t)+(" "+A(n-o))),"l"+(A(-a/2)+(" "+A(s))),"h"+A(a),"z"]))}),Yb=Ve(function(e,r,t,n,a){var s=t(a),o=i(ze,e,s),u=r(a),m=i(Be,e,u),l=b([At(n.x===""?n.b:n.x),ut(A(n.z)),Yl(A(n.Q)),Hr(n.b),ye("elm-charts__dot"),n.n?vn(e):ye("")]),v=g(Kb,e,u,s)||n.n,c=n.c$===""?n.b:n.c$,p=b([At(c),ut(A(n.c0)),ls(A(n.c_)),Hr("transparent"),ye("elm-charts__dot-highlight")]),f=w(function(E,x,d){return n.c_>0?i(er,b([ye("elm-charts__dot-container")]),b([i(E,R(d(x),p),O),i(E,R(d(0),l),O)])):i(E,R(d(0),l),O)}),_=2*di*n.du;if(v){var h=n.aq;if(h.$===1)return fa("");switch(h.a){case 0:return h.a,g(f,Xl,n.c0/2,function(E){var x=Tr(_/di);return b([Zl(A(m)),ec(A(o)),rc(A(x+E))])});case 1:return h.a,g(f,xt,n.c0,function(E){return b([Et(P(Qb,_,E,m,o))])});case 2:return h.a,g(f,da,n.c0,function(E){var x=Tr(_),d=x+E;return b([fi(A(m-d/2)),va(A(o-d/2)),It(A(d)),Dt(A(d))])});case 3:return h.a,g(f,da,n.c0,function(E){var x=Tr(_),d=x+E;return b([fi(A(m-d/2)),va(A(o-d/2)),It(A(d)),Dt(A(d)),$i("rotate(45 "+(A(m)+(" "+(A(o)+")"))))])});case 4:return h.a,g(f,xt,n.c0,function(E){return b([Et(P(Yo,_,E,m,o)),$i("rotate(45 "+(A(m)+(" "+(A(o)+")"))))])});default:return h.a,g(f,xt,n.c0,function(E){return b([Et(P(Yo,_,E,m,o))])})}}else return fa("")}),Xb=Y(function(e,r,t,n){return P(Yb,e,r,t,i(fr,n,Wb))}),Zb="#EFF2FA",eh={f:O,cF:!1,b:"rgb(210, 210, 210)",aI:O,g:!1,n:!1,Q:1,dA:-90,dB:0,cq:1,au:q,aF:q,dU:q,i:0,dV:q,bt:q,dW:q,j:0},rh=xm,Pa=De,Ta=Ie,th=Cm,nh=re("stroke-dasharray"),ah=$(function(e,r){var t=cc(r.dA),n=function(){var d=we(y(r.au,r.aF),y(r.dV,r.bt),y(r.dU,r.dW));if(d.a.a.$)if(d.a.b.$)if(d.b.a.$)if(d.b.b.$){var bo=d.a;bo.a,bo.b;var ho=d.b;return ho.a,ho.b,y(y(e.cr.I,e.cr.A),y(e.cs.I,e.cs.A))}else{var fo=d.a;fo.a,fo.b;var po=d.b;po.a;var S=po.b.a;return y(y(e.cr.I,e.cr.A),y(S,S))}else if(d.b.b.$){var vo=d.a;vo.a,vo.b;var $o=d.b,C=$o.a.a;return $o.b,y(y(e.cr.I,e.cr.A),y(C,C))}else{var co=d.a;co.a,co.b;var mo=d.b,C=mo.a.a,S=mo.b.a;return y(y(e.cr.I,e.cr.I),y(C,S))}else if(d.b.a.$===1)if(d.b.b.$===1){var Fs=d.a;Fs.a;var S=Fs.b.a,Ps=d.b;return Ps.a,Ps.b,y(y(S,S),y(e.cs.I,e.cs.A))}else if(d.c.a.$)if(d.c.b.$===1){var Js=d.a;Js.a;var C=Js.b.a,Hs=d.b;Hs.a;var S=Hs.b.a,Us=d.c;return Us.a,Us.b,y(y(C,e.cr.A),y(S,S))}else{var Ws=d.a;Ws.a;var C=Ws.b.a,Ks=d.b;Ks.a;var S=Ks.b.a,Gs=d.c;Gs.a;var M=Gs.b.a;return y(y(C,C),y(S,S+i(Ie,e,M)))}else if(d.c.b.$){var Ls=d.a;Ls.a;var C=Ls.b.a,Bs=d.b;Bs.a;var S=Bs.b.a,zs=d.c,N=zs.a.a;return zs.b,y(y(C,C+i(De,e,N)),y(S,S))}else{var Ts=d.a;Ts.a;var C=Ts.b.a,Ms=d.b;Ms.a;var S=Ms.b.a,Rs=d.c,N=Rs.a.a,M=Rs.b.a;return y(y(C,C+i(De,e,N)),y(S,S+i(Ie,e,M)))}else if(d.b.b.$)if(d.c.a.$)if(d.c.b.$===1){var ao=d.a;ao.a;var C=ao.b.a,io=d.b,S=io.a.a;io.b;var so=d.c;return so.a,so.b,y(y(C,e.cr.A),y(S,S))}else{var oo=d.a;oo.a;var C=oo.b.a,uo=d.b,S=uo.a.a;uo.b;var lo=d.c;lo.a;var M=lo.b.a;return y(y(C,C),y(S,S+i(Ie,e,M)))}else if(d.c.b.$){var ro=d.a;ro.a;var C=ro.b.a,to=d.b,S=to.a.a;to.b;var no=d.c,N=no.a.a;return no.b,y(y(C,C+i(De,e,N)),y(S,S))}else{var Xs=d.a;Xs.a;var C=Xs.b.a,Zs=d.b,S=Zs.a.a;Zs.b;var eo=d.c,N=eo.a.a,M=eo.b.a;return y(y(C,C+i(De,e,N)),y(S,S+i(Ie,e,M)))}else{var Qs=d.a;Qs.a;var me=Qs.b.a,Ys=d.b,C=Ys.a.a,S=Ys.b.a;return y(y(me,me),y(C,S))}else if(d.a.b.$)if(d.b.a.$===1)if(d.b.b.$===1){var k=d.a,C=k.a.a;k.b;var j=d.b;return j.a,j.b,y(y(C,C),y(e.cs.I,e.cs.A))}else if(d.c.a.$)if(d.c.b.$===1){var he=d.a,C=he.a.a;he.b;var We=d.b;We.a;var S=We.b.a,Ke=d.c;return Ke.a,Ke.b,y(y(C,e.cr.A),y(S,S))}else{var Oe=d.a,C=Oe.a.a;Oe.b;var ue=d.b;ue.a;var S=ue.b.a,ge=d.c;ge.a;var M=ge.b.a;return y(y(C,C),y(S,S+i(Ie,e,M)))}else if(d.c.b.$){var Z=d.a,C=Z.a.a;Z.b;var G=d.b;G.a;var S=G.b.a,z=d.c,N=z.a.a;return z.b,y(y(C,C+i(De,e,N)),y(S,S))}else{var D=d.a,C=D.a.a;D.b;var I=d.b;I.a;var S=I.b.a,J=d.c,N=J.a.a,M=J.b.a;return y(y(C,C+i(De,e,N)),y(S,S+i(Ie,e,M)))}else if(d.b.b.$)if(d.c.a.$)if(d.c.b.$===1){var js=d.a,C=js.a.a;js.b;var As=d.b,S=As.a.a;As.b;var Ds=d.c;return Ds.a,Ds.b,y(y(C,e.cr.A),y(S,S))}else{var Is=d.a,C=Is.a.a;Is.b;var Ns=d.b,S=Ns.a.a;Ns.b;var qs=d.c;qs.a;var M=qs.b.a;return y(y(C,C),y(S,S+i(Ie,e,M)))}else if(d.c.b.$){var Ss=d.a,C=Ss.a.a;Ss.b;var Os=d.b,S=Os.a.a;Os.b;var Vs=d.c,N=Vs.a.a;return Vs.b,y(y(C,C+i(De,e,N)),y(S,S))}else{var jr=d.a,C=jr.a.a;jr.b;var Xr=d.b,S=Xr.a.a;Xr.b;var In=d.c,N=In.a.a,M=In.b.a;return y(y(C,C+i(De,e,N)),y(S,S+i(Ie,e,M)))}else{var Ge=d.a,me=Ge.a.a;Ge.b;var tr=d.b,C=tr.a.a,S=tr.b.a;return y(y(me,me),y(C,S))}else if(d.b.a.$===1)if(d.b.b.$===1){var V=d.a,C=V.a.a,S=V.b.a,X=d.b;return X.a,X.b,y(y(C,S),y(e.cs.I,e.cs.I))}else{var be=d.a,C=be.a.a,S=be.b.a,ie=d.b;ie.a;var me=ie.b.a;return y(y(C,S),y(me,me))}else if(d.b.b.$===1){var Ue=d.a,C=Ue.a.a,S=Ue.b.a,Fe=d.b,me=Fe.a.a;return Fe.b,y(y(C,S),y(me,me))}else return y(y(i(oe,e.cr.I,r.au),i(oe,e.cr.A,r.aF)),y(i(oe,e.cs.I,r.dV),i(oe,e.cs.A,r.bt)))}(),a=n.a,s=a.a,o=a.b,u=n.b,m=u.a,l=u.b,v=s+i(Pa,e,r.i),c=o+i(Pa,e,r.i),p=m-i(Ta,e,r.j),f=l-i(Ta,e,r.j),_=r.dB>0?y(i(Pa,e,rh(t)*r.dB),i(Ta,e,th(t)*r.dB)):y(0,0),h=_.a,E=_.b,x=r.g?R(r.dB>0?b([i(Je,c+h,f+E),i(T,c,f)]):b([i(Je,c,f)]),R(r.cF?b([i(T,c,p),i(T,v,p)]):b([i(T,v,p)]),r.dB>0?b([i(T,v+h,p+E)]):O)):R(r.dB>0?b([i(Je,v+h,p+E),i(T,v,p)]):b([i(Je,v,p)]),R(r.cF?b([i(T,v,f),i(T,c,f)]):b([i(T,c,f)]),r.dB>0?b([i(T,c+h,f+E)]):O));return P($a,r.f,xt,b([ye("elm-charts__line"),Hr("transparent"),At(r.b),ut(A(r.cq)),ls(A(r.Q)),nh(i(Ce," ",i(ae,A,r.aI))),Et(i(Ql,e,x)),r.n?vn(e):ye("")]),O)}),Xo=$(function(e,r){return i(ah,e,i(fr,r,eh))}),ih=$(function(e,r){return U(r,{du:e})}),pi=$(function(e,r){return U(r,{cq:e})}),sh=$(function(e,r){return U(r,{au:W(e)})}),oh=$(function(e,r){return U(r,{dV:W(e)})}),uh=function(e){var r=i(fr,e,{b:"",aI:O,ax:!1,cq:0}),t=r.cq?r.cq:r.ax?.5:1,n=Mt(r.b)?r.ax?Ub:Zb:r.b,a=Y(function(u,m,l,v){return i(Kt,l,u.aG)||i(Kt,v,u.aH)?q:W(F(Xb,m,function(c){return c.cr},function(c){return c.cs},b([Ct(n),ih(t),Hb]),{cr:l,cs:v}))}),s=w(function(u,m,l){return i(Kt,l,u.aG)?q:W(i(Xo,m,b([Ct(n),pi(t),sh(l),Qo(r.aI)])))}),o=w(function(u,m,l){return i(Kt,l,u.aH)?q:W(i(Xo,m,b([Ct(n),pi(t),oh(l),Qo(r.aI)])))});return Jb($(function(u,m){return i(er,b([ye("elm-charts__grid")]),r.ax?i(Rr,function(l){return i(wr,g(a,m,u,l),m.J)},m.C):b([i(er,b([ye("elm-charts__x-grid")]),i(wr,i(s,m,u),m.C)),i(er,b([ye("elm-charts__y-grid")]),i(wr,i(o,m,u),m.J))]))}))},lh=Er(function(e,r,t,n,a,s){var o=$(function(u,m){var l=m.a,v=m.b,c=m.c;switch(u.$){case 0:return we(l,v,c);case 1:var h=u.d;return we(l,i(L,h(r),v),c);case 2:var h=u.e;return we(l,i(L,h(r),v),c);case 3:var h=u.b;return we(l,i(L,h(r),v),c);case 4:var h=u.b;return we(l,i(L,h(r),v),c);case 5:var h=u.b;return we(l,i(L,h(r),v),c);case 6:var p=u.a,h=u.c;return we(l,i(L,i(h,r,p(r)),v),c);case 7:var p=u.a,h=u.c;return we(l,i(L,i(h,r,p(r)),v),c);case 8:var p=u.a,h=u.c;return we(l,i(L,i(h,r,p(r)),v),c);case 9:var h=u.a;return we(l,i(L,i(h,r,t),v),c);case 10:var f=u.a;return g(mr,o,we(l,v,c),i(f,r,n));case 11:var _=u.a;return g(mr,o,we(l,v,c),_);case 12:var h=u.a;return we(l,i(L,h(r),v),c);default:var h=u.a;return we(Br(v)>0?i(L,i(h,r,a),l):l,v,Br(v)>0?c:i(L,i(h,r,a),c))}});return g(mr,o,we(O,O,O),s)}),ch=$(function(e,r){var t=function(){var _=$(function(h,E){var x=E.a,d=E.b;switch(h.$){case 0:var V=h.a,C=V(d),S=C.a,X=C.b;return y(R(x,b([S])),X);case 11:var be=h.a;return g($e,_,y(x,d),be);default:return y(R(x,b([h])),d)}});return g($e,_,y(O,0),r).a}(),n=function(){var _=function(h){return h.$===9};return i(Yi,_,t)?t:i(L,uh(O),t)}(),a=Lb(n),s=i(fr,e,{f:b([ac("overflow: visible;")]),a_:O,aM:O,bL:300,aN:O,af:{cE:0,c7:0,dp:0,dN:0},S:{cE:0,c7:0,dp:0,dN:0},bg:O,aS:!0,cq:300}),o=i(Mb,s,n),u=i(Rb,o,n),m=function(_){var h=_,E=h.cP,x=E;return i(gb,h.dd,x(u))},l=g(zb,o,u,n),v=lr(lh,s,o,l,u,a,n),c=v.a,p=v.b,f=v.c;return F(Pb,o,{f:s.f,aM:i(ae,m,s.aM),aN:s.aN,aS:s.aS},c,p,f)}),mh=$(function(e,r){return U(r,{a_:e})}),Zo=w(function(e,r,t){return e}),vh=$(function(e,r){return U(r,{F:W(e)})}),$h=je("h2"),fh=$(function(e,r){return U(r,{bL:e})}),dh=w(function(e,r,t){return U(t,{A:g(r,e,t.A,t.cL)})}),eu=$(function(e,r){return U(r,{af:e})}),ph=$(function(e,r){return U(r,{j:r.j+e})}),bh=function(e){if(e.$===1){var r=e.a;return W(r)}else return q},hh=$(function(e,r){return U(r,{Q:e})}),gh="resultats . bilan total",_h=function(e){return U(e,{h:!0})},yh={$:0},kh=w(function(e,r,t){return{$:7,a:e,b:r,c:t}}),ru=w(function(e,r,t){return e(r(t))}),Eh=function(e){return{$:1,a:e}},mc=Eh,xh=$(function(e,r){return e*ya(r/e)}),wn=Am,Ch=$(function(e,r){var t=e/r;return ee(t,wn(t))?e:i(xh,r,e)}),vc=function(e){return i(He,ui(e),i(He,kl,oe(0)))},wa=$(function(e,r){return g(mr,$(function(t,n){return e(t)?i(L,t,n):n}),O,r)}),wh=w(function(e,r,t){var n=b(t?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10]);return r?n:e===1?i(wa,function(a){return ee(wn(a),a)},n):e<=.1?b([1/e]):n}),bi=function(e){var r=i(Lr,"e",A(e));if(r.b&&r.b.b&&!r.b.b.b){r.a;var t=r.b,n=t.a;return Jr(i(oe,0,Ki(n)))}else{var a=i(Lr,".",A(e));if(a.b&&a.b.b&&!a.b.b.b){a.a;var s=a.b,n=s.a;return Pe(n)}else return 0}},tu=Em,Sh=_m,Oh=function(e){return i(Sh,10,hn(i(ia,tu,e)/i(ia,tu,10)))},Vh=w(function(e,r,t){var n=Oh(e),a=g(wh,n,r,t),s=e/n,o=function(v){e:for(;;)if(v.b){var c=v.a,p=v.b;if(ne(c*n,e)>-1)return c;var f=p;v=f;continue e}else return 1},u=function(v){e:for(;;)if(v.b)if(v.b.b){var c=v.a,p=v.b,f=p.a,_=p.b;if(ne(s,(c+f)/2)<1)return c;var h=i(L,f,_);v=h;continue e}else{var c=v.a,_=v.b;if(ne(s,c)<1)return c;var h=_;v=h;continue e}else return 1},m=t?o(a):u(a),l=bi(n)+bi(m);return i(vc,l,m*n)}),jh=Ve(function(e,r,t,n,a){e:for(;;){var s=i(vc,bi(t),r+n*t);if(ne(s,e.A)>0)return a;var o=e,u=r,m=t,l=n+1,v=R(a,b([s]));e=o,r=u,t=m,n=l,a=v;continue e}}),pa=Y(function(e,r,t,n){var a=(n.A-n.I)/t,s=g(Vh,a,e,r),o=s||1,u=i(Ch,n.I,o);return F(jh,n,u,o,0,O)}),Ah=function(e){if(e.$){var r=e.a;return g(pa,!0,!1,r)}else{var r=e.a;return g(pa,!0,!0,r)}},Dh=$(function(e,r){return i(Ah,mc(e),{A:r.A,I:r.I})}),Ih=Dh,Nh=Er(function(e,r,t,n,a,s){return{dD:a,dH:r,dI:e,as:s,dL:n,dM:t}}),qh=function(e){return e>11?"pm":"am"},nu=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";default:return"December"}},ke=ym,Fh=function(e){var r=i(ke,100,e);switch(r){case 11:return"th";case 12:return"th";case 13:return"th";default:var t=i(ke,10,e);switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},au=function(e){switch(e){case 0:return"Monday";case 1:return"Tuesday";case 2:return"Wednesday";case 3:return"Thursday";case 4:return"Friday";case 5:return"Saturday";default:return"Sunday"}},Ph=lr(Nh,nu,i(He,nu,St(3)),au,i(He,au,St(3)),qh,Fh),Sn=$(function(e,r){return hn(e/r)}),ft=function(e){var r=e;return r},Th=w(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b;if(ne(n.bq,r)<0)return r+n.c;var s=e,o=r,u=a;e=s,r=o,t=u;continue e}else return r+e}),Lt=$(function(e,r){var t=e.a,n=e.b;return g(Th,t,i(Sn,ft(r),6e4),n)}),Xe=$(function(e,r){return i(ke,24,i(Sn,i(Lt,e,r),60))}),iu=w(function(e,r,t){return e.dD(i(Xe,r,t))}),ms=function(e){var r=i(Sn,e,1440)+719468,t=(r>=0?r:r-146096)/146097|0,n=r-t*146097,a=(n-(n/1460|0)+(n/36524|0)-(n/146096|0))/365|0,s=n-(365*a+(a/4|0)-(a/100|0)),o=(5*s+2)/153|0,u=o+(o<10?3:-9),m=a+t*400;return{bB:s-((153*o+2)/5|0)+1,bY:u,ct:m+(u<=2?1:0)}},vs=$(function(e,r){return ms(i(Lt,e,r)).bB}),Kn=vs,Mh=b([6,0,1,2,3,4,5]),hi=$(function(e,r){var t=i(ke,7,i(Sn,i(Lt,e,r),1440));switch(t){case 0:return 3;case 1:return 4;case 2:return 5;case 3:return 6;case 4:return 0;case 5:return 1;default:return 2}}),gi=$(function(e,r){return function(t){var n=t.a;return n}(i(oe,y(0,6),Ot(i(wa,function(t){var n=t.b;return ee(n,i(hi,e,r))},i(gr,$(function(t,n){return y(t,n)}),Mh)))))}),Rh=function(e){return i(ke,4,e)?!1:i(ke,100,e)?!0:!i(ke,400,e)},Lh=$(function(e,r){switch(r){case 0:return 31;case 1:return Rh(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),$c=b([0,1,2,3,4,5,6,7,8,9,10,11]),$n=$(function(e,r){var t=ms(i(Lt,e,r)).bY;switch(t){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}}),Bh=$(function(e,r){return i(oe,y(0,0),Ot(i(wa,function(t){t.a;var n=t.b;return ee(n,i($n,e,r))},i(gr,$(function(t,n){return y(t,n)}),$c))))}),tn=$(function(e,r){return 1+function(t){var n=t.a;return t.b,n}(i(Bh,e,r))}),zh=function(e){return g($e,g$,0,e)},Jh=w(function(e,r,t){e:for(;;){if(e<=0)return t;if(r.b){var n=r.a,a=r.b,s=e-1,o=a,u=i(L,n,t);e=s,r=o,t=u;continue e}else return t}}),Hh=$(function(e,r){return Me(g(Jh,e,r,O))}),fc=w(function(e,r,t){if(r<=0)return O;var n=y(r,t);e:for(;;){r:for(;;)if(n.b.b)if(n.b.b.b)switch(n.a){case 1:break e;case 2:var a=n.b,d=a.a,s=a.b,o=s.a;return b([d,o]);case 3:if(n.b.b.b.b){var u=n.b,d=u.a,m=u.b,o=m.a,l=m.b,v=l.a;return b([d,o,v])}else break r;default:if(n.b.b.b.b&&n.b.b.b.b.b){var c=n.b,d=c.a,p=c.b,o=p.a,f=p.b,v=f.a,_=f.b,h=_.a,E=_.b;return e>1e3?i(L,d,i(L,o,i(L,v,i(L,h,i(Hh,r-4,E))))):i(L,d,i(L,o,i(L,v,i(L,h,g(fc,e+1,r-4,E)))))}else break r}else{if(n.a===1)break e;break r}else return t;return t}var x=n.b,d=x.a;return b([d])}),Uh=$(function(e,r){return g(fc,0,e,r)}),On=$(function(e,r){return ms(i(Lt,e,r)).ct}),Gn=$(function(e,r){var t=i(Uh,i(tn,e,r)-1,$c),n=zh(i(ae,Lh(i(On,e,r)),t));return n+i(Kn,e,r)}),su=$(function(e,r){return i(tn,e,r)/4|0}),dr=$(function(e,r){var t=se(r),n=e-Pe(t),a=i(Ce,"",i(ae,function(s){return"0"},i(Ui,1,n)));return R(a,t)}),Wh=Jm,ba=$(function(e,r){return i(ke,1e3,ft(r))}),Nt=$(function(e,r){return i(ke,60,i(Lt,e,r))}),ou=function(e){return e?e<=12?e:e-12:12},fn=$(function(e,r){return i(ke,60,i(Sn,ft(r),1e3))}),wt=kr,Kh=wn(1e3*60*60*24*365.25),Gh=$(function(e,r){return wt(Kh*i(On,e,r))}),Ma=$(function(e,r){var t=i(Gh,e,r),n=i(gi,e,t),a=i(Gn,e,r);return((a+n)/7|0)+1}),uu=$(function(e,r){return se(i(On,e,r))}),Qh=Y(function(e,r,t,n){switch(n.$){case 0:return se(i(tn,r,t));case 1:return function(s){return R(se(s),e.as(s))}(i(tn,r,t));case 2:return i(dr,2,i(tn,r,t));case 3:return e.dH(i($n,r,t));case 4:return e.dI(i($n,r,t));case 17:return se(1+i(su,r,t));case 18:return function(s){return R(se(s),e.as(s))}(1+i(su,r,t));case 5:return se(i(Kn,r,t));case 6:return function(s){return R(se(s),e.as(s))}(i(Kn,r,t));case 7:return i(dr,2,i(Kn,r,t));case 8:return se(i(Gn,r,t));case 9:return function(s){return R(se(s),e.as(s))}(i(Gn,r,t));case 10:return i(dr,3,i(Gn,r,t));case 11:return se(i(gi,r,t));case 12:return function(s){return R(se(s),e.as(s))}(i(gi,r,t));case 13:return e.dL(i(hi,r,t));case 14:return e.dM(i(hi,r,t));case 19:return se(i(Ma,r,t));case 20:return function(s){return R(se(s),e.as(s))}(i(Ma,r,t));case 21:return i(dr,2,i(Ma,r,t));case 15:return i(cn,2,i(uu,r,t));case 16:return i(uu,r,t);case 22:return rs(g(iu,e,r,t));case 23:return Wh(g(iu,e,r,t));case 24:return se(i(Xe,r,t));case 25:return i(dr,2,i(Xe,r,t));case 26:return se(ou(i(Xe,r,t)));case 27:return i(dr,2,ou(i(Xe,r,t)));case 28:return se(1+i(Xe,r,t));case 29:return i(dr,2,1+i(Xe,r,t));case 30:return se(i(Nt,r,t));case 31:return i(dr,2,i(Nt,r,t));case 32:return se(i(fn,r,t));case 33:return i(dr,2,i(fn,r,t));case 34:return se(i(ba,r,t));case 35:return i(dr,3,i(ba,r,t));default:var a=n.a;return a}}),Yh=Y(function(e,r,t,n){return i(Ce,"",i(ae,g(Qh,e,t,n),r))}),dt=Yh(Ph),Xh={$:25},$s=Xh,Zh={$:31},fs=Zh,e0=function(e){return{$:36,a:e}},tt=e0,lu=dt(b([$s,tt(":"),fs])),r0={$:35},t0=r0,n0={$:33},dc=n0,a0=dt(b([$s,tt(":"),fs,tt(":"),dc,tt(":"),t0])),i0=dt(b([$s,tt(":"),fs,tt(":"),dc])),s0={$:5},o0=s0,u0={$:0},l0=u0,c0=dt(b([l0,tt("/"),o0])),m0={$:3},v0=m0,$0=dt(b([v0])),f0={$:14},d0=f0,p0=dt(b([d0])),b0={$:16},h0=b0,g0=dt(b([h0])),_0=$(function(e,r){var t=i(oe,r.dO,r.cH);switch(t){case 0:return i(a0,e,r.dC);case 1:return i(i0,e,r.dC);case 2:return i(lu,e,r.dC);case 3:return i(lu,e,r.dC);case 4:return r.dc===7?i(p0,e,r.dC):i(c0,e,r.dC);case 5:return i($0,e,r.dC);default:return i(g0,e,r.dC)}}),y0=_0,k0=w(function(e,r,t){var n=r;return i(n,e,t)}),Ra=k0,E0=$(function(e,r){return i(ae,wn,function(){if(e.$){var t=e.a;return P(pa,!1,!1,t,r)}else{var t=e.a;return P(pa,!1,!0,t,r)}}())}),x0=$(function(e,r){return i(E0,mc(e),{A:r.A,I:r.I})}),C0=x0,pc=function(e){return!i(ke,4,e)&&!!i(ke,100,e)||!i(ke,400,e)},ds=$(function(e,r){var t=pc(e)?1:0;switch(r){case 0:return 0;case 1:return 31;case 2:return 59+t;case 3:return 90+t;case 4:return 120+t;case 5:return 151+t;case 6:return 181+t;case 7:return 212+t;case 8:return 243+t;case 9:return 273+t;case 10:return 304+t;default:return 334+t}}),nn=$(function(e,r){return hn(e/r)}),Vn=function(e){var r=e-1,t=i(nn,r,4)-i(nn,r,100)+i(nn,r,400);return 365*r+t},ps=$(function(e,r){switch(r){case 0:return 31;case 1:return pc(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),bs=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}},hs=function(e){var r=i(qe,1,e);switch(r){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}},w0=w(function(e,r,t){e:for(;;){var n=i(ps,e,r),a=bs(r);if(a<12&&ne(t,n)>0){var s=e,o=hs(a+1),u=t-n;e=s,r=o,t=u;continue e}else return{bB:t,bY:r,ct:e}}}),Tn=$(function(e,r){return y(i(nn,e,r),i(ke,r,e))}),Qn=function(e){var r=e,t=i(Tn,r,146097),n=t.a,a=t.b,s=i(Tn,a,36524),o=s.a,u=s.b,m=i(Tn,u,1461),l=m.a,v=m.b,c=i(Tn,v,365),p=c.a,f=c.b,_=f?1:0;return n*400+o*100+l*4+p+_},S0=function(e){var r=e,t=Qn(r);return{be:r-Vn(t),ct:t}},bc=function(e){var r=e,t=S0(r);return g(w0,t.ct,0,t.be)},_i=w(function(e,r,t){var n=t;switch(e){case 0:return g(_i,1,12*r,n);case 1:var a=bc(n),s=12*(a.ct-1)+(bs(a.bY)-1)+r,o=hs(i(ke,12,s)+1),u=i(nn,s,12)+1;return Vn(u)+i(ds,u,o)+i(Ur,a.bB,i(ps,u,o));case 2:return n+7*r;default:return n+r}}),hc=w(function(e,r,t){return Vn(e)+i(ds,e,r)+g(_r,1,i(ps,e,r),t)}),nt=$(function(e,r){return g(hc,i(On,e,r),i($n,e,r),i(vs,e,r))}),O0=function(e){var r=e;return r},gc=function(e){var r=O0(e)-719163;return r*864e5},an=Y(function(e,r,t,n){return e*36e5+r*6e4+t*1e3+n}),yi=$(function(e,r){return P(an,i(Xe,e,r),i(Nt,e,r),i(fn,e,r),i(ba,e,r))}),La=$(function(e,r){var t=ft(r),n=gc(i(nt,e,r))+i(yi,e,r);return(n-t)/6e4|0}),at=w(function(e,r,t){var n=gc(r)+t,a=i(La,e,wt(n)),s=wt(n-a*6e4),o=i(La,e,s);if(ee(a,o))return s;var u=wt(n-o*6e4),m=i(La,e,u);return ee(o,m)?u:s}),lt=Y(function(e,r,t,n){e:for(;;)switch(e){case 15:return wt(ft(n)+r);case 14:var a=15,s=r*1e3,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 13:var a=15,s=r*6e4,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 12:var a=15,s=r*36e5,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 11:return g(at,t,g(_i,3,r,i(nt,t,n)),i(yi,t,n));case 2:return g(at,t,g(_i,1,r,i(nt,t,n)),i(yi,t,n));case 0:var a=2,s=r*12,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 1:var a=2,s=r*3,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 3:var a=11,s=r*7,o=t,u=n;e=a,r=s,t=o,n=u;continue e;default:var a=11,s=r*7,o=t,u=n;e=a,r=s,t=o,n=u;continue e}}),V0=function(e){var r=e,t=i(ke,7,r);if(t){var n=t;return n}else return 7},j0=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;default:return 7}},Ar=$(function(e,r){return i(ke,7,V0(r)+7-j0(e))}),cu=$(function(e,r){return Vn(e)+i(ds,e,r)+1}),A0=function(e){return Vn(e)+1},_c=i(He,bc,function(e){return e.bY}),D0=function(e){return(bs(e)+2)/3|0},I0=i(He,_c,D0),N0=function(e){return hs(e*3-2)},q0=$(function(e,r){var t=r;switch(e){case 0:return A0(Qn(r));case 1:return i(cu,Qn(r),N0(I0(r)));case 2:return i(cu,Qn(r),_c(r));case 3:return t-i(Ar,0,r);case 4:return t-i(Ar,0,r);case 5:return t-i(Ar,1,r);case 6:return t-i(Ar,2,r);case 7:return t-i(Ar,3,r);case 8:return t-i(Ar,4,r);case 9:return t-i(Ar,5,r);case 10:return t-i(Ar,6,r);default:return r}}),Qe=w(function(e,r,t){return g(at,r,i(q0,e,i(nt,r,t)),0)}),F0=w(function(e,r,t){switch(e){case 15:return t;case 14:return g(at,r,i(nt,r,t),P(an,i(Xe,r,t),i(Nt,r,t),i(fn,r,t),0));case 13:return g(at,r,i(nt,r,t),P(an,i(Xe,r,t),i(Nt,r,t),0,0));case 12:return g(at,r,i(nt,r,t),P(an,i(Xe,r,t),0,0,0));case 11:return g(Qe,11,r,t);case 2:return g(Qe,2,r,t);case 0:return g(Qe,0,r,t);case 1:return g(Qe,1,r,t);case 3:return g(Qe,3,r,t);case 4:return g(Qe,4,r,t);case 5:return g(Qe,5,r,t);case 6:return g(Qe,6,r,t);case 7:return g(Qe,7,r,t);case 8:return g(Qe,8,r,t);case 9:return g(Qe,9,r,t);default:return g(Qe,10,r,t)}}),ct=w(function(e,r,t){var n=g(F0,e,r,t);return ee(n,t)?t:P(lt,e,1,r,n)}),P0=w(function(e,r,t){return r===7?g(ct,3,e,t):g(ct,11,e,t)}),Bt=$(function(e,r){var t=r.ct,n=r.bY,a=r.bB,s=r.a$,o=r.a9,u=r.bi,m=r.a8;return g(at,e,g(hc,t,n,a),P(an,g(_r,0,23,s),g(_r,0,59,o),g(_r,0,59,u),g(_r,0,999,m)))}),Ze=$(function(e,r){return{bB:i(vs,e,r),a$:i(Xe,e,r),a8:i(ba,e,r),a9:i(Nt,e,r),bY:i($n,e,r),bi:i(fn,e,r),ct:i(On,e,r)}}),T0=w(function(e,r,t){var n=i(Ze,e,g(ct,12,e,t)),a=n.a$%r,s=i(Bt,e,n);return a?P(lt,12,r-a,e,s):s}),M0=w(function(e,r,t){var n=i(Ze,e,g(ct,13,e,t)),a=n.a9%r,s=i(Bt,e,n);return a?P(lt,13,r-a,e,s):s}),mu=function(e){switch(e){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;case 12:return 11;default:return 11}},Yn=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}},R0=w(function(e,r,t){var n=i(Ze,e,g(ct,2,e,t)),a=Yn(n.bY),s=(a-1)%r,o=s?a-s+r:a;return i(Bt,e,o>12?U(n,{bY:mu(o-12),ct:n.ct+1}):U(n,{bY:mu(o)}))}),L0=w(function(e,r,t){var n=i(Ze,e,t),a=n.a8%r;return a?P(lt,15,r-a,e,t):i(Bt,e,n)}),B0=w(function(e,r,t){var n=i(Ze,e,g(ct,14,e,t)),a=n.bi%r,s=i(Bt,e,n);return a?P(lt,14,r-a,e,s):s}),z0=w(function(e,r,t){var n=i(Ze,e,g(ct,0,e,t)),a=n.ct%r,s=a?n.ct-a+r:n.ct;return i(Bt,e,U(n,{ct:s}))}),ki=w(function(e,r,t){switch(r){case 0:return i(L0,e,t);case 1:return i(B0,e,t);case 2:return i(M0,e,t);case 3:return i(T0,e,t);case 4:return i(P0,e,t);case 5:return i(R0,e,t);default:return i(z0,e,t)}}),J0=w(function(e,r,t){var n=i(Ze,e,t),a=i(Ze,e,r);return ee(a.ct,n.ct)?ee(a.bY,n.bY)?ee(a.bB,n.bB)?ee(a.a$,n.a$)?ee(a.a9,n.a9)?ee(a.bi,n.bi)?0:1:2:3:4:5:6}),H0=function(e){return!i(ke,400,e)||!!i(ke,100,e)&&!i(ke,4,e)},U0=$(function(e,r){switch(r){case 0:return 31;case 1:return H0(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),W0=U0,Ir=ft,K0=w(function(e,r,t){var n=ne(Ir(r),Ir(t))<0?y(i(Ze,e,r),i(Ze,e,t)):y(i(Ze,e,t),i(Ze,e,r)),a=n.a,s=n.b,o=s.a8-a.a8,u=o<0?1e3+o:o,m=s.bi-a.bi+(o<0?-1:0),l=s.a9-a.a9+(m<0?-1:0),v=s.a$-a.a$+(l<0?-1:0),c=s.bB-a.bB+(v<0?-1:0),p=c<0?i(W0,s.ct,s.bY)+c:c,f=Yn(s.bY)-Yn(a.bY)+(c<0?-1:0),_=f<0?12+f:f,h=v<0?24+v:v,E=l<0?60+l:l,x=m<0?60+m:m,d=s.ct-a.ct+(f<0?-1:0),V=d<0?Yn(s.bY)+d:d;return{bB:p,a$:h,a8:u,a9:E,bY:_,bi:x,ct:V}}),yc=1e3,kc=yc*60,Ec=kc*60,G0=Ec*24,Q0=1,xc=Ve(function(e,r,t,n,a){var s=$(function(m,l){return hn(m/l)}),o=function(m){var l=P(ki,e,r,t,n);return ne(Ir(l),Ir(a))>0?-1:i(s,i(s,Ir(a)-Ir(l),m),t)},u=function(m){var l=P(ki,e,r,t,n);return ne(Ir(l),Ir(a))>0?-1:i(s,m(g(K0,e,l,a)),t)};switch(r){case 0:return o(Q0)+1;case 1:return o(yc)+1;case 2:return o(kc)+1;case 3:return o(Ec)+1;case 4:return o(G0)+1;case 5:return u(function(m){return m.bY+m.ct*12})+1;default:return u(function(m){return m.ct})+1}}),Y0=function(e){switch(e){case 0:return W(1);case 1:return W(2);case 2:return W(3);case 3:return W(4);case 4:return W(5);case 5:return W(6);default:return q}},X0=function(e){switch(e){case 0:return b([1,2,5,10,20,25,50,100,200,500]);case 1:return b([1,2,5,10,15,30]);case 2:return b([1,2,5,10,15,30]);case 3:return b([1,2,3,4,6,8,12]);case 4:return b([1,2,3,7,14]);case 5:return b([1,2,3,4,6]);default:return b([1,2,5,10,20,25,50,100,200,500,1e3,1e4,1e6,1e7])}},Z0=Y(function(e,r,t,n){var a=function(s){e:for(;;){var o=X0(s),u=i(wa,function(f){return ne(F(xc,e,s,f,t,n),r)<1},o);$(function(f,_){return ya(f/_)});var m=Ot(u);if(m.$){var v=Y0(s);if(v.$)return y(6,1e8);var c=v.a,p=c;s=p;continue e}else{var l=m.a;return y(s,l)}}};return a(0)}),eg=function(e){switch(e){case 0:return 15;case 1:return 14;case 2:return 13;case 3:return 12;case 4:return 11;case 5:return 2;default:return 0}},vu=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return 6}},rg=Y(function(e,r,t,n){var a=P(Z0,e,r,t,n),s=a.a,o=a.b,u=F(xc,e,s,o,t,n),m=P(ki,e,s,o,t),l=eg(s),v=w(function(p,f,_){return{cH:ne(vu(_),vu(s))>0?W(_):q,a6:!p,dc:o,dC:f,dO:s,bu:e}}),c=$(function(p,f){e:for(;;)if(p.b){var _=p.a,h=p.b,E=P(lt,l,(_-1)*o,e,m),x=P(lt,l,_*o,e,m),d=g(J0,e,E,x),V=h,C=i(L,g(v,_,x,d),f);p=V,f=C;continue e}else return f});return Me(i(c,i(Ui,0,u-1),O))}),tg=w(function(e,r,t){var n=function(o){switch(o){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return 6}},a=function(o){return{cH:i(zr,n,o.cH),a6:o.a6,dc:o.dc,dC:o.dC,dO:n(o.dO),bu:o.bu}},s=function(o){return wt(wn(o))};return i(ae,a,P(rg,e,r,s(t.I),s(t.A)))}),ng=function(e){return $(function(r,t){return g(tg,e,r,{A:t.A,I:t.I})})},ag=ng,ig=Y(function(e,r,t,n){var a=$(function(o,u){return ae(function(m){return{aO:function(){if(t.$)return u(m);var l=t.a;return l(o(m))}(),W:o(m)}})});switch(r.$){case 0:return g(a,kr,A,g(Ra,e,Ih,n));case 1:return g(a,Oo,se,g(Ra,e,C0,n));default:var s=r.a;return g(a,i(ru,i(ru,Oo,ft),function(o){return o.dC}),y0(s),g(Ra,e,ag(s),n))}}),sg=function(e){return g(_r,e.I,e.A,0)},og=function(e){var r=$(function(a,s){return P(ig,s.K,s.N,s.F,g($e,$(function(o,u){return o(u)}),a.cs,s.w))}),t=w(function(a,s,o){return s.h?U(o,{J:R(o.J,i(ae,function(u){return u.W},i(r,a,s)))}):o}),n=function(a){return i(fr,e,{K:5,k:q,f:O,b:"#808BAB",l:q,g:!1,m:q,F:q,N:yh,h:!1,n:!1,w:O,p:sg,q:0,s:!1,i:-10,j:3})};return g(kh,n,t,$(function(a,s){var o=Le,u=function(m){return P(ic,a,U(o,{k:function(){var l=s.k;if(l.$===1)return W(s.g?1:0);var v=l.a;return W(v)}(),f:s.f,b:s.b,l:s.l,m:s.m,n:s.n,q:s.q,s:s.s,i:s.g?-s.i:s.i,j:s.j}),b([fa(m.aO)]),{cr:s.p(a.cr),cs:m.W})};return i(er,b([ye("elm-charts__y-labels")]),i(ae,u,i(r,a,s)))}))},ug=function(e){var r=i(oe,0,i(ai,function(n){var a=n.ag;return bh(a)},i($r,gh,e.M))),t=i(wr,function(n){return i(ai,function(a){var s=a.ag;if(s.$===1){var o=s.a;return W({by:n,ag:o/r*100})}else return q},i($r,n,e.M))},e.aw);return i(ce,b([H("hidden lg:block bg-neutral border border-base-200 rounded-md mt-8")]),b([i($h,b([H("bg-base-100 p-4 border-b border-base-200")]),b([xe("DÃTAILS")])),i(ce,b([H("p-4")]),b([i(ch,b([pi(800),fh(800),eu({cE:40,c7:40,dp:40,dN:40}),mh(b([i(lc,0,Zo),i(dh,100,Zo)]))]),b([og(b([_h,vh(function(n){return A(n)+" %"})])),i(bb,function(n){return n.by},b([ph(30)])),g(Gp,b([is(.25),eu(.25)]),b([i(Bd,function(n){return n.ag},b([Ct(hb),hh(.8)]))]),t)]))]))]))},lg=je("header"),cg=$t("target"),mg=i(lg,O,b([i(ce,b([H("flex items-center justify-between w-full py-2 px-8 mb-4 border-b border-base-200 bg-neutral")]),b([i(ce,b([H("flex items-center")]),b([i(ce,b([H("text-3xl font-bold text-primary m-2")]),b([xe("EkoFest")])),i(jt,b([H("badge badge-secondary badge-outline italic")]),b([xe("beta")]))])),i(Nl,b([H("hover:text-primary cursor-pointer"),ql("https://ekofest.github.io/publicodes-evenements"),cg("_blank")]),b([xe("Consulter le modÃ¨le de calcul â§")]))]))])),vg=$(function(e,r){var t=i($r,r,e);if(t.$)return r;var n=t.a;return i(oe,r,n.cl)}),$g="resultats",fg=function(e){if(e.$)return xe("");var r=e.a.ag;return xe(Dl(r))},dg=function(e){var r=i(wr,function(t){var n=t.a,a=t.b,s=ml(n);if(s.b&&s.b.b&&!s.b.b.b){var o=s.a;return s.b,ee(o,$g)?W(y(n,a)):q}else return q},st(e.T));return i(ce,b([H("stats stats-vertical border w-full rounded-md bg-neutral")]),i(ae,function(t){var n=t.a,a=t.b;return i(ce,b([H("stat")]),b([i(ce,b([H("stat-title")]),b([xe(i(vg,e.T,n))])),i(ce,b([H("stat-value text-primary")]),b([fg(i($r,n,e.M))])),i(ce,b([H("stat-desc text-primary")]),b([Il(a)]))]))},r))},pg=function(e){return i(ce,O,b([mg,Po(e.T)||Po(e.M)?i(ce,b([H("flex w-full justify-center")]),b([Bo(e.an),i(ce,b([H("loading loading-lg text-primary")]),O)])):i(ce,b([H("flex flex-col-reverse lg:grid lg:grid-cols-3")]),b([i(ce,b([H("p-4 lg:pl-8 lg:pr-4 lg:col-span-2")]),b([i(Wf,b([H("flex flex-wrap bg-neutral rounded-t-lg border-t border-x border-base-200 p-2 sticky top-0")]),Fd(e.aw)),i(Fn,Nd,e)])),i(Fn,Bo,e.an),i(ce,b([H("flex flex-col p-4 lg:pl-4 lg:col-span-1 lg:pr-8 ")]),b([i(Fn,dg,e),i(Fn,ug,e)]))]))]))},bg=K$({c3:Sf,dy:qf,dP:Hf,dR:pg});const hg={Main:{init:bg(un)(0)}};var gg=Object.create,gs=Object.defineProperty,_g=Object.getOwnPropertyDescriptor,Cc=Object.getOwnPropertyNames,yg=Object.getPrototypeOf,kg=Object.prototype.hasOwnProperty,wc=(e,r)=>function(){return r||(0,e[Cc(e)[0]])((r={exports:{}}).exports,r),r.exports},Eg=(e,r)=>{for(var t in r)gs(e,t,{get:r[t],enumerable:!0})},xg=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Cc(r))!kg.call(e,a)&&a!==t&&gs(e,a,{get:()=>r[a],enumerable:!(n=_g(r,a))||n.enumerable});return e},Sc=(e,r,t)=>(t=e!=null?gg(yg(e)):{},xg(r||!e||!e.__esModule?gs(t,"default",{value:e,enumerable:!0}):t,e)),Cg=wc({"../../node_modules/nearley/lib/nearley.js"(e,r){(function(t,n){typeof r=="object"&&r.exports?r.exports=n():t.nearley=n()})(e,function(){function t(v,c,p){return this.id=++t.highestId,this.name=v,this.symbols=c,this.postprocess=p,this}t.highestId=0,t.prototype.toString=function(v){var c=typeof v>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,v).map(l).join(" ")+" â "+this.symbols.slice(v).map(l).join(" ");return this.name+" â "+c};function n(v,c,p,f){this.rule=v,this.dot=c,this.reference=p,this.data=[],this.wantedBy=f,this.isComplete=this.dot===v.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(v){var c=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=v,c.isComplete&&(c.data=c.build(),c.right=void 0),c},n.prototype.build=function(){var v=[],c=this;do v.push(c.right.data),c=c.left;while(c.left);return v.reverse(),v},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,u.fail))};function a(v,c){this.grammar=v,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}a.prototype.process=function(v){for(var c=this.states,p=this.wants,f=this.completed,_=0;_<c.length;_++){var h=c[_];if(h.isComplete){if(h.finish(),h.data!==u.fail){for(var E=h.wantedBy,x=E.length;x--;){var d=E[x];this.complete(d,h)}if(h.reference===this.index){var V=h.rule.name;(this.completed[V]=this.completed[V]||[]).push(h)}}}else{var V=h.rule.symbols[h.dot];if(typeof V!="string"){this.scannable.push(h);continue}if(p[V]){if(p[V].push(h),f.hasOwnProperty(V))for(var C=f[V],x=0;x<C.length;x++){var S=C[x];this.complete(h,S)}}else p[V]=[h],this.predict(V)}}},a.prototype.predict=function(v){for(var c=this.grammar.byName[v]||[],p=0;p<c.length;p++){var f=c[p],_=this.wants[v],h=new n(f,0,this.index,_);this.states.push(h)}},a.prototype.complete=function(v,c){var p=v.nextState(c);this.states.push(p)};function s(v,c){this.rules=v,this.start=c||this.rules[0].name;var p=this.byName={};this.rules.forEach(function(f){p.hasOwnProperty(f.name)||(p[f.name]=[]),p[f.name].push(f)})}s.fromCompiled=function(f,c){var p=f.Lexer;f.ParserStart&&(c=f.ParserStart,f=f.ParserRules);var f=f.map(function(h){return new t(h.name,h.symbols,h.postprocess)}),_=new s(f,c);return _.lexer=p,_};function o(){this.reset("")}o.prototype.reset=function(v,c){this.buffer=v,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var v=this.buffer[this.index++];return v===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:v}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(v,c){var p=this.buffer;if(typeof p=="string"){var f=p.split(`
`).slice(Math.max(0,this.line-5),this.line),_=p.indexOf(`
`,this.index);_===-1&&(_=p.length);var h=this.index-this.lastLineBreak,E=String(this.line).length;return c+=" at line "+this.line+" col "+h+`:

`,c+=f.map(function(d,V){return x(this.line-f.length+V+1,E)+" "+d},this).join(`
`),c+=`
`+x("",E+h)+`^
`,c}else return c+" at index "+(this.index-1);function x(d,V){var C=String(d);return Array(V-C.length+1).join(" ")+C}};function u(v,c,p){if(v instanceof s)var f=v,p=c;else var f=s.fromCompiled(v,c);this.grammar=f,this.options={keepHistory:!1,lexer:f.lexer||new o};for(var _ in p||{})this.options[_]=p[_];this.lexer=this.options.lexer,this.lexerState=void 0;var h=new a(f,0);this.table=[h],h.wants[f.start]=[],h.predict(f.start),h.process(),this.current=0}u.fail={},u.prototype.feed=function(v){var c=this.lexer;c.reset(v,this.lexerState);for(var p;;){try{if(p=c.next(),!p)break}catch(ie){var E=new a(this.grammar,this.current+1);this.table.push(E);var f=new Error(this.reportLexerError(ie));throw f.offset=this.current,f.token=ie.token,f}var _=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var h=this.current+1,E=new a(this.grammar,h);this.table.push(E);for(var x=p.text!==void 0?p.text:p.value,d=c.constructor===o?p.value:p,V=_.scannable,C=V.length;C--;){var S=V[C],X=S.rule.symbols[S.dot];if(X.test?X.test(d):X.type?X.type===p.type:X.literal===x){var be=S.nextState({data:d,token:p,isToken:!0,reference:h-1});E.states.push(be)}}if(E.process(),E.states.length===0){var f=new Error(this.reportError(p));throw f.offset=this.current,f.token=p,f}this.options.keepHistory&&(_.lexerState=c.save()),this.current++}return _&&(this.lexerState=c.save()),this.results=this.finish(),this},u.prototype.reportLexerError=function(v){var c,p,f=v.token;return f?(c="input "+JSON.stringify(f.text[0])+" (lexer error)",p=this.lexer.formatError(f,"Syntax error")):(c="input (lexer error)",p=v.message),this.reportErrorCommon(p,c)},u.prototype.reportError=function(v){var c=(v.type?v.type+" token: ":"")+JSON.stringify(v.value!==void 0?v.value:v),p=this.lexer.formatError(v,"Syntax error");return this.reportErrorCommon(p,c)},u.prototype.reportErrorCommon=function(v,c){var p=[];p.push(v);var f=this.table.length-2,_=this.table[f],h=_.states.filter(function(x){var d=x.rule.symbols[x.dot];return d&&typeof d!="string"});if(h.length===0)p.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(_.states,p);else{p.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var E=h.map(function(x){return this.buildFirstStateStack(x,[])||[x]},this);E.forEach(function(x){var d=x[0],V=d.rule.symbols[d.dot],C=this.getSymbolDisplay(V);p.push("A "+C+" based on:"),this.displayStateStack(x,p)},this)}return p.push(""),p.join(`
`)},u.prototype.displayStateStack=function(v,c){for(var p,f=0,_=0;_<v.length;_++){var h=v[_],E=h.rule.toString(h.dot);E===p?f++:(f>0&&c.push("    ^ "+f+" more lines identical to this"),f=0,c.push("    "+E)),p=E}},u.prototype.getSymbolDisplay=function(v){return m(v)},u.prototype.buildFirstStateStack=function(v,c){if(c.indexOf(v)!==-1)return null;if(v.wantedBy.length===0)return[v];var p=v.wantedBy[0],f=[v].concat(c),_=this.buildFirstStateStack(p,f);return _===null?null:[v].concat(_)},u.prototype.save=function(){var v=this.table[this.current];return v.lexerState=this.lexerState,v},u.prototype.restore=function(v){var c=v.index;this.current=c,this.table[c]=v,this.table.splice(c+1),this.lexerState=v.lexerState,this.results=this.finish()},u.prototype.rewind=function(v){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[v])},u.prototype.finish=function(){var v=[],c=this.grammar.start,p=this.table[this.table.length-1];return p.states.forEach(function(f){f.rule.name===c&&f.dot===f.rule.symbols.length&&f.reference===0&&f.data!==u.fail&&v.push(f)}),v.map(function(f){return f.data})};function m(v){var c=typeof v;if(c==="string")return v;if(c==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return"character matching "+v;if(v.type)return v.type+" token";if(v.test)return"token matching "+String(v.test);throw new Error("Unknown symbol type: "+v)}}function l(v){var c=typeof v;if(c==="string")return v;if(c==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return v.toString();if(v.type)return"%"+v.type;if(v.test)return"<"+String(v.test)+">";throw new Error("Unknown symbol type: "+v)}}return{Parser:u,Grammar:s,Rule:t}})}}),wg=wc({"../../node_modules/moo/moo.js"(e,r){(function(t,n){typeof define=="function"&&define.amd?define([],n):typeof r=="object"&&r.exports?r.exports=n():t.moo=n()})(e,function(){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,a=typeof new RegExp().sticky=="boolean";function s(k){return k&&n.call(k)==="[object RegExp]"}function o(k){return k&&typeof k=="object"&&!s(k)&&!Array.isArray(k)}function u(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function m(k){var j=new RegExp("|"+k);return j.exec("").length-1}function l(k){return"("+k+")"}function v(k){if(!k.length)return"(?!)";var j=k.map(function(D){return"(?:"+D+")"}).join("|");return"(?:"+j+")"}function c(k){if(typeof k=="string")return"(?:"+u(k)+")";if(s(k)){if(k.ignoreCase)throw new Error("RegExp /i flag not allowed");if(k.global)throw new Error("RegExp /g flag is implied");if(k.sticky)throw new Error("RegExp /y flag is implied");if(k.multiline)throw new Error("RegExp /m flag is implied");return k.source}else throw new Error("Not a pattern: "+k)}function p(k,j){return k.length>j?k:Array(j-k.length+1).join(" ")+k}function f(k,j){for(var D=k.length,I=0;;){var J=k.lastIndexOf(`
`,D-1);if(J===-1||(I++,D=J,I===j)||D===0)break}var N=I<j?0:D+1;return k.substring(N).split(`
`)}function _(k){for(var j=Object.getOwnPropertyNames(k),D=[],I=0;I<j.length;I++){var J=j[I],N=k[J],M=[].concat(N);if(J==="include"){for(var Z=0;Z<M.length;Z++)D.push({include:M[Z]});continue}var G=[];M.forEach(function(z){o(z)?(G.length&&D.push(E(J,G)),D.push(E(J,z)),G=[]):G.push(z)}),G.length&&D.push(E(J,G))}return D}function h(k){for(var j=[],D=0;D<k.length;D++){var I=k[D];if(I.include){for(var J=[].concat(I.include),N=0;N<J.length;N++)j.push({include:J[N]});continue}if(!I.type)throw new Error("Rule has no type: "+JSON.stringify(I));j.push(E(I.type,I))}return j}function E(k,j){if(o(j)||(j={match:j}),j.include)throw new Error("Matching rules cannot also include states");var D={defaultType:k,lineBreaks:!!j.error||!!j.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var I in j)t.call(j,I)&&(D[I]=j[I]);if(typeof D.type=="string"&&k!==D.type)throw new Error("Type transform cannot be a string (type '"+D.type+"' for token '"+k+"')");var J=D.match;return D.match=Array.isArray(J)?J:J?[J]:[],D.match.sort(function(N,M){return s(N)&&s(M)?0:s(M)?-1:s(N)?1:M.length-N.length}),D}function x(k){return Array.isArray(k)?h(k):_(k)}var d=E("error",{lineBreaks:!0,shouldThrow:!0});function V(k,j){for(var D=null,I=Object.create(null),J=!0,N=null,M=[],Z=[],G=0;G<k.length;G++)k[G].fallback&&(J=!1);for(var G=0;G<k.length;G++){var z=k[G];if(z.include)throw new Error("Inheritance is not allowed in stateless lexers");if(z.error||z.fallback){if(D)throw!z.fallback==!D.fallback?new Error("Multiple "+(z.fallback?"fallback":"error")+" rules not allowed (for token '"+z.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+z.defaultType+"')");D=z}var he=z.match.slice();if(J)for(;he.length&&typeof he[0]=="string"&&he[0].length===1;){var We=he.shift();I[We.charCodeAt(0)]=z}if(z.pop||z.push||z.next){if(!j)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+z.defaultType+"')");if(z.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+z.defaultType+"')")}if(he.length!==0){J=!1,M.push(z);for(var Ke=0;Ke<he.length;Ke++){var Oe=he[Ke];if(s(Oe)){if(N===null)N=Oe.unicode;else if(N!==Oe.unicode&&z.fallback===!1)throw new Error("If one rule is /u then all must be")}}var ue=v(he.map(c)),ge=new RegExp(ue);if(ge.test(""))throw new Error("RegExp matches empty string: "+ge);var Ge=m(ue);if(Ge>0)throw new Error("RegExp has capture groups: "+ge+`
Use (?: â¦ ) instead`);if(!z.lineBreaks&&ge.test(`
`))throw new Error("Rule should declare lineBreaks: "+ge);Z.push(l(ue))}}var tr=D&&D.fallback,jr=a&&!tr?"ym":"gm",Xr=a||tr?"":"|";N===!0&&(jr+="u");var In=new RegExp(v(Z)+Xr,jr);return{regexp:In,groups:M,fast:I,error:D||d}}function C(k){var j=V(x(k));return new ie({start:j},"start")}function S(k,j,D){var I=k&&(k.push||k.next);if(I&&!D[I])throw new Error("Missing state '"+I+"' (in token '"+k.defaultType+"' of state '"+j+"')");if(k&&k.pop&&+k.pop!=1)throw new Error("pop must be 1 (in token '"+k.defaultType+"' of state '"+j+"')")}function X(k,j){var D=k.$all?x(k.$all):[];delete k.$all;var I=Object.getOwnPropertyNames(k);j||(j=I[0]);for(var J=Object.create(null),N=0;N<I.length;N++){var M=I[N];J[M]=x(k[M]).concat(D)}for(var N=0;N<I.length;N++)for(var M=I[N],Z=J[M],G=Object.create(null),z=0;z<Z.length;z++){var he=Z[z];if(he.include){var We=[z,1];if(he.include!==M&&!G[he.include]){G[he.include]=!0;var Ke=J[he.include];if(!Ke)throw new Error("Cannot include nonexistent state '"+he.include+"' (in state '"+M+"')");for(var Oe=0;Oe<Ke.length;Oe++){var ue=Ke[Oe];Z.indexOf(ue)===-1&&We.push(ue)}}Z.splice.apply(Z,We),z--}}for(var ge=Object.create(null),N=0;N<I.length;N++){var M=I[N];ge[M]=V(J[M],!0)}for(var N=0;N<I.length;N++){for(var Ge=I[N],tr=ge[Ge],jr=tr.groups,z=0;z<jr.length;z++)S(jr[z],Ge,ge);for(var Xr=Object.getOwnPropertyNames(tr.fast),z=0;z<Xr.length;z++)S(tr.fast[Xr[z]],Ge,ge)}return new ie(ge,j)}function be(k){for(var j=typeof Map<"u",D=j?new Map:Object.create(null),I=Object.getOwnPropertyNames(k),J=0;J<I.length;J++){var N=I[J],M=k[N],Z=Array.isArray(M)?M:[M];Z.forEach(function(G){if(typeof G!="string")throw new Error("keyword must be string (in keyword '"+N+"')");j?D.set(G,N):D[G]=N})}return function(G){return j?D.get(G):D[G]}}var ie=function(k,j){this.startState=j,this.states=k,this.buffer="",this.stack=[],this.reset()};ie.prototype.reset=function(k,j){return this.buffer=k||"",this.index=0,this.line=j?j.line:1,this.col=j?j.col:1,this.queuedToken=j?j.queuedToken:null,this.queuedText=j?j.queuedText:"",this.queuedThrow=j?j.queuedThrow:null,this.setState(j?j.state:this.startState),this.stack=j&&j.stack?j.stack.slice():[],this},ie.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},ie.prototype.setState=function(k){if(!(!k||this.state===k)){this.state=k;var j=this.states[k];this.groups=j.groups,this.error=j.error,this.re=j.regexp,this.fast=j.fast}},ie.prototype.popState=function(){this.setState(this.stack.pop())},ie.prototype.pushState=function(k){this.stack.push(this.state),this.setState(k)};var me=a?function(k,j){return k.exec(j)}:function(k,j){var D=k.exec(j);return D[0].length===0?null:D};ie.prototype._getGroup=function(k){for(var j=this.groups.length,D=0;D<j;D++)if(k[D+1]!==void 0)return this.groups[D];throw new Error("Cannot find token type for matched text")};function Ue(){return this.value}if(ie.prototype.next=function(){var k=this.index;if(this.queuedGroup){var j=this._token(this.queuedGroup,this.queuedText,k);return this.queuedGroup=null,this.queuedText="",j}var D=this.buffer;if(k!==D.length){var M=this.fast[D.charCodeAt(k)];if(M)return this._token(M,D.charAt(k),k);var I=this.re;I.lastIndex=k;var J=me(I,D),N=this.error;if(J==null)return this._token(N,D.slice(k,D.length),k);var M=this._getGroup(J),Z=J[0];return N.fallback&&J.index!==k?(this.queuedGroup=M,this.queuedText=Z,this._token(N,D.slice(k,J.index),k)):this._token(M,Z,k)}},ie.prototype._token=function(k,j,D){var I=0;if(k.lineBreaks){var J=/\n/g,N=1;if(j===`
`)I=1;else for(;J.exec(j);)I++,N=J.lastIndex}var M={type:typeof k.type=="function"&&k.type(j)||k.defaultType,value:typeof k.value=="function"?k.value(j):j,text:j,toString:Ue,offset:D,lineBreaks:I,line:this.line,col:this.col},Z=j.length;if(this.index+=Z,this.line+=I,I!==0?this.col=Z-N+1:this.col+=Z,k.shouldThrow){var G=new Error(this.formatError(M,"invalid syntax"));throw G}return k.pop?this.popState():k.push?this.pushState(k.push):k.next&&this.setState(k.next),M},typeof Symbol<"u"&&Symbol.iterator){var Fe=function(k){this.lexer=k};Fe.prototype.next=function(){var k=this.lexer.next();return{value:k,done:!k}},Fe.prototype[Symbol.iterator]=function(){return this},ie.prototype[Symbol.iterator]=function(){return new Fe(this)}}return ie.prototype.formatError=function(k,j){if(k==null)var D=this.buffer.slice(this.index),k={text:D,offset:this.index,lineBreaks:D.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var I=2,J=Math.max(k.line-I,1),N=k.line+I,M=String(N).length,Z=f(this.buffer,this.line-k.line+I+1).slice(0,5),G=[];G.push(j+" at line "+k.line+" col "+k.col+":"),G.push("");for(var z=0;z<Z.length;z++){var he=Z[z],We=J+z;G.push(p(String(We),M)+"  "+he),We===k.line&&G.push(p("",M+k.col+1)+"^")}return G.join(`
`)},ie.prototype.clone=function(){return new ie(this.states,this.state)},ie.prototype.has=function(k){return!0},{compile:C,states:X,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:be}})}}),K=class extends Error{constructor(r,t,n,a){super(_s(r,t,n,a));fe(this,"name");fe(this,"info");this.name=r,this.info=n}},_s=(e,r,t,n)=>{const a={SyntaxError:"Erreur syntaxique",EvaluationError:"Erreur d'Ã©valuation",UnknownRule:"RÃ¨gle inconnue",PrivateRule:"RÃ¨gle privÃ©e"},s=/error/i.test(e);return`
[ ${a[e]??e} ]`+(t&&"dottedName"in t&&t.dottedName?.length?`
â¡ï¸  Dans la rÃ¨gle "${t.dottedName}"`:"")+`
${s?"âï¸":"â ï¸"}  ${r}`+(n?`
`+(s?"    ":"â¹ï¸  ")+n.message:"")},jn=class extends K{constructor(e){super("InternalError",`
Erreur interne du moteur.

Cette erreur est le signe d'un bug dans publicodes. Pour nous aider Ã  le rÃ©soudre, vous pouvez copier ce texte dans un nouveau ticket : https://github.com/betagouv/mon-entreprise/issues/new.

payload:
${JSON.stringify(e,null,2)}
`,e)}},Sg=class extends jn{constructor(e){super(e)}};function Sa(e,r,t,n){e.warn(_s("Avertissement",r,t,n))}function $u(e,r){e.warn(_s("Avertissement",`Cette rÃ¨gle est tagguÃ©e comme experimentale. 

Cela veut dire qu'elle peut Ãªtre modifiÃ©e, renommÃ©e, ou supprimÃ©e sans qu'il n'y ait de changement de version majeure dans l'API.
`,{dottedName:r}))}function fu(e,r,t){if(e.has(r)){e.get(r).add(t);return}e.set(r,new Set([t]))}function Og(e,r){return Object.entries(r).reduce((t,[n,a])=>({...t,[n]:[...t[n]??[],...a]}),e)}var qt=e=>{const r={};for(const t in e)r[t]=e[t];return r};function ha(e,r=!0){function t(n){const a=e(n,t);return a===!1?n:a===void 0?Ei(t,n):r?a:Ei(t,a)}return t}function Oc(e){function r(n){switch(e(n,r)){case"continue":Ei(t,n);return;case"stop":return}}const t=n=>(r(n),n);return r}function Vg(e,r){const t={};for(const n in r)t[n]=e(r[n]);return t}var Ei=(e,r)=>{switch(r=jg(e,r),r.nodeKind){case"rule":return Ag(e,r);case"reference":case"constant":return r;case"arrondi":return Rg(e,r);case"simplifier unitÃ©":case"variable manquante":case"est non applicable":case"est non dÃ©fini":return Ig(e,r);case"barÃ¨me":case"taux progressif":case"grille":return qg(e,r);case"une possibilitÃ©":return Fg(e,r);case"durÃ©e":return Tg(e,r);case"rÃ©soudre rÃ©fÃ©rence circulaire":return Lg(e,r);case"inversion":return Mg(e,r);case"operation":return Pg(e,r);case"recalcul":return zg(e,r);case"unitÃ©":return Jg(e,r);case"variations":return Hg(e,r);case"replacementRule":return Dg(e,r);case"texte":return Bg(e,r);case"condition":return Ug(e,r);default:throw new Sg(r)}},jg=(e,r)=>{if(!("sourceMap"in r)||!r.sourceMap||!r.sourceMap.args)return r;const t=r.sourceMap,n={};for(const a in t.args){const s=t.args[a];n[a]=Array.isArray(s)?s.map(o=>e(o)):e(s)}return{...r,sourceMap:{...t,args:n}}},Ag=(e,r)=>{const t=qt(r);t.suggestions={};for(const n in r.suggestions)t.suggestions[n]=e(r.suggestions[n]);return t.replacements=r.replacements.map(e),t.explanation={ruleDisabledByItsParent:r.explanation.ruleDisabledByItsParent,nullableParent:r.explanation.nullableParent?e(r.explanation.nullableParent):void 0,parents:r.explanation.parents.map(e),valeur:e(r.explanation.valeur)},t},Dg=(e,r)=>({...r,definitionRule:e(r.definitionRule),replacedReference:e(r.replacedReference),replacementNode:e(r.replacementNode),whiteListedNames:r.whiteListedNames.map(e),blackListedNames:r.blackListedNames.map(e)}),Ig=(e,r)=>({...r,explanation:e(r.explanation)});function Ng(e,r){return r.map(t=>({...t,...t.plafond&&{plafond:e(t.plafond)},..."montant"in t&&{montant:e(t.montant)},..."taux"in t&&{taux:e(t.taux)}}))}var qg=(e,r)=>({...r,explanation:{assiette:e(r.explanation.assiette),multiplicateur:e(r.explanation.multiplicateur),tranches:Ng(e,r.explanation.tranches)}}),Fg=(e,r)=>({...r,explanation:r.explanation.map(e)}),Pg=(e,r)=>{const t=qt(r);return t.explanation=[e(r.explanation[0]),e(r.explanation[1])],t},Tg=(e,r)=>({...r,explanation:{depuis:e(r.explanation.depuis),"jusqu'Ã ":e(r.explanation["jusqu'Ã "])}}),Mg=(e,r)=>({...r,explanation:{...r.explanation,inversionCandidates:r.explanation.inversionCandidates.map(e)}}),Rg=(e,r)=>({...r,explanation:{valeur:e(r.explanation.valeur),arrondi:e(r.explanation.arrondi)}}),Lg=(e,r)=>({...r,explanation:{...r.explanation,valeur:e(r.explanation.valeur)}}),Bg=(e,r)=>({...r,explanation:r.explanation.map(t=>typeof t=="string"?t:e(t))}),zg=(e,r)=>({...r,explanation:{...r.explanation,amendedSituation:r.explanation.amendedSituation.map(([t,n])=>[e(t),e(n)]),recalcul:r.explanation.recalculNode&&e(r.explanation.recalculNode)}}),Jg=(e,r)=>{const t=qt(r);return t.explanation=e(r.explanation),t},Hg=(e,r)=>({...r,explanation:r.explanation.map(({condition:t,consequence:n})=>({condition:e(t),consequence:n&&e(n)}))}),Ug=(e,r)=>{const t=qt(r);return t.explanation={si:e(r.explanation.si),alors:e(r.explanation.alors),sinon:e(r.explanation.sinon)},t},sn={constant:e=>e};function Ee(e,r){if(sn??(sn={}),sn[e])throw new K("EvaluationError",`Multiple evaluation functions registered for the nodeKind \x1B[4m${e}`,{dottedName:""});sn[e]=r}var du={isNullable:void 0,type:void 0};function Wg(e,r,t){function n(s){if(!s||typeof s!="object")return du;if(t.has(s))return t.get(s);t.set(s,du);const o=a(s);return t.set(s,o),o}function a(s){switch(s.nodeKind){case"barÃ¨me":case"durÃ©e":case"grille":case"taux progressif":return{isNullable:!1,type:"number"};case"est non dÃ©fini":case"est non applicable":return{isNullable:!1,type:"boolean"};case"constant":return{isNullable:s.isNullable??s.nodeValue===null,type:s.type};case"operation":return{isNullable:["<","<=",">",">=","/","*"].includes(s.operationKind)?n(s.explanation[0]).isNullable||n(s.explanation[1]).isNullable:s.operationKind==="-"?n(s.explanation[0]).isNullable:!1,type:["<","<=",">",">=","=","!=","et","ou"].includes(s.operationKind)?"boolean":"number"};case"inversion":case"recalcul":case"replacementRule":case"rÃ©soudre rÃ©fÃ©rence circulaire":return{isNullable:!1,type:"number"};case"texte":case"une possibilitÃ©":return{isNullable:!1,type:"string"};case"rule":case"arrondi":return n(s.explanation.valeur);case"unitÃ©":case"simplifier unitÃ©":case"variable manquante":return n(s.explanation);case"condition":return{isNullable:[s.explanation.si,s.explanation.alors,s.explanation.sinon].some(u=>n(u).isNullable),type:n(s.explanation.alors).type??n(s.explanation.sinon).type};case"variations":const o=s.explanation.map(({consequence:u})=>n(u));return{isNullable:o.some(u=>u.isNullable),type:o.map(u=>u.type).find(u=>u!==void 0)};case"reference":return n(r[s.dottedName])}}return e.forEach(s=>{const o=r[s];n(o),o.explanation.parents.forEach(n)}),t}function Cr(e,r,t){let n,a;function s(o,u){n??(n=B(t,dn({dottedName:"INLINE_MECANISM"}))),a??(a={});for(const v in r)"par dÃ©faut"in r[v]&&(a[v]=B(r[v]["par dÃ©faut"],dn({})));Object.keys(r).length===1&&"valeur"in r&&(o={valeur:o});const m={};for(const v in o)m[v]=B(o[v],u);const l=ha(v=>{if(v.nodeKind!=="reference"||!(v.name in r))return;const c=v.name;if(c in m)return m[c];if(c in a)return a[c];throw new K("SyntaxError",`Il manque la clÃ© '${c} dans le mÃ©canisme ${e}`,{dottedName:c})})(n);return l.sourceMap={mecanismName:e,args:m},l}return s.nom=e,Object.assign(s,"name",{value:`parse${Vc(e)}Inline`})}function zt(e,r,t){function n(a,s){Object.keys(r).length===1&&"valeur"in r&&(a={valeur:a});const o={};for(const m in a){const l=a[m];o[m]=Array.isArray(l)?l.map(v=>B(v,s)):B(l,s)}const u=B(t(o),s);return u.sourceMap={mecanismName:e,args:o},u}return n.nom=e,Object.assign(n,"name",{value:`parse${Vc(e)}Inline`})}function Vc(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,r=>r.toUpperCase()).replace(/\s+/g,"")}var Yr={nodeKind:"constant",nodeValue:null,missingVariables:{},type:void 0,isNullable:!0},jc={nodeKind:"constant",nodeValue:void 0,missingVariables:{},type:void 0,isNullable:!1},ga={...jc,type:"number"},Kg=Cr("abattement",{abattement:{},valeur:{}},{"-":["valeur","abattement"],plancher:0}),Gg=Cr("applicable si",{"applicable si":{},valeur:{}},{condition:{si:"applicable si != non",alors:"valeur",sinon:Yr}}),Qg=e=>"missingVariables"in e?e.missingVariables:{},Ac=(e={})=>Object.fromEntries(Object.entries(e).map(([r,t])=>[r,t+1])),mt=(e={},r={})=>Object.fromEntries([...Object.keys(e),...Object.keys(r)].map(t=>[t,(e[t]??0)+(r[t]??0)])),rr=e=>e.map(Qg).reduce(mt,{}),Vr=e=>({nodeValue:e,type:typeof e,isDefault:!0,nodeKind:"constant"}),Yg=(e,r,t)=>{const n={};for(const a in e){const s=e[a];if(r[a]==null&&!s)throw new K("EngineError",`Il manque une clÃ© '${a}' dans ${JSON.stringify(r)} `,{});const o=r[a]!=null?B(r[a],t):s;n[a]=o}return n},et=(e,r=t=>t)=>{const[t,...n]=e.split("/").map(o=>o.trim()),a=o=>Zg(o.split(".").filter(Boolean).map(u=>r(u)));return{numerators:a(t),denominators:n.flatMap(o=>a(o))}},Xg=/(\d+)(?!.*[A-Za-z])/g;function Dc(e){let r={};return e.forEach(t=>{const n=t.match(Xg);if(n!=null){const a=n[0],s=t.split(a)[0];r[s]=(r[s]??0)+ +a}else r[t]=(r[t]??0)+1}),r}function Zg(e){let r=Dc(e);return Object.entries(r).flatMap(([t,n])=>Array(n).fill(t))}function e1(e){let r=Dc(e);return Object.entries(r).map(([t,n])=>n>1?`${t}${n}`:t)}var Mn=(e,r,t=n=>n)=>e1(e.map(n=>t(n,r))).join("."),pu=2;function ur(e,r=pu,t=n=>n){if(e===null||typeof e!="object")return typeof e=="string"?t(e,r):e;const n=Oa(e),{numerators:a=[],denominators:s=[]}=n,o=a.length>0,u=s.length>0;return!o&&!u?"":o&&!u?Mn(a,r,t):!o&&u?`/${Mn(s,1,t)}`:`${Mn(a,pu,t)} / ${Mn(s,1,t)}`}var on={numerators:[],denominators:[]},Nr=(e,r)=>{if(e==="/"){if(r.length!==2)throw new K("InternalError","Infer units of a division with units.length !== 2)",{});return Nr("*",[r[0]||on,{numerators:(r[1]||on).denominators,denominators:(r[1]||on).numerators}])}const t=r.filter(Boolean);if(t.length<=1)return t[0];if(e==="*")return Oa({numerators:t.flatMap(n=>n?.numerators??[]),denominators:t.flatMap(n=>n?.denominators??[])});if(e==="-"||e==="+")return r.find(n=>n)},Ic=(e,r)=>Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every((t,n)=>e[n]===r[n]):e===r,bu=(e,r=Ic)=>t=>{const n=t.findIndex(a=>r(a,e));return t.filter((a,s)=>s!==n)},Oa=(e,r=Ic)=>[...e.numerators,...e.denominators].reduce(({numerators:n,denominators:a},s)=>n.find(o=>r(s,o))&&a.find(o=>r(s,o))?{numerators:bu(s,r)(n),denominators:bu(s,r)(a)}:{numerators:n,denominators:a},e),Xn={"mois/an":12,"jour/an":365,"jour/mois":365/12,"trimestre/an":4,"mois/trimestre":3,"jour/trimestre":365/12*3,"â¬/kâ¬":10**3,"g/kg":10**3,"mg/g":10**3,"mg/kg":10**6,"m/km":10**3,"cm/m":10**2,"mm/cm":10**1,"mm/m":10**3,"cm/km":10**5,"mm/km":10**6};function hu(e,r){return Xn[`${r}/${e}`]||Xn[`${e}/${r}`]&&1/Xn[`${e}/${r}`]}function xi(e,r){let t=100**(r.filter(n=>n==="%").length-e.filter(n=>n==="%").length);return[t]=e.reduce(([n,a],s)=>{const o=a.findIndex(m=>!!hu(s,m)),u=hu(s,a[o])||1;return[n*u,[...a.slice(0,o+1),...a.slice(o+1)]]},[t,r]),t}var gu={"kW.h":"kWh","mn / h":"noeud"};function r1(e,r){return!e||!r?!1:e===r||e===gu[r]||r===gu[e]}function An(e,r,t){const n=ur(e),a=ur(r);if(!r1(n,a)&&!n1(e,r))throw new K("EngineError",`Impossible de convertir l'unitÃ© '${n}' en '${a}'`,{});if(!t||e===void 0)return t;const[s,o]=_u(e||on),[u,m]=_u(r||on);return Fc(t*o/m*xi(s.numerators,u.numerators)*xi(u.denominators,s.denominators))}var Nc=t1(Xn);function t1(e){return Object.keys(e).reduce((r,t)=>{const[n,a]=t.split("/"),s=r.findIndex(u=>u.has(n)),o=r.findIndex(u=>u.has(a));if(s>-1&&o>-1&&s!==o)throw new K("EngineError",`Invalid ratio ${t}`,{});return s===-1&&o===-1?r.push(new Set([n,a])):s>-1?r[s].add(a):o>-1&&r[o].add(n),r},[])}function qc(e,r){return e===r||Nc.some(t=>t.has(e)&&t.has(r))}function Fc(e){return+e.toFixed(16)}function Pc(e){const{numerators:r,denominators:t}=Oa(e,qc);return r.length&&r.every(n=>n==="%")?{numerators:["%"],denominators:t}:Tc({numerators:r,denominators:t})}function _u(e,r=1){const t=xi(e.numerators,e.denominators);return[Oa(Tc(e),qc),r&&Fc(r*t)]}var Tc=e=>({numerators:e.numerators.filter(r=>r!=="%"),denominators:e.denominators.filter(r=>r!=="%")});function n1(e,r){if(e==null||r==null)return!0;const t=l=>l.reduce((v,c)=>{const p=Nc.findIndex(_=>_.has(c)),f=p===-1?c:""+p;return{...v,[f]:1+(v[f]??0)}},{}),[n,a,s,o]=[e.numerators,e.denominators,r.numerators,r.denominators].map(t),u=l=>[...new Set(l)],m=[n,a,s,o].map(Object.keys).flat();return u(m).every(l=>(n[l]||0)-(a[l]||0)===(s[l]||0)-(o[l]||0)||l==="%")}function yu(e,r){return+e.toFixed(r)}var a1=function(e){const r=Jc(this.evaluateNode(e.explanation.valeur)),t=r.nodeValue;let n=e.explanation.arrondi;if(t!==!1&&(n=this.evaluateNode(n),typeof n.nodeValue=="number"&&!ur(n.unit)?.match(/dÃ©cimales?/)))throw new K("EvaluationError",`L'unitÃ© ${ur(n.unit)} de l'arrondi est inconnu. Vous devez utiliser l'unitÃ© âdÃ©cimalesâ`,{dottedName:this.cache._meta.evaluationRuleStack[0]});return{...e,nodeValue:typeof r.nodeValue!="number"||!("nodeValue"in n)?r.nodeValue:typeof n.nodeValue=="number"?yu(r.nodeValue,n.nodeValue):n.nodeValue===!0?yu(r.nodeValue,0):n.nodeValue===void 0?void 0:r.nodeValue,explanation:{valeur:r,arrondi:n},missingVariables:rr([r,n]),unit:r.unit}};function Va(e,r){return{explanation:{valeur:B(e.valeur,r),arrondi:B(e.arrondi,r)},nodeKind:Va.nom}}Va.nom="arrondi";Ee(Va.nom,a1);function Mc(e,r){return Object.entries(e.avec).forEach(([n,a])=>{B({nom:n,...a==null?{}:typeof a!="object"||"nodeKind"in a?{valeur:a}:a},r)}),B(e.valeur,r)}Mc.nom="avec";var ys=(e,r)=>e.map((t,n)=>{if(!t.plafond&&n>e.length)throw new K("SyntaxError",`La tranche nÂ°${n} du barÃ¨me n'a pas de plafond prÃ©cisÃ©. Seule la derniÃ¨re tranche peut ne pas Ãªtre plafonnÃ©e`,{dottedName:""});return{...t,...t.taux!==void 0?{taux:B(t.taux,r)}:{},...t.montant!==void 0?{montant:B(t.montant,r)}:{},plafond:"plafond"in t?B(t.plafond,r):{nodeValue:1/0,nodeKind:"constant",type:"number",isNullable:!1}}});function ks({multiplicateur:e,assiette:r,parsedTranches:t}){return t.reduce(([n,a],s,o)=>{if(a)return[[...n,{...s,isAfterActive:!0}],a];const u=this.evaluateNode(s.plafond),m=n[o-1]?n[o-1].plafond:{nodeValue:0};let l=u.nodeValue===void 0||e.nodeValue===void 0?void 0:u.nodeValue*e.nodeValue;try{l=l===1/0||l===0?l:An(Nr("*",[u.unit,e.unit]),r.unit,l)}catch(_){Sa(this.context.logger,`L'unitÃ© du plafond de la tranche nÂ°${o+1}  n'est pas compatible avec celle l'assiette`,{dottedName:this.cache._meta.evaluationRuleStack[0]},_)}const v=n[o-1]?n[o-1].plafondValue:0,c=v===void 0||r.nodeValue===void 0?void 0:v>r.nodeValue,p=[u,r,e,m];if(p.some(_=>_.nodeValue===void 0))return[[...n,{...s,plafond:u,plafondValue:l,plancherValue:v,nodeValue:void 0,isActive:void 0,isAfterActive:c,missingVariables:rr(p)}],!1];if(n[o-1]&&v&&l<=v)throw new K("EvaluationError",`Le plafond de la tranche nÂ°${o+1} a une valeur infÃ©rieure Ã  celui de la tranche prÃ©cÃ©dente`,{dottedName:this.cache._meta.evaluationRuleStack[0]});const f={...s,plafond:u,plancherValue:v,plafondValue:l,isAfterActive:c,isActive:r.nodeValue>=v&&r.nodeValue<l};return[[...n,f],f.isActive]},[[],!1])[0]}function i1(e,r){return{explanation:{assiette:B(e.assiette,r),multiplicateur:e.multiplicateur?B(e.multiplicateur,r):Vr(1),tranches:ys(e.tranches,r)},nodeKind:"barÃ¨me"}}function s1(e,r,t){return e.map(n=>{if(n.isAfterActive)return{...n,nodeValue:0};const a=t(n.taux),s=rr([a,n]);return[r.nodeValue,a.nodeValue,n.plafondValue,n.plancherValue].some(o=>o===void 0)?{...n,taux:a,nodeValue:void 0,missingVariables:s}:{...n,taux:a,..."unit"in r&&{unit:r.unit},nodeValue:(Math.min(r.nodeValue,n.plafondValue)-n.plancherValue)*An(a.unit,et(""),a.nodeValue),missingVariables:s}})}var o1=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Le multiplicateur ne peut pas Ãªtre nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});const a=s1(ks.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}),t,r),s=a.reduce((o,{nodeValue:u})=>u==null?void 0:o+u,0);return{...e,nodeValue:s,missingVariables:rr([t,n,...a]),explanation:{assiette:t,multiplicateur:n,tranches:a},unit:t.unit}};Ee("barÃ¨me",o1);var u1=(e,r,t)=>{const{composantes:n,...a}=r,s=B({somme:n.map(o=>{const{attributs:u,...m}=o;return{...u,valeur:{[e]:{...a,...m}}}})},t);return{...s,sourceMap:{args:{},...s.sourceMap,mecanismName:"composantes"}}},l1=function(e){let r;const t=this.evaluateNode(e.explanation.si);let n=e.explanation.alors,a=e.explanation.sinon;if("unit"in t)throw new K("EvaluationError","La condition doit Ãªtre de type boolÃ©en",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(t.nodeValue===!0)n=this.evaluateNode(e.explanation.alors),n.isActive=!0,r=n;else if(t.nodeValue===!1)a=this.evaluateNode(e.explanation.sinon),r=a;else if(t.nodeValue===null)r=t;else if(t.nodeValue===void 0)a=this.evaluateNode(e.explanation.sinon),n=this.evaluateNode(e.explanation.alors),r={...t,missingVariables:rr([a,n])};else throw new K("EvaluationError","La condition doit Ãªtre de type boolÃ©en",{dottedName:this.cache._meta.evaluationRuleStack[0]});const s=r.unit??n.unit;return{...r,missingVariables:mt(Ac(t.missingVariables),r.missingVariables),...s!=null?{unit:s}:{},...e,explanation:{si:t,alors:n,sinon:a}}};function Rc(e,r){return{explanation:{si:B(e.si,r),alors:B(e.alors,r),sinon:B(e.sinon,r)},nodeKind:"condition"}}Rc.nom="condition";Ee("condition",l1);function Lc(e){let[r,t,n]=e.split("/");return n||([r,t,n]=["01",r,t]),Bc(+n,+t,+r)}var Ba=e=>+e<10?`0${e}`:""+e;function Bc(e,r,t){const n=new Date(+e,+r-1,+t);if(!+n||n.getDate()!==+t)throw new K("SyntaxError",`La date ${t}/${r}/${e} n'est pas valide`,{dottedName:""});return`${Ba(t)}/${Ba(r)}/${Ba(e)}`}function Ci(e){const[r,t,n]=Lc(e).split("/"),a=new Date(+n,+t-1,+r);return a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),a}function c1(e){return Bc(e.getFullYear(),e.getMonth()+1,e.getDate())}var ku=c1(new Date),m1={depuis:Vr(ku),"jusqu'Ã ":Vr(ku)},v1=function(e){const r=this.evaluateNode(e.explanation.depuis),t=this.evaluateNode(e.explanation["jusqu'Ã "]);let n;if([r,t].some(({nodeValue:a})=>a===void 0))n=void 0;else{const[a,s]=[r.nodeValue,t.nodeValue].map(Ci);n=Math.max(0,Math.round((s.getTime()-a.getTime())/(1e3*60*60*24)))}return{...e,missingVariables:rr([r,t]),nodeValue:n,explanation:{depuis:r,"jusqu'Ã ":t}}},$1=(e,r)=>({explanation:Yg(m1,e,r),unit:et("jour"),nodeKind:"durÃ©e"});Ee("durÃ©e",v1);function zc(e,r){return{explanation:B(e,r),nodeKind:"est non dÃ©fini"}}zc.nom="est non dÃ©fini";var f1=Cr("est dÃ©fini",{valeur:{}},{"=":[{"est non dÃ©fini":"valeur"},"non"]}),d1=Cr("est applicable",{valeur:{}},{"=":[{"est non applicable":"valeur"},"non"]}),p1=function(e){const r=this.evaluateNode(e.explanation);let t=!1;return r.nodeValue===void 0&&(t=!0),{...e,nodeValue:t,missingVariables:r.missingVariables,explanation:r}};Ee("est non dÃ©fini",p1);function Jc(e){if(!e.unit)return e;const r=Pc(e.unit);return it(r,e)}function it(e,r){return{...r,nodeValue:r.unit&&typeof r.nodeValue=="number"?An(r.unit,e,r.nodeValue):r.nodeValue,unit:e}}var za=({style:e,maximumFractionDigits:r=2,minimumFractionDigits:t=0,language:n})=>a=>{const s=e==="currency"&&r>=2&&t===0&&!Number.isInteger(a)?2:t;return Intl.NumberFormat(n,{style:e,currency:"EUR",maximumFractionDigits:r,minimumFractionDigits:s}).format(a)};function b1({maximumFractionDigits:e,minimumFractionDigits:r,language:t,formatUnit:n,unit:a,nodeValue:s}){if(typeof s!="number")return s;const o=a?ur(a,s,n):void 0;switch(o){case"â¬":return za({style:"currency",maximumFractionDigits:e,minimumFractionDigits:r,language:t})(s);case"%":return za({style:"percent",maximumFractionDigits:e,language:t})(s/100);default:return za({style:"decimal",minimumFractionDigits:r,maximumFractionDigits:e,language:t})(s)+(typeof o=="string"?`Â ${o}`:"")}}function h1(e){return e&&e[0].toUpperCase()+e.slice(1)}var g1={fr:{true:"oui",false:"non"},en:{true:"yes",false:"no"}};function _1(e,{language:r="fr",displayedUnit:t,formatUnit:n,precision:a=2}={}){let s=typeof e=="number"||typeof e>"u"||e===null?e:e.nodeValue;if(typeof s=="number"&&Number.isNaN(s))return"Erreur dans le calcul du nombre";if(s===void 0)return"Pas encore dÃ©fini";if(s===null)return"Non applicable";if(typeof s=="string")return s.replace("\\n",`
`);if(typeof s=="object")return s.nom;if(typeof s=="boolean")return g1[r][s];if(typeof s=="number"){let o=typeof e=="number"||typeof e>"u"||!("unit"in e)?void 0:e.unit;if(o){const u=Jc({unit:o,nodeValue:s});o=u.unit,s=u.nodeValue}return b1({minimumFractionDigits:0,maximumFractionDigits:a,language:r,formatUnit:n,nodeValue:s,unit:t??o}).trim()}}var y1={};Eg(y1,{contextNameToDottedName:()=>wi,cyclicDependencies:()=>V1,decodeRuleName:()=>I1,disambiguateReference:()=>Kc,disambiguateReferenceNode:()=>Oi,encodeRuleName:()=>D1,findCommonAncestor:()=>Wc,getChildrenRules:()=>N1,isAccessible:()=>ja,isExperimental:()=>Si,nameLeaf:()=>Hc,ruleParent:()=>Uc,ruleParents:()=>Dn,ruleWithDedicatedDocumentationPage:()=>q1,updateReferencesMapsFromReferenceNode:()=>xs});function Jt(e,r){return e!=null&&Object.prototype.hasOwnProperty.call(e,r)}function Eu(e){return function(...r){return e}}var k1="\0",xu="",Cu=(e,r)=>{e[r]?e[r]++:e[r]=1},wu=(e,r)=>{--e[r]||delete e[r]},Gt=(e,r,t,n)=>{let a=""+r,s=""+t;if(!e&&a>s){const o=a;a=s,s=o}return a+xu+s+xu+(n===void 0?k1:n)},E1=(e,r,t,n)=>{let a=""+r,s=""+t;if(!e&&a>s){const u=a;a=s,s=u}const o={v:a,w:s};return n&&(o.name=n),o},Ja=(e,r)=>Gt(e,r.v,r.w,r.name),x1=class{constructor(e={}){fe(this,"_nodeCount",0);fe(this,"_edgeCount",0);fe(this,"_isDirected");fe(this,"_label");fe(this,"_defaultNodeLabelFn");fe(this,"_defaultEdgeLabelFn");fe(this,"_nodes");fe(this,"_in");fe(this,"_preds");fe(this,"_out");fe(this,"_sucs");fe(this,"_edgeObjs");fe(this,"_edgeLabels");this._isDirected=Jt(e,"directed")?e.directed:!0,this._label=void 0,this._defaultNodeLabelFn=Eu(void 0),this._defaultEdgeLabelFn=Eu(void 0),this._nodes={},this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}setGraph(e){return this._label=e,this}graph(){return this._label}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}setNode(e,r=void 0){return Jt(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}setNodes(e,r){return e.forEach(t=>{r!==void 0?this.setNode(t,r):this.setNode(t)}),this}node(e){return this._nodes[e]}hasNode(e){return Jt(this._nodes,e)}successors(e){const r=this._sucs[e];if(r)return Object.keys(r)}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setEdge(e,r,t=void 0,n=void 0){e=""+e,r=""+r;const a=Gt(this._isDirected,e,r,n);if(Jt(this._edgeLabels,a))return t!==void 0&&(this._edgeLabels[a]=t),this;this.setNode(e),this.setNode(r),this._edgeLabels[a]=t!==void 0?t:this._defaultEdgeLabelFn(e,r,n);const s=E1(this._isDirected,e,r,n);return e=s.v,r=s.w,Object.freeze(s),this._edgeObjs[a]=s,Cu(this._preds[r],e),Cu(this._sucs[e],r),this._in[r][a]=s,this._out[e][a]=s,this._edgeCount++,this}edge(e,r,t){const n=arguments.length===1?Ja(this._isDirected,arguments[0]):Gt(this._isDirected,e,r,t);return this._edgeLabels[n]}hasEdge(e,r,t){const n=arguments.length===1?Ja(this._isDirected,arguments[0]):Gt(this._isDirected,e,r,t);return Jt(this._edgeLabels,n)}removeEdge(e,r,t){const n=arguments.length===1?Ja(this._isDirected,arguments[0]):Gt(this._isDirected,e,r,t),a=this._edgeObjs[n];return a&&(e=a.v,r=a.w,delete this._edgeLabels[n],delete this._edgeObjs[n],wu(this._preds[r],e),wu(this._sucs[e],r),delete this._in[r][n],delete this._out[e][n],this._edgeCount--),this}outEdges(e,r=void 0){const t=this._out[e];if(t){const n=Object.values(t);return r===void 0?n:n.filter(function(a){return a.w===r})}}};function C1(e){let r=0;const t=[],n={},a=[];function s(o){const u=n[o]={onStack:!0,lowlink:r,index:r++};if(t.push(o),e.successors(o).forEach(function(m){Object.prototype.hasOwnProperty.call(n,m)?n[m].onStack&&(u.lowlink=Math.min(u.lowlink,n[m].index)):(s(m),u.lowlink=Math.min(u.lowlink,n[m].lowlink))}),u.lowlink===u.index){const m=[];let l;do l=t.pop(),n[l].onStack=!1,m.push(l);while(o!==l);a.push(m)}}return e.nodes().forEach(function(o){Object.prototype.hasOwnProperty.call(n,o)||s(o)}),a}function w1(e){return C1(e).filter(function(r){return r.length>1||r.length===1&&e.hasEdge(r[0],r[0])})}function S1(e){const r=new x1;return[...e.entries()].forEach(([t,n])=>{n.forEach(a=>{r.setEdge(t,a)})}),r}function O1(e,r){function*t(s){let o=s;for(;;)yield r[o++%r.length]}const n=[];for(let s=0;s<r.length;s++){const o=[];let u;for(const m of t(s))if(u===void 0)o.push(m),u=m;else if(e.get(u)?.has(m)){if(o.includes(m)){o.splice(0,o.lastIndexOf(m));break}o.push(m),u=m}n.push(o)}return n.reduce((s,o)=>o.length>s.length?s:o)}function V1(e){const{referencesMaps:r}=Zn(e),t=S1(r.referencesIn),a=w1(t).map(u=>u.reverse()),s=a.map(u=>O1(r.referencesIn,u)),o=a.map((u,m)=>A1(t,u,s[m]));return[s,o]}var j1=(e,r,t)=>{for(let n=0;n<e.length+1;n++)if(r===e[n]&&t===e[(n+1)%e.length])return!0;return!1};function A1(e,r,t){const n=new Set;return r.forEach(a=>{e.outEdges(a).filter(({w:s})=>r.includes(s)).forEach(({v:s,w:o})=>{n.add(`"${s}" -> "${o}"`+(j1(t,s,o)?" [color=red]":""))})}),`digraph Cycle {
	${[...n].join(`;
	`)};
}`}var vt=e=>e.split(" . "),Es=e=>e.join(" . "),Hc=e=>vt(e).slice(-1)?.[0],D1=e=>e?.replace(/\s\.\s/g,"/").replace(/-/g,"â").replace(/\s/g,"-"),I1=e=>e.replace(/\//g," . ").replace(/-/g," ").replace(/\u2011/g,"-"),wi=e=>e.endsWith("$SITUATION")?Uc(e):e,Uc=e=>Es(vt(e).slice(0,-1));function Dn(e){return vt(e).slice(0,-1).map((r,t,n)=>Es(n.slice(0,t+1))).reverse()}var N1=(e,r)=>Object.keys(e).filter(n=>n.startsWith(r)&&vt(n).length===vt(r).length+1);function Wc(e,r){const t=vt(e),n=vt(r),a=t.findIndex((s,o)=>n[o]!==s);return a===-1?e:Es(t.slice(0,a))}function ja(e,r,t){if(!(t in e))throw new K("InternalError",`La rÃ¨gle "${t}" n'existe pas`,{dottedName:t});const n=Wc(r,t),a=[t,...Dn(t),""];return a.slice(0,Math.max(a.indexOf(n)-1,0)).every(o=>!(o in e)||e[o].private===!1)}function Si(e,r){if(!(r in e))throw new K("InternalError",`La rÃ¨gle "${r}" n'existe pas`,{dottedName:r});return[r,...Dn(r)].some(n=>n in e&&e[n].rawNode?.experimental==="oui")}function Kc(e,r="",t){const a=[r,...Dn(r),""].map(o=>o?o+" . "+t:t).sort((o,u)=>o===r?1:u===r?-1:0).filter(o=>o in e),s=a.find(o=>ja(e,r,o));if(!a.length)throw new K("SyntaxError",`La rÃ©fÃ©rence "${t}" est introuvable.
VÃ©rifiez que l'orthographe et l'espace de nom sont corrects`,{dottedName:wi(r)});if(!s)throw new K("SyntaxError",`La rÃ¨gle "${a[0]}" n'est pas accessible depuis "${r}".
Cela vient du fait qu'elle est privÃ©e ou qu'un de ses parent est privÃ©`,{dottedName:wi(r)});return s}function q1(e){return e.virtualRule!==!0&&e.type!=="groupe"&&e.type!=="texte"&&e.type!=="paragraphe"&&e.type!=="notification"}function xs(e,r,t){e.nodeKind==="reference"&&(fu(r.referencesIn,t??e.contextDottedName,e.dottedName),fu(r.rulesThatUse,e.dottedName,t??e.contextDottedName))}function Oi(e,r){if(e.nodeKind==="reference")return e.dottedName||(e.dottedName=Kc(r,e.contextDottedName,e.name),e.title=r[e.dottedName].title,e.acronym=r[e.dottedName].rawNode.acronyme),e}var F1=0,Rn={};function Gc(e,r){return e?(Array.isArray(e)?e:[e]).map(t=>{typeof t=="string"&&(t={rÃ¨gle:t});const n=B(t.rÃ¨gle,r),a=B(t.par??r.dottedName,r),[s,o]=[t.dans??[],t["sauf dans"]??[]].map(u=>Array.isArray(u)?u:[u]).map(u=>u.map(m=>B(m,r)));return{nodeKind:"replacementRule",rawNode:t,definitionRule:B(r.dottedName,r),replacedReference:n,replacementNode:a,whiteListedNames:s,blackListedNames:o,remplacementRuleId:F1++}}):[]}function P1(e,r){return Gc(e,r).map(t=>({...t,replacementNode:Yr}))}function T1(e){const r={};for(const t in e){const n=e[t];for(const a of n.replacements){if(!a.replacedReference.dottedName)throw new jn(a);const s=a.replacedReference.dottedName;r[s]=[...r[s]??[],a]}}return r}function M1({newRules:e,previousReplacements:r,parsedRules:t,referencesMaps:n,logger:a}){const s=T1(e),o=new Set([]);for(const c in s){const p=n.rulesThatUse.get(c)??[];for(const f of p)o.add(f)}const u=new Set(Object.keys(e).filter(c=>[...n.referencesIn.get(c)??new Set].some(p=>(r[p]??[]).length))),m=Og(r,s);if(!u.size&&!o.size)return[t,m];const l=Su(r,n),v=Su(s,n);return u.forEach(c=>{t[c]=l(t[c])}),o.forEach(c=>{t[c]=v(t[c])}),[t,m]}function Su(e,r,t){return ha((n,a)=>{if(n.nodeKind==="replacementRule"||n.nodeKind==="inversion"||n.nodeKind==="une possibilitÃ©")return!1;if(n.nodeKind==="recalcul")return{...n,explanation:{...n.explanation,recalculNode:a(n.explanation.recalculNode),amendedSituation:n.explanation.amendedSituation.map(([s,o])=>[s,a(o)])}};if(n.nodeKind==="reference"){if(!n.dottedName)throw new jn(n);const s=R1(n,e[n.dottedName]??[]);return Oc(o=>(xs(o,r,n.contextDottedName),"continue"))(s),s}})}function R1(e,r,t){const n=r.filter(({definitionRule:s})=>s.dottedName!==e.contextDottedName).filter(({whiteListedNames:s})=>!s.length||s.some(o=>e.contextDottedName.startsWith(o.dottedName))).filter(({blackListedNames:s})=>!s.length||s.every(o=>!e.contextDottedName.startsWith(o.dottedName))).sort((s,o)=>{const u=+!!o.whiteListedNames.length-+!!s.whiteListedNames.length,m=+!!o.blackListedNames.length-+!!s.blackListedNames.length;return u||m});if(!n.length)return e;n.length>1;const a=n.map(s=>s.remplacementRuleId).join("-");return Rn[a]??(Rn[a]={nodeKind:"variations",sourceMap:{mecanismName:"replacement"},rawNode:e.rawNode,explanation:[...n.map(s=>({condition:s.definitionRule,consequence:s.replacementNode})),{condition:Vr(!0),consequence:e}]}),Rn[a]}function L1(e,r){const t=!!(e.privÃ©==="oui"||e.nom.startsWith("[privÃ©] ")),n=e.nom.replace(/^\[privÃ©\] /,""),a=[r.dottedName,n].filter(Boolean).join(" . "),s=Hc(a),o=h1(e.titre??s);if(r.parsedRules[a])throw new K("EvaluationError",`La rÃ©fÃ©rence '${a}' a dÃ©jÃ  Ã©tÃ© dÃ©finie`,{dottedName:a});const u={};for(const c in e)M_.includes(c)&&(u[c]=e[c]);"formule"in e&&(u.valeur=e.formule),!t&&!a.endsWith("$SITUATION")&&(u["dans la situation"]=`${a} . $SITUATION`,u.avec={...u.avec??{},"[privÃ©] $SITUATION":{...jc,isNullable:e["possiblement non applicable"]==="oui"}},u["par dÃ©faut"]!=null&&(u["par dÃ©faut"]={valeur:u["par dÃ©faut"],"variable manquante":a}));const m={...r,dottedName:a};r.parsedRules[a]=void 0;const l={valeur:B(u,m),parents:Dn(a).map(c=>B(c,m)).map(c=>(c.dottedName=c.name,c))},v={};if(e.suggestions)for(const c in e.suggestions)v[c]=B(e.suggestions[c],m);return r.parsedRules[a]={dottedName:a,replacements:[...P1(e["rend non applicable"],m),...Gc(e.remplace,m)],title:o,private:t,suggestions:v,nodeKind:"rule",explanation:l,rawNode:e,virtualRule:!!r.dottedName},r.dottedName?B(n,r):r.parsedRules[a]}Ee("rule",function(r){const{ruleDisabledByItsParent:t,nullableParent:n,parentMissingVariables:a}=Qc(this,r);let s={...r.explanation.valeur,nodeValue:null,missingVariables:{}};return t||(this.cache._meta.evaluationRuleStack.filter(u=>u===r.dottedName).length>1?s={nodeValue:void 0}:(this.cache._meta.evaluationRuleStack.unshift(r.dottedName),s=this.evaluateNode(r.explanation.valeur),this.cache._meta.evaluationRuleStack.shift())),s.missingVariables??(s.missingVariables={}),B1(this,r,s),{...s,missingVariables:mt(s.missingVariables,a),...r,explanation:{parents:r.explanation.parents,valeur:s,nullableParent:n,ruleDisabledByItsParent:t}}});function B1(e,r,t){r.private===!0||!ja(e.context.parsedRules,"",r.dottedName)||t.nodeValue===void 0&&!Object.keys(t.missingVariables).length&&(t.missingVariables[r.dottedName]=1)}function Qc(e,r){if(r.private)return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};const t=e.context.nodesTypes,n=r.explanation.parents.find(s=>t.get(s)?.isNullable||t.get(s)?.type==="boolean");if(!n)return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};if(!e.cache._meta.parentRuleStack.includes(r.dottedName)){e.cache._meta.parentRuleStack.unshift(r.dottedName);let s=Vr(!1);if(t.get(n)?.isNullable&&(s=e.evaluateNode({nodeKind:"est non applicable",explanation:n})),s.nodeValue!==!0&&t.get(n)?.type==="boolean"&&(s=e.evaluateNode({nodeKind:"operation",operator:"=",operationKind:"=",explanation:[n,Vr(!1)]})),e.cache._meta.parentRuleStack.shift(),s.nodeValue===!0)return{ruleDisabledByItsParent:!0,parentMissingVariables:s.missingVariables??{},nullableParent:n}}let a={};if(t.get(n)?.type==="boolean"){const s=e.evaluateNode(n);return a=s.missingVariables??{},{ruleDisabledByItsParent:s.nodeValue===!1,parentMissingVariables:a,nullableParent:n}}return{ruleDisabledByItsParent:!1,parentMissingVariables:a,nullableParent:n}}function Yc(e,r){return{explanation:B(e,r),nodeKind:"est non applicable"}}Yc.nom="est non applicable";var Ln=e=>({nodeKind:"est non applicable",explanation:e}),z1=function(e){const r=e.explanation;if(this.context.nodesTypes.get(r)?.isNullable===!1&&r.nodeKind!=="rule")return{...e,nodeValue:!1,missingVariables:{}};if(this.cache.nodes.has(r)&&this.cache.nodes.get(r)!==void 0)return{...e,nodeValue:this.cache.nodes.get(r)?.nodeValue===null,missingVariables:this.cache.nodes.get(r)?.missingVariables??{}};switch(r.nodeKind){case"rule":const{ruleDisabledByItsParent:n,parentMissingVariables:a}=Qc(this,r);if(n)return{...e,nodeValue:!0,missingVariables:a};const s=this.evaluateNode(Ln(r.explanation.valeur)),o=mt(a,s.missingVariables);return s.nodeValue===!1&&this.context.nodesTypes.get(this.context.parsedRules[`${r.dottedName} . $SITUATION`])?.isNullable&&!Object.keys(s.missingVariables).length&&(o[r.dottedName]=1),{...e,nodeValue:s.nodeValue,missingVariables:o};case"reference":if(!r.dottedName)throw new K("InternalError","Missing dottedName",{});return{...this.evaluateNode(Ln(this.context.parsedRules[r.dottedName])),...e};case"condition":return{...this.evaluateNode({...r,explanation:{si:r.explanation.si,alors:Ln(r.explanation.alors),sinon:Ln(r.explanation.sinon)}}),...e}}const t=this.evaluateNode(r);return{...e,nodeValue:t.nodeValue===void 0?void 0:t.nodeValue===null,missingVariables:t.missingVariables}};Ee("est non applicable",z1);function J1(e,r){return{explanation:{assiette:B(e.assiette,r),multiplicateur:e.multiplicateur?B(e.multiplicateur,r):Vr(1),tranches:ys(e.tranches,r)},nodeKind:"grille"}}var H1=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Le multiplicateur ne peut pas Ãªtre nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});const a=ks.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}).map(m=>{if(m.isActive===!1)return m;const l=r(m.montant);return{...m,montant:l,nodeValue:l.nodeValue,unit:l.unit,missingVariables:rr([l,m])}});let s;const o=a.find(m=>m.isActive);o?s=[o]:a[a.length-1].isAfterActive===!1?s=[{nodeValue:!1}]:s=a.filter(m=>m.isActive===void 0);const u=s[0]?s[0].isActive===void 0?void 0:s[0].nodeValue:!1;return{...e,nodeValue:u,missingVariables:rr([t,n,...s]),explanation:{...e.explanation,assiette:t,multiplicateur:n,tranches:a},unit:s[0]?.unit??void 0}};Ee("grille",H1);function Xc(e,r,t,n=0,a=100,s=0){let o=r,u=t,m=o,l=e(o),v=e(u),c=l,p,f,_,h,E,x;for(;a-- >0;){if(_=u-o,Math.abs(c)<Math.abs(v)&&(o=u,u=m,m=o,l=v,v=c,c=l),p=1e-15*Math.abs(u)+n/2,f=(m-u)/2,Math.abs(f)<=p||v===0)return u;if(Math.abs(_)>=p&&Math.abs(l)>Math.abs(v)){let d,V;const C=m-u;o===m?(d=v/l,h=C*d,E=1-d):(E=l/c,d=v/c,V=v/l,h=V*(C*E*(E-d)-(u-o)*(d-1)),E=(E-1)*(d-1)*(V-1)),h>0?E=-E:h=-h,h<.75*C*E-Math.abs(p*E)/2&&h<Math.abs(_*E/2)&&(f=h/E)}if(Math.abs(f)<p&&(f=f>0?p:-p),o=u,l=v,u+=f,v=e(u),(v>0&&c>0||v<0&&c<0)&&(m=o,c=l),Math.abs(v)<n)return u;Math.abs(v)<s&&(x=u)}return x}var U1=function(e){const r=this.shallowCopy();if(this.cache._meta.evaluationRuleStack.slice(1).includes(e.explanation.ruleToInverse))return{...ga,...e};r.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],r.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const t=e.explanation.inversionCandidates.find(x=>{if(this.cache._meta.evaluationRuleStack.includes(x.dottedName))return!1;const d=r.evaluateNode(r.context.parsedRules[`${x.dottedName} . $SITUATION`]);return typeof d.nodeValue=="number"&&!(x.dottedName in d.missingVariables)});if(t===void 0)return{...e,nodeValue:void 0,missingVariables:{...Object.fromEntries(e.explanation.inversionCandidates.map(x=>[x.dottedName,1])),[e.explanation.ruleToInverse]:1}};const n=r.evaluateNode(t);let a=0;r.setSituation({[t.dottedName]:ga},{keepPreviousSituation:!0});let s;const o=x=>(a++,r.setSituation({[e.explanation.ruleToInverse]:{nodeValue:x,nodeKind:"constant",type:"number",unit:n.unit}},{keepPreviousSituation:!0}),s=r.evaluateNode(t),s),u=n.nodeValue;let m;const l=u,c=o(l).nodeValue,p=c>u?.9:1.2,f=c!==void 0?l*u*p/c:2e3,h=o(f).nodeValue,E=this.context.inversionMaxIterations??10;if(c!==void 0||h!==void 0){const x=X=>(X===l?c:X===f?h:o(X).nodeValue)-u,C=h!==void 0&&h<u&&(h>c||c>u)?f:c!==void 0&&c<u&&(c>h||h>u)?l:-1e6,S=h!==void 0&&h>u&&(h<c||c<u)?f:c!==void 0&&c>u&&(c<h||h<u)?l:1e8;m=Xc(x,C,S,.1,E,1)}return m==null&&(this.cache.inversionFail=!0),(s.traversedVariables??[]).forEach(x=>this.cache._meta.traversedVariablesStack[0].add(x)),{...e,nodeValue:m,unit:n.unit,explanation:{...e.explanation,inversionGoal:t,numberOfIteration:a},missingVariables:s.missingVariables}},W1=(e,r)=>{if(!e.avec)throw new K("SyntaxError","Une formule d'inversion doit prÃ©ciser _avec_ quoi on peut inverser la variable",{dottedName:r.dottedName});return{explanation:{ruleToInverse:r.dottedName,inversionCandidates:e.avec.map(t=>({...B(t,r)}))},nodeKind:"inversion"}};Ee("inversion",U1);var K1=zt("le maximum de",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{">":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privÃ©] $INTERNAL valeur":t,"[privÃ©] $INTERNAL acc":r}}),Yr)),G1=zt("le minimum de",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{"<":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privÃ©] $INTERNAL valeur":t,"[privÃ©] $INTERNAL acc":r}}),Yr));function Vi(e){return e.reverse().reduce((r,t)=>({"+":[t,r]}),Yr)}var Q1=zt("somme",{valeur:{type:"liste"}},({valeur:e})=>Vi([...e])),Y1=zt("moyenne",{valeur:{type:"liste"}},({valeur:e})=>{const r=[...e];return{"/":[Vi(r),Vi(r.map(X1))]}});function X1(e){return{"applicable si":{"est applicable":e},valeur:1}}var Z1=Cr("non applicable si",{"non applicable si":{},valeur:{}},{condition:{si:"non applicable si = non",alors:"valeur",sinon:Yr}}),e_=(e,r)=>(Array.isArray(e)&&(e={possibilitÃ©s:e}),{...e,explanation:e.possibilitÃ©s.map(t=>B(t,r)),context:r.dottedName,nodeKind:"une possibilitÃ©"});Ee("une possibilitÃ©",e=>({...e,missingVariables:{[e.context]:1},nodeValue:void 0}));var Zc={"*":[(e,r)=>e*r,"Ã"],"/":[(e,r)=>e/r,"â"],"+":[(e,r)=>e+r],"-":[(e,r)=>e-r,"â"],"<":[(e,r)=>e<r],"<=":[(e,r)=>e<=r,"â¤"],">":[(e,r)=>e>r],">=":[(e,r)=>e>=r,"â¥"],"=":[(e,r)=>(e??!1)===(r??!1)],"!=":[(e,r)=>(e??!1)!==(r??!1),"â "],et:[(e,r)=>(e??!1)&&(r??!1)],ou:[(e,r)=>(e??!1)||(r??!1)]},r_=(e,r)=>(t,n)=>{const a=t.map(s=>B(s,n));return{...t,nodeKind:"operation",operationKind:e,operator:r||e,explanation:a}},t_=function(e){let r=this.evaluateNode(e.explanation[0]),t={...e,missingVariables:{}};if(r.nodeValue===null&&["<",">","<=",">=","/","*","-","et"].includes(e.operationKind)||r.nodeValue===0&&["/","*"].includes(e.operationKind)||r.nodeValue===!1&&e.operationKind==="et"||r.nodeValue===!0&&e.operationKind==="ou")return{...t,nodeValue:e.operationKind==="et"?!1:r.nodeValue,missingVariables:r.missingVariables};let n=this.evaluateNode(e.explanation[1]);if(t.explanation=[r,n],e.operationKind==="/"&&n.nodeValue===0)throw new K("EvaluationError","Division by zero",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(n.nodeValue===null&&["<",">","<=",">=","/","*","et"].includes(e.operationKind)||n.nodeValue===0&&["*"].includes(e.operationKind)||n.nodeValue===!1&&e.operationKind==="et"||n.nodeValue===!0&&e.operationKind==="ou")return{...t,nodeValue:e.operationKind==="et"?!1:n.nodeValue,missingVariables:n.missingVariables};t.missingVariables=rr([r,n]),(r.nodeValue===void 0||n.nodeValue===void 0)&&(t={...t,nodeValue:void 0});const a=["+","-"].includes(e.operationKind)&&ur(n.unit)==="%"&&ur(r.unit)!=="%";if(!("nodeValue"in t)&&!["/","*"].includes(e.operationKind)&&!a)try{r.unit&&"unit"in n?n=it(r.unit,n):n.unit&&(r=it(n.unit,r))}catch(m){Sa(this.context.logger,`Dans l'expression '${e.operationKind}', la partie gauche (unitÃ©: ${ur(r.unit)}) n'est pas compatible avec la partie droite (unitÃ©: ${ur(n.unit)})`,{dottedName:this.cache._meta.evaluationRuleStack[0]},m)}const s=Zc[e.operationKind][0],o=r.nodeValue,u=n.nodeValue;if(t.nodeValue="nodeValue"in t?t.nodeValue:["<",">","<=",">=","*","/"].includes(e.operationKind)&&n.nodeValue===null?null:[o,u].every(m=>typeof m=="string"&&m.match?.(/^[\d]{2}\/[\d]{2}\/[\d]{4}$/))?s(Ci(o),Ci(u)):s(o,u),e.operationKind==="*"&&Nr("*",[r.unit,n.unit])?.numerators.includes("%")){let m=Nr("*",[r.unit,n.unit]);const l=t.nodeValue;return{...t,nodeValue:typeof l=="number"?l/100:l,unit:Nr("*",[m,{numerators:[],denominators:["%"]}])}}if(a){let m=Nr("*",[r.unit,n.unit]);return{...t,nodeValue:typeof r.nodeValue=="number"&&typeof n.nodeValue=="number"?r.nodeValue*(1+n.nodeValue/100*(e.operationKind==="-"?-1:1)):t.nodeValue,unit:Nr("*",[m,{numerators:[],denominators:["%"]}])}}return e.operationKind==="*"||e.operationKind==="/"||e.operationKind==="-"||e.operationKind==="+"?{...t,unit:Nr(e.operationKind,[r.unit,n.unit])}:t};Ee("operation",t_);var n_=Object.fromEntries(Object.entries(Zc).map(([e,[r,t]])=>[e,r_(e,t)])),a_=n_,i_=Cr("par dÃ©faut",{"par dÃ©faut":{},valeur:{}},{condition:{si:{"est non dÃ©fini":"valeur"},alors:"par dÃ©faut",sinon:"valeur"}}),s_=Cr("plafond",{plafond:{},valeur:{}},{condition:{si:{et:["plafond != non","valeur > plafond"]},alors:"plafond",sinon:"valeur"}}),o_=Cr("plancher",{plancher:{},valeur:{}},{condition:{si:{et:["plancher != non","valeur < plancher"]},alors:"plancher",sinon:"valeur"}}),Ou=Cr("produit",{assiette:{},taux:{"par dÃ©faut":"100%"},facteur:{"par dÃ©faut":1},plafond:{"par dÃ©faut":Yr}},{"*":[{"*":["taux","facteur"]},{valeur:"assiette",plafond:"plafond"}],"simplifier l'unitÃ©":"oui"}),u_=function(e){if(this.cache._meta.currentRecalcul===e.explanation.recalculNode)return{...Yr,...e};const r=Object.fromEntries(e.explanation.amendedSituation.filter(([a,s])=>{const o=this.evaluateNode(a),u=this.evaluateNode(s);return o.nodeValue!==u.nodeValue||ur(o.unit)!==ur(u.unit)}).map(([a,s])=>[a.dottedName,s]));let t=this;Object.keys(r).length&&(t=this.shallowCopy().setSituation(r,{keepPreviousSituation:!0}),t.subEngineId=this.subEngines.length,Object.values(r).forEach(a=>t.cache.nodes.set(a,this.evaluate(a))),this.subEngines.push(t)),t.cache._meta.currentRecalcul=e.explanation.recalculNode;const n=t.evaluateNode(e.explanation.recalculNode);return delete t.cache._meta.currentRecalcul,{...e,nodeValue:n.nodeValue,explanation:{...e.explanation,recalcul:n,subEngineId:t.subEngineId},missingVariables:n.missingVariables,..."unit"in n&&{unit:n.unit}}},l_=(e,r)=>{const t=Object.keys(e.avec).map(a=>[B(a,r),B(e.avec[a],r)]);return{explanation:{recalculNode:B(e.rÃ¨gle??r.dottedName,r),amendedSituation:t},nodeKind:"recalcul"}};Ee("recalcul",u_);var c_=function(e){if(this.cache._meta.evaluationRuleStack.slice(1).includes(e.explanation.ruleToSolve))return{...ga,...e};let r=0;const t=this.shallowCopy();t.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],t.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const n=this.context.inversionMaxIterations??25,a=c=>(r++,t.setSituation({[e.explanation.ruleToSolve]:{...ga,nodeValue:c}},{keepPreviousSituation:!0}),t.evaluateNode(e.explanation.valeur)),s=Symbol("inversion failed");let o=s;const u=1;let m=a(u);const l=m.nodeValue,v=m.unit;return l!==void 0&&(o=Xc(_=>_===u?l-u:(m=a(_),m.nodeValue-_),-1e6,1e8,.5,n,2)),o===s&&(o=void 0,this.cache.inversionFail=!0),o!==void 0&&(m=a(o)),{...e,unit:v,nodeValue:o,explanation:{...e.explanation,valeur:m,numberOfIterations:r},missingVariables:m.missingVariables}};function em(e,r){return{explanation:{ruleToSolve:r.dottedName,valeur:B(e.valeur,r)},nodeKind:"rÃ©soudre rÃ©fÃ©rence circulaire"}}em.nom="rÃ©soudre la rÃ©fÃ©rence circulaire";Ee("rÃ©soudre rÃ©fÃ©rence circulaire",c_);function rm(e,r){return{explanation:B(e.valeur,r),nodeKind:"simplifier unitÃ©"}}rm.nom="simplifier l'unitÃ©";Ee("simplifier unitÃ©",function(r){const t=this.evaluateNode(r.explanation),n=t.nodeValue,a={...t,...r,explanation:t};if(n==null)return a;if(!t.unit)return{...a,unit:t.unit};const s=Pc(t.unit);return{...a,nodeValue:typeof n=="number"?An(t.unit,s,n):n,unit:s}});var m_=Cr("dans la situation",{valeur:{},"dans la situation":{}},{condition:{si:{"est non dÃ©fini":"dans la situation"},alors:"valeur",sinon:"dans la situation"}});function v_(e,r){return{explanation:{assiette:B(e.assiette,r),multiplicateur:e.multiplicateur?B(e.multiplicateur,r):Vr(1),tranches:ys(e.tranches,r)},nodeKind:"taux progressif"}}var $_=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Division by zero",{dottedName:""});const a=ks.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}),s={...e,explanation:{tranches:a,assiette:t,multiplicateur:n},unit:et("%")},o=a[a.length-1];if(a.every(({isActive:d})=>d===!1)||o.isActive&&o.plafond.nodeValue===1/0){const d=it(et("%"),r(o.taux)),{nodeValue:V,missingVariables:C}=d;return o.taux=d,o.nodeValue=V,o.missingVariables=C,{...s,nodeValue:V,missingVariables:C}}if(a.every(({isActive:d})=>d!==!0)||typeof t.nodeValue!="number")return{...s,nodeValue:void 0,missingVariables:rr(a)};const u=a.findIndex(({isActive:d})=>d===!0),m=a[u];m.taux=it(et("%"),r(m.taux));const l=a[u-1];l&&(l.taux=it(et("%"),r(l.taux)),l.isActive=!0);const v=l?l.taux:m.taux,c=[v,m.taux];if(c.some(d=>d.nodeValue===void 0))return m.nodeValue=void 0,{...s,nodeValue:void 0,missingVariables:rr(c)};const p=v.nodeValue,f=m.taux.nodeValue,_=m.plancherValue,h=m.plafondValue,E=(f-p)/(h-_),x=p+(t.nodeValue-_)*E;return m.nodeValue=x,{...s,nodeValue:x,missingVariables:{}}};Ee("taux progressif",$_);var Cs="texte";function ji(e,r){const t=[];let n=0;for(const{0:a,index:s}of e.matchAll(/{{(.|\n)*?}}/g)){const o=a.slice(2,-2).trim(),u=B(o,r);t.push(e.substring(n,s),u),n=(s??0)+a.length}return t.push(e.slice(n)),{nodeKind:Cs,explanation:t}}ji.nom=Cs;Ee(Cs,function(r){const t=r.explanation.map(n=>typeof n=="string"?n:this.evaluateNode(n));return{...r,explanation:t,missingVariables:rr(r.explanation.filter(n=>typeof n!="string")),nodeValue:t.map(n=>typeof n=="string"?n:_1(n)).join("")}});var f_=zt("toutes ces conditions",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({et:[r,t]}),"oui")),d_=zt("une de ces conditions",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({ou:[r,t]}),"non"));function Aa(e,r){const t=B(e.valeur,r),n=et(e.unitÃ©,r.getUnitKey);return{explanation:t,unit:n,nodeKind:Aa.nom}}Aa.nom="unitÃ©";Ee(Aa.nom,function(r){const t=this.evaluateNode(r.explanation);let n=t.nodeValue;if(n!==null&&"unit"in r)try{n=An(t.unit,r.unit,t.nodeValue)}catch(a){Sa(this.context.logger,"Erreur lors de la conversion d'unitÃ© explicite",{dottedName:this.cache._meta.evaluationRuleStack[0]},a)}return{...r,nodeValue:n,explanation:t,missingVariables:t.missingVariables}});function Da(e,r){return{missingVariable:e["variable manquante"],nodeKind:Da.nom,explanation:B(e.valeur,r)}}Da.nom="variable manquante";Ee(Da.nom,function(r){const t=this.evaluateNode(r.explanation),n=Object.values(t.missingVariables).reduce((a,s)=>a>s?a:s,0);return{...r,nodeValue:t.nodeValue,unit:t.unit,explanation:t,missingVariables:mt(t.missingVariables,{[r.missingVariable]:n+1})}});var p_=(e,r,t)=>{if(e==="valeur")return B(r,t);const{variations:n,...a}=r;return B({variations:n.map(({alors:o,sinon:u,si:m})=>{const{attributs:l,...v}=o??u;return{[o!==void 0?"alors":"sinon"]:{...l,[e]:{...a,...v}},...m!==void 0&&{si:m}}})},t)};function b_(e,r){return{explanation:e.map(({si:n,alors:a,sinon:s})=>s!==void 0?{consequence:B(s,r),condition:Vr(!0)}:{consequence:B(a,r),condition:B(n,r)}),nodeKind:"variations"}}var h_=function(e){const[r,t,n]=e.explanation.reduce(([a,s,o,u],{condition:m,consequence:l},v)=>{if(u===!0)return[a,[...s,{condition:m,consequence:l}],o,u];const c=this.evaluateNode(m),p=u===void 0?u:!u&&(c.nodeValue===void 0?void 0:c.nodeValue!==!1&&c.nodeValue!==null);if(p===!1||p===null)return[a,[...s,{condition:c,consequence:l}],o,u];let f;if(c.nodeValue!==!1&&c.nodeValue!==null&&(f=this.evaluateNode(l),o))try{f=it(o,f)}catch(_){Sa(this.context.logger,`L'unitÃ© de la branche nÂ° ${v+1} du mÃ©canisme 'variations' n'est pas compatible avec celle d'une branche prÃ©cÃ©dente`,{dottedName:this.cache._meta.evaluationRuleStack[0]},_)}return[p&&f?.nodeValue,[...s,{condition:c,consequence:f??l}],o||f?.unit,u||p]},[null,[],void 0,!1]);return{...e,nodeValue:r,...n!==void 0&&{unit:n},explanation:t,missingVariables:t.reduce((a,{condition:s,consequence:o})=>mt(a,mt(Ac(s.missingVariables),"nodeValue"in s&&s.nodeValue!==!1&&s.nodeValue!==null?o.missingVariables:{})),{})}};Ee("variations",h_);var g_=Sc(Cg(),1),Bn=([e,,r,,t])=>({[r.value.toLowerCase()]:[e,t]}),__=([e,,r])=>({[e]:[_t([{value:"0"}]),r]}),y_=({value:e})=>({variable:e}),Vu=([{value:e}])=>{console.log(e)},_t=([{value:e}])=>({constant:{type:"number",nodeValue:parseFloat(e)}}),k_=e=>({..._t(e),unitÃ©:e[2].value}),ju=([{value:e}])=>({constant:{type:"date",nodeValue:Lc(e)}}),Ha=([{value:e}])=>({constant:{type:"boolean",nodeValue:e==="oui"}}),Au=([{value:e}])=>({constant:{type:"string",nodeValue:e.slice(1,-1)}}),E_=Sc(wg(),1);function de(e){return e[0]}var x_="(?:(?:0?[1-9]|[12][0-9]|3[01])\\/)?(?:0?[1-9]|1[012])\\/\\d{4}",C_="[a-zA-ZÃ-Å¿â¬$%]",w_="[a-zA-ZÃ-Å¿0-9',Â°]",Ai=`${C_}(?:[-']?${w_}+)*`,S_="-?(?:[1-9][0-9]+|[0-9])(?:\\.[0-9]+)?",te=E_.default.compile({"(":"(",")":")","[":"[","]":"]",comparison:[">","<",">=","<=","=","!="],date:new RegExp(x_),boolean:["oui","non"],number:new RegExp(S_),word:new RegExp(Ai),string:[/'.*'/,/".*"/],JSONObject:/{.*}/,additionSubstraction:/[\+-]/,multiplicationDivision:["*","/"],dot:" . ",".":".",space:{match:/[\s]+/,lineBreaks:!0}}),Qt=e=>({value:e.map(r=>r&&r.value).join("")}),zn=([e,r])=>Array.isArray(r)?Qt([e,...r]):e,O_=te,V_=[{name:"main",symbols:["Comparison"],postprocess:de},{name:"main",symbols:["NumericValue"],postprocess:de},{name:"main",symbols:["Date"],postprocess:de},{name:"main",symbols:["NonNumericTerminal"],postprocess:de},{name:"main",symbols:["JSONObject"],postprocess:de},{name:"NumericValue",symbols:["AdditionSubstraction"],postprocess:de},{name:"NumericValue",symbols:["Negation"],postprocess:de},{name:"NumericTerminal",symbols:["Variable"],postprocess:de},{name:"NumericTerminal",symbols:["number"],postprocess:de},{name:"Negation",symbols:[{literal:"-"},te.has("space")?{type:"space"}:space,"Parentheses"],postprocess:__},{name:"Parentheses",symbols:[{literal:"("},te.has("space")?{type:"space"}:space,"NumericValue",te.has("space")?{type:"space"}:space,{literal:")"}],postprocess:([,,e])=>e},{name:"Parentheses",symbols:[{literal:"("},"NumericValue",{literal:")"}],postprocess:([,e])=>e},{name:"Parentheses",symbols:["NumericTerminal"],postprocess:de},{name:"Date",symbols:["Variable"],postprocess:de},{name:"Date",symbols:[te.has("date")?{type:"date"}:ju],postprocess:ju},{name:"Comparison",symbols:["Comparable",te.has("space")?{type:"space"}:space,te.has("comparison")?{type:"comparison"}:comparison,te.has("space")?{type:"space"}:space,"Comparable"],postprocess:Bn},{name:"Comparison",symbols:["Date",te.has("space")?{type:"space"}:space,te.has("comparison")?{type:"comparison"}:comparison,te.has("space")?{type:"space"}:space,"Date"],postprocess:Bn},{name:"Comparable$subexpression$1",symbols:["AdditionSubstraction"]},{name:"Comparable$subexpression$1",symbols:["NonNumericTerminal"]},{name:"Comparable",symbols:["Comparable$subexpression$1"],postprocess:([[e]])=>e},{name:"NonNumericTerminal",symbols:[te.has("boolean")?{type:"boolean"}:Ha],postprocess:Ha},{name:"NonNumericTerminal",symbols:[te.has("string")?{type:"string"}:Au],postprocess:Au},{name:"Variable$ebnf$1",symbols:[]},{name:"Variable$ebnf$1$subexpression$1",symbols:[te.has("dot")?{type:"dot"}:dot,"Words"],postprocess:Qt},{name:"Variable$ebnf$1",symbols:["Variable$ebnf$1","Variable$ebnf$1$subexpression$1"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Variable",symbols:["Words","Variable$ebnf$1"],postprocess:e=>y_(zn(e))},{name:"Words$ebnf$1$subexpression$1$ebnf$1",symbols:[te.has("space")?{type:"space"}:space],postprocess:de},{name:"Words$ebnf$1$subexpression$1$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Words$ebnf$1$subexpression$1",symbols:["Words$ebnf$1$subexpression$1$ebnf$1","WordOrNumber"],postprocess:Qt},{name:"Words$ebnf$1",symbols:["Words$ebnf$1$subexpression$1"]},{name:"Words$ebnf$1$subexpression$2$ebnf$1",symbols:[te.has("space")?{type:"space"}:space],postprocess:de},{name:"Words$ebnf$1$subexpression$2$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Words$ebnf$1$subexpression$2",symbols:["Words$ebnf$1$subexpression$2$ebnf$1","WordOrNumber"],postprocess:Qt},{name:"Words$ebnf$1",symbols:["Words$ebnf$1","Words$ebnf$1$subexpression$2"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Words",symbols:["WordOrKeyword","Words$ebnf$1"],postprocess:zn},{name:"Words",symbols:[te.has("word")?{type:"word"}:Ai],postprocess:de},{name:"WordOrKeyword",symbols:[te.has("word")?{type:"word"}:Ai],postprocess:de},{name:"WordOrKeyword",symbols:[te.has("boolean")?{type:"boolean"}:Ha],postprocess:de},{name:"WordOrNumber",symbols:["WordOrKeyword"],postprocess:de},{name:"WordOrNumber",symbols:[te.has("number")?{type:"number"}:_t],postprocess:de},{name:"UnitDenominator$ebnf$1$subexpression$1",symbols:[te.has("space")?{type:"space"}:space]},{name:"UnitDenominator$ebnf$1",symbols:["UnitDenominator$ebnf$1$subexpression$1"],postprocess:de},{name:"UnitDenominator$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"UnitDenominator",symbols:["UnitDenominator$ebnf$1",{literal:"/"},"Words"],postprocess:Qt},{name:"UnitNumerator$ebnf$1$subexpression$1",symbols:[{literal:"."},"Words"]},{name:"UnitNumerator$ebnf$1",symbols:["UnitNumerator$ebnf$1$subexpression$1"],postprocess:de},{name:"UnitNumerator$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"UnitNumerator",symbols:["Words","UnitNumerator$ebnf$1"],postprocess:zn},{name:"Unit$ebnf$1",symbols:["UnitNumerator"],postprocess:de},{name:"Unit$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Unit$ebnf$2",symbols:[]},{name:"Unit$ebnf$2",symbols:["Unit$ebnf$2","UnitDenominator"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Unit",symbols:["Unit$ebnf$1","Unit$ebnf$2"],postprocess:zn},{name:"AdditionSubstraction",symbols:["AdditionSubstraction",te.has("space")?{type:"space"}:space,te.has("additionSubstraction")?{type:"additionSubstraction"}:additionSubstraction,te.has("space")?{type:"space"}:space,"MultiplicationDivision"],postprocess:Bn},{name:"AdditionSubstraction",symbols:["MultiplicationDivision"],postprocess:de},{name:"MultiplicationDivision",symbols:["MultiplicationDivision",te.has("space")?{type:"space"}:space,te.has("multiplicationDivision")?{type:"multiplicationDivision"}:multiplicationDivision,te.has("space")?{type:"space"}:space,"Parentheses"],postprocess:Bn},{name:"MultiplicationDivision",symbols:["Parentheses"],postprocess:de},{name:"number",symbols:[te.has("number")?{type:"number"}:_t],postprocess:_t},{name:"number$ebnf$1$subexpression$1",symbols:[te.has("space")?{type:"space"}:space]},{name:"number$ebnf$1",symbols:["number$ebnf$1$subexpression$1"],postprocess:de},{name:"number$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"number",symbols:[te.has("number")?{type:"number"}:_t,"number$ebnf$1","Unit"],postprocess:k_},{name:"JSONObject",symbols:[te.has("JSONObject")?{type:"JSONObject"}:Vu],postprocess:Vu}],j_="main",A_={Lexer:O_,ParserRules:V_,ParserStart:j_},{Grammar:D_,Parser:I_}=g_.default,N_=D_.fromCompiled(A_),Di=new I_(N_),q_=Di.save();function F_(e,r){const t=(e+"").replace(/\s*\n\s*/g," ").trim();try{Di.restore(q_);const[n]=Di.feed(t).results;if(n==null)throw new K("InternalError",`
Un problÃ¨me est survenu lors du parsing de l'expression \`${t}\` :

	le parseur Nearley n'a pas rÃ©ussi Ã  parser l'expression.
`,{dottedName:r});return n}catch(n){throw n instanceof K?n:new K("SyntaxError",`\`${t}\` n'est pas une expression valide`,{dottedName:r},n)}}function P_(e,r){if(!r.dottedName)throw new jn({message:"Une rÃ©fÃ©rence ne peut pas exister en dehors d'une rÃ¨gle (`context.dottedName` est vide)",context:r});return{nodeKind:"reference",name:e,contextDottedName:r.dottedName}}Ee("reference",function(r){if(!r.dottedName)throw new jn(r);const t=this.evaluateNode(this.context.parsedRules[r.dottedName]);return delete t.sourceMap,{...t,...r}});function B(e,r){if(e==null)throw new K("SyntaxError",`
	Une des valeurs de la formule est vide.
	VÃ©rifiez que tous les champs Ã  droite des deux points sont remplis`,{dottedName:r.dottedName});if(typeof e=="boolean")throw new K("SyntaxError",`
Les valeurs boolÃ©ennes true / false ne sont acceptÃ©es.
Utilisez leur contrepartie franÃ§aise : 'oui' / 'non'`,{dottedName:r.dottedName});const t=typeof e=="object"?e:F_(e,r.dottedName);return"nodeKind"in t?t:"nom"in t?L1(t,r):{...T_(t,r),rawNode:e}}function Du(e,r){if(Array.isArray(e))throw new K("SyntaxError",`
Il manque le nom du mÃ©canisme pour le tableau : [${e.map(o=>`'${o}'`).join(", ")}]
Les mÃ©canisme possibles sont : 'somme', 'le maximum de', 'le minimum de', 'toutes ces conditions', 'une de ces conditions'.
		`,{dottedName:r.dottedName});const t=Object.keys(e);if(t.length>1)throw new K("SyntaxError",`
Les mÃ©canismes suivants se situent au mÃªme niveau : ${t.map(o=>`'${o}'`).join(", ")}
Cela vient probablement d'une erreur dans l'indentation
	`,{dottedName:r.dottedName});if(t.length===0)return{nodeKind:"constant",nodeValue:void 0};const n=t[0],a=e[n],s=nm[n];if(!s)throw new K("SyntaxError",`Le mÃ©canisme "${n}" est inconnu.

VÃ©rifiez qu'il n'y ait pas d'erreur dans l'orthographe du nom.`,{dottedName:r.dottedName});try{return a?.composantes?u1(n,a,r):a?.variations&&Object.values(a).length>1?p_(n,a,r):s(a,r)}catch(o){throw o instanceof K?o:new K("SyntaxError",n?`â¡ï¸ Dans le mÃ©canisme ${n}
${o.message}`:o.message,{dottedName:r.dottedName})}}var tm=[Da,Mc,Gg,Z1,Va,Aa,rm,o_,s_,i_,m_,em,Kg];function T_(e,r){const t=tm.find(s=>s.nom in e);if(!t)return Du(e,r);const{[t.nom]:n,...a}=e;return Du({[t.nom]:{valeur:a,[t.nom]:n}},r)}var nm={...a_,...tm.reduce((e,r)=>({[r.nom]:r,...e}),{}),"inversion numÃ©rique":W1,"le maximum de":K1,"le minimum de":G1,"taux progressif":v_,"toutes ces conditions":f_,"est non dÃ©fini":zc,"est non applicable":Yc,"est applicable":d1,"est dÃ©fini":f1,"une de ces conditions":d_,"une possibilitÃ©":e_,condition:Rc,barÃ¨me:i1,durÃ©e:$1,grille:J1,multiplication:Ou,produit:Ou,recalcul:l_,somme:Q1,moyenne:Y1,[ji.nom]:ji,valeur:B,variable:P_,variations:b_,constant:e=>({type:e.type,fullPrecision:!0,isNullable:e.nodeValue==null,missingVariables:{},nodeValue:e.nodeValue,nodeKind:"constant"})},M_=Object.keys(nm);function dn(e){return{dottedName:"",logger:console,getUnitKey:r=>r,parsedRules:{},referencesMaps:{referencesIn:new Map,rulesThatUse:new Map},nodesTypes:new WeakMap,rulesReplacements:{},...e}}function Ua(e){return{...e,parsedRules:{...e.parsedRules},referencesMaps:{referencesIn:new Map(e.referencesMaps.referencesIn),rulesThatUse:new Map(e.referencesMaps.rulesThatUse)}}}function Zn(e,r=dn({})){if(typeof e=="string")throw new K("EngineError","Publicodes does not parse yaml rule sets itself anymore. Please provide a parsed js object. E.g. the `eemeli/yaml` package.",{});let t=qt(e);const n=dn(r);let a=n.parsedRules;n.parsedRules={};for(const v in t){let c=t[v];if((typeof c=="string"||typeof c=="number")&&(c={valeur:`${c}`}),typeof c!="object")throw new K("SyntaxError",`Rule ${v} is incorrectly written. Please give it a proper value.`,{dottedName:v});const p=qt(c);p.nom=v,B(p,n)}let s={};for(const v in a)s[v]=a[v];for(const v in n.parsedRules)s[v]=n.parsedRules[v];let[o,u]=R_(s,n.parsedRules,n.referencesMaps),m;[s,m]=M1({parsedRules:s,newRules:o,referencesMaps:u,previousReplacements:n.rulesReplacements,logger:n.logger});const l=Wg(Object.keys(o),s,n.nodesTypes);return{parsedRules:s,nodesTypes:l,referencesMaps:u,rulesReplacements:m}}function R_(e,r,t){const n=ha(o=>Oi(o,e)),a=ha(o=>{const u=Oi(o,e);return u&&xs(u,t),u});return[Vg(o=>o.nodeKind==="replacementRule"?n(o):a(o),r),t]}var Jn=()=>({_meta:{evaluationRuleStack:[],parentRuleStack:[],traversedVariablesStack:[]},nodes:new Map}),L_=class am{constructor(r={},t={}){fe(this,"baseContext");fe(this,"context");fe(this,"publicParsedRules");fe(this,"cache",Jn());fe(this,"subEngines",[]);fe(this,"subEngineId");fe(this,"checkExperimentalRule",Oc(r=>(r.nodeKind==="reference"&&Si(this.context.parsedRules,r.dottedName)&&$u(this.baseContext.logger,r.dottedName),"continue")));const n={dottedName:"",...t};this.baseContext=dn({...n,...Zn(r,n)}),this.context=this.baseContext,this.publicParsedRules={};for(const a in this.baseContext.parsedRules){const s=this.baseContext.parsedRules[a];!s.private&&ja(this.baseContext.parsedRules,"",a)&&(this.publicParsedRules[a]=s)}}resetCache(){this.cache=Jn()}setSituation(r={},t={}){this.resetCache();const n=t.keepPreviousSituation??!1;Object.keys(r).forEach(o=>{if(!(o in this.baseContext.parsedRules))throw new K("EvaluationError",`Erreur lors de la mise Ã  jour de la situation : ${o} n'existe pas dans la base de rÃ¨gle.`,{dottedName:o});if(this.baseContext.parsedRules[o].private)throw new K("EvaluationError",`Erreur lors de la mise Ã  jour de la situation : ${o} est une rÃ¨gle privÃ©e (il n'est pas possible de modifier une rÃ¨gle privÃ©e).`,{dottedName:o})});const a=Object.fromEntries(Object.entries(r).map(([o,u])=>[`[privÃ©] ${o} . $SITUATION`,u&&typeof u=="object"&&"nodeKind"in u?{valeur:u}:u])),s=Ua(this.baseContext);try{this.context={...this.baseContext,...Zn(a,n?this.context:this.baseContext)}}catch(o){throw this.baseContext=s,o}return this.baseContext=s,Object.keys(r).forEach(o=>{Si(this.context.parsedRules,o)&&$u(this.baseContext.logger,o),this.checkExperimentalRule(this.context.parsedRules[`${o} . $SITUATION`])}),this}inversionFail(){return!!this.cache.inversionFail}getRule(r){if(!(r in this.baseContext.parsedRules))throw new K("UnknownRule",`La rÃ¨gle '${r}' n'existe pas`,{dottedName:r});if(!(r in this.publicParsedRules))throw new K("PrivateRule",`La rÃ¨gle ${r} est une rÃ¨gle privÃ©e.`,{dottedName:r});return this.publicParsedRules[r]}getParsedRules(){return this.publicParsedRules}evaluate(r){const t=this.cache.nodes.get(r);if(t)return t;this.context={...this.context,...Zn({"[privÃ©] $EVALUATION":r&&typeof r=="object"&&"nodeKind"in r?{valeur:r}:r},this.context)},this.checkExperimentalRule(this.context.parsedRules.$EVALUATION),this.cache._meta=Jn()._meta;const n=this.evaluateNode(this.context.parsedRules.$EVALUATION.explanation.valeur);return this.cache.nodes.set(r,n),n}evaluateNode(r){const t=this.cache.nodes.get(r);if(t!==void 0)return t.traversedVariables?.forEach(s=>this.cache._meta.traversedVariablesStack[0]?.add(s)),t;if(!sn[r.nodeKind])throw new K("EvaluationError",`Unknown "nodeKind": ${r.nodeKind}`,{dottedName:""});const n=this.cache._meta.traversedVariablesStack.length===0||r.nodeKind==="rule";n&&this.cache._meta.traversedVariablesStack.unshift(new Set),r.nodeKind==="reference"&&r.dottedName&&r.dottedName in this.publicParsedRules&&this.cache._meta.traversedVariablesStack[0].add(r.dottedName);const a=sn[r.nodeKind].call(this,r);return n&&(a.traversedVariables=Array.from(this.cache._meta.traversedVariablesStack.shift()??[]),this.cache._meta.traversedVariablesStack.length>0&&a.traversedVariables.forEach(s=>{this.cache._meta.traversedVariablesStack[0].add(s)})),this.cache.nodes.set(r,a),a}shallowCopy(){const r=new am;return r.baseContext=Ua(this.baseContext),r.context=Ua(this.context),r.publicParsedRules=this.publicParsedRules,r.cache={...Jn(),nodes:new Map(this.cache.nodes)},r}};class B_ extends L_{constructor(t,n){super(t);fe(this,"elmApp");this.elmApp=n}setSituation(t,n){return this.elmApp.ports.situationUpdated.send(null),super.setSituation(t,n)}evaluateAll(t){const n=t.map(a=>{const s=super.evaluate(a);return[a,{nodeValue:s.nodeValue??null,isNullable:s?.isNullable??!1,missingVariables:Object.keys(s.missingVariables)}]});return this.elmApp.ports.evaluatedRules.send(n),n}}const z_={titre:"Alimentation",formule:{somme:["repas","petits dÃ©jeuners","boissons","ecocups","dÃ©chets","artistes"]},unitÃ©:"kgCO2e",note:`A ajouter dans une V2 ?
  - Part de nourriture bio sur l'ensemble des repas
  - Part de nourriture de saison sur l'ensemble des repas
  - Part de nourriture locale sur l'ensemble des repas
  - Prise en compte du gaspillage ?
`},J_={titre:"Communication",formule:{somme:["merchandising","textile bÃ©nÃ©voles","numÃ©rique","impressions"]},unitÃ©:"kgCO2e"},H_=null,U_={titre:"Infrastructures",formule:{somme:["bÃ¢timents","scÃ©nographie","toilettes"]},unitÃ©:"kgCO2e"},W_={titre:"RÃ©sultats"},K_={titre:"Transport",formule:{somme:["public","artistes"]},unitÃ©:"kgCO2e"},G_=null,Q_=null,im={alimentation:z_,"alimentation . artistes":{titre:"Alimentation des artistes",formule:{somme:["repas","petits dÃ©jeuners","eau en bouteille"]},note:`Par dÃ©faut, on considÃ¨re que les artistes consomment un repas sur place, un petit dÃ©jeuner s'ils sont hÃ©bergÃ©s.
`},"alimentation . artistes . repas":{formule:{recalcul:{rÃ¨gle:"alimentation . repas",avec:{"informations . nombre de repas total":"informations . nombre artistes * 1 repas","alimentation . repas . proposition":"alimentation . artistes . repas . type"}}}},"alimentation . artistes . repas . type":{titre:"RÃ©gime alimentaire des artistes",question:"Quelle type de rÃ©gime alimentaire prÃ©voyez-vous pour les artistes ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["vÃ©gÃ©talien","vÃ©gÃ©tarien","mixte vÃ©gÃ© viande","viande uniquement"]}},"par dÃ©faut":"'mixte vÃ©gÃ© viande'"},"alimentation . artistes . repas . type . vÃ©gÃ©talien":{titre:"Uniquement vÃ©gan"},"alimentation . artistes . repas . type . vÃ©gÃ©tarien":{titre:"Uniquement vÃ©gÃ©tarien"},"alimentation . artistes . repas . type . mixte vÃ©gÃ© viande":{titre:"Mixte vÃ©gÃ©tarien / viande"},"alimentation . artistes . repas . type . viande uniquement":{titre:"Uniquement carnÃ©"},"alimentation . artistes . petits dÃ©jeuners":{"applicable si":"hÃ©bergement . artistes . prÃ©sent",formule:{recalcul:{rÃ¨gle:"alimentation . petits dÃ©jeuners",avec:{"alimentation . petits dÃ©jeuners . nombre":"informations . nombre artistes * 1 repas"}}}},"alimentation . artistes . eau en bouteille":{"applicable si":"prÃ©sent",formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte",note:`On fait l'hypothÃ¨se que les artistes consomment de l'eau en bouteille.
Si eau en bouteille: 0.27 kgCO2e/l
`},"alimentation . artistes . eau en bouteille . prÃ©sent":{titre:"Eau en bouteille pour les artistes",question:"Allez-vous prÃ©voir de l'eau en bouteille pour les artistes ?","par dÃ©faut":"oui"},"alimentation . artistes . eau en bouteille . quantitÃ©":{formule:"0.5 l * informations . nombre artistes"},"nosgestesclimat . alimentation . boisson . tasse de cafÃ©":{titre:"Empreinte d'une tasse de cafÃ©",formule:"empreinte cafÃ© moulu * quantitÃ© cafÃ© par tasse",unitÃ©:"kgCO2e/tasse",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de cafÃ© . empreinte cafÃ© moulu":{formule:10.09,unitÃ©:"kgCO2e/kg",note:"Facteur d'Ã©mission issu d'[Agibalyse, cafÃ© moulu](https://agribalyse.ademe.fr/app/aliments/18003#Caf%C3%A9,_moulu).",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de cafÃ© . quantitÃ© cafÃ© par tasse":{formule:.012,unitÃ©:"kg/tasse",note:"on fait l'hypothÃ¨se qu'une tasse de cafÃ© contient en moyenne 12 grammes de cafÃ© moulu.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ©":{titre:"Empreinte d'une tasse de thÃ©",formule:"empreinte thÃ© infusÃ© sans consommation * quantitÃ© thÃ© par tasse",unitÃ©:"kgCO2e/tasse",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . empreinte thÃ© infusÃ© sans consommation":{formule:"empreinte thÃ© infusÃ© * (1 - part consommation empreinte thÃ© infusÃ©)",unitÃ©:"kgCO2e/kg",note:`Pour l'empreinte d'une tasse de cafÃ© ou chocolat chaud, la part liÃ©e Ã  la consommation (chauffage de l'eau notamment) n'est pas prise en compte dans le facteur d'Ã©mission
ce qui n'est pas le cas du facteur d'Ã©mission du thÃ© issu d'Agribalyse. Si la boisson est bue Ã  domicile, la consommation est dÃ©jÃ  incluse dans la facture Ã©lectrique du logement.
En revanche, si elle est prise dans un cafÃ©, l'empreinte de la consommation doit Ãªtre ajoutÃ©e.
Nous faisons le choix de ne pas inclure la consommation dans les boissons chaudes
(la part liÃ©e Ã  la consommation Ã©tant nÃ©gligeable pour le cafÃ© et chocolat chaud devant les grains de cafÃ© ou le cacao)
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . quantitÃ© thÃ© par tasse":{formule:.25,unitÃ©:"kg/tasse",note:"On fait l'hypothÃ¨se qu'une tasse de thÃ© fait en moyenne 250 grammes.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . empreinte thÃ© infusÃ©":{formule:.04,unitÃ©:"kgCO2e/kg",note:"Facteur d'Ã©mission issu d'[Agibalyse, thÃ© infusÃ© non sucrÃ©](https://agribalyse.ademe.fr/app/aliments/18020#Th%C3%A9_infus%C3%A9,_non_sucr%C3%A9).",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . part consommation empreinte thÃ© infusÃ©":{formule:"25%",note:`Selon la dÃ©composition issu d'[Agibalyse, thÃ© infusÃ© non sucrÃ©](https://agribalyse.ademe.fr/app/aliments/18020#Th%C3%A9_infus%C3%A9,_non_sucr%C3%A9),
la part de consommation dans le facteur d'Ã©mission du thÃ© reprÃ©sente 25%.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur":{formule:{moyenne:["facteur sodas","facteur jus de fruits"]},note:"Cette valeur est bien sÃ»r trÃ¨s approximative.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur sodas":{formule:.51,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, Cola, sucrÃ©](https://agribalyse.ademe.fr/app/aliments/18037#Cola,_sucr%C3%A9,_avec_%C3%A9dulcorants), 0.51 kgCO2e/kg. On considÃ¨re que la masse volumique est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur jus de fruits":{formule:.91,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, Jus multifruit, pur jus, standard](https://agribalyse.ademe.fr/app/aliments/2069#Jus_multifruit,_%C3%A0_base_de_concentr%C3%A9,_standard), 0.91 kgCO2e/kg. On considÃ¨re que la masse volumique est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur":{formule:{moyenne:["facteur biÃ¨re","facteur vin","facteur cocktail"]},note:"Le vin n'a pas la mÃªme empreinte que la biÃ¨re au litre, c'est une grosse simplification.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur biÃ¨re":{formule:1.12,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, biÃ¨re coeur de marchÃ©](https://agribalyse.ademe.fr/app/aliments/5001#Bi%C3%A8re_%22coeur_de_march%C3%A9%22_(4-5%C2%B0_alcool)), 1.12 kgCO2e/kg. On considÃ¨re que la masse volumique de la biÃ¨re est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur vin":{formule:1.22,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, vin blanc sec](https://agribalyse.ademe.fr/app/aliments/5215#Vin_blanc_sec), 1.22 kgCO2e/kg. On considÃ¨re que la masse volumique du vin est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur cocktail":{formule:.91,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, cocktail base rhum](https://agribalyse.ademe.fr/app/aliments/1012#Cocktail_%C3%A0_base_de_rhum), 0.91 kgCO2e/kg. On considÃ¨re que la masse volumique d'un cocktail est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte":{formule:.27,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agibalyse, eau embouteillÃ©e de source](https://agribalyse.ademe.fr/app/aliments/18430#Eau_embouteillÃ©e_de_source).",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"alimentation . boissons":{titre:"Boissons",formule:{somme:["froide","chaude"]}},"alimentation . boissons . froide":{formule:{somme:["eau","eau en bouteille bÃ©nÃ©voles","soft","alcool"]},note:"On fait l'hypothÃ¨se que les boissons ne sont pas servies en bouteilles individuelles."},"alimentation . boissons . froide . eau":{formule:"quantitÃ© * empreinte",note:"On fait l'hypothÃ¨se de fontaine Ã  eau."},"alimentation . boissons . froide . eau . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . eau . quantitÃ© par jour":{formule:"0.5 l * informations . nombre de personnes par jour"},"alimentation . boissons . froide . eau . empreinte":{formule:62e-5,unitÃ©:"kgCO2e/l",note:`Facteur d'Ã©mission issu de la base empreinte "Eau potable, mix de provenances".
Si eau en bouteille: 0.27 kgCO2e/l
`},"alimentation . boissons . froide . eau en bouteille bÃ©nÃ©voles":{"applicable si":"eau en bouteille bÃ©nÃ©voles prÃ©sent",formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte"},"alimentation . boissons . froide . eau en bouteille bÃ©nÃ©voles prÃ©sent":{titre:"Eau en bouteille pour les Ã©quipes",question:"Allez-vous prÃ©voir de l'eau en bouteille pour les Ã©quipes ?","par dÃ©faut":"oui"},"alimentation . boissons . froide . eau en bouteille bÃ©nÃ©voles . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . eau en bouteille bÃ©nÃ©voles . quantitÃ© par jour":{formule:"0.5 l/jour * informations . nombre de bÃ©nÃ©voles"},"alimentation . boissons . froide . soft":{formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur",note:`A priori, le facteur d'Ã©mission d'agribalyse considÃ¨re bien une part d'emballage qui correspond Ã  la bouteille. 
On suppose que ce sont des grands formats.
`},"alimentation . boissons . froide . soft . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . soft . quantitÃ© par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour"},"alimentation . boissons . froide . soft . quantitÃ© par jour et par personne":{titre:'QuantitÃ© de boissons "soft" par personne et par jour',question:'Quelle quantitÃ© de boissons "soft" est consommÃ©e par personne et par jour ?',plancher:0,"par dÃ©faut":.5,unitÃ©:"l"},"alimentation . boissons . froide . alcool":{formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . alcool . facteur",note:`On considÃ¨re ici une moyenne de plusieurs types d'alcool dont le facteur d'Ã©mission est nÃ©anmoins trÃ¨s proche.
On pourrait imaginer sÃ©parer la biÃ¨re du reste ouo considÃ©rer seulement la biÃ¨re.
`},"alimentation . boissons . froide . alcool . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . alcool . quantitÃ© par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour"},"alimentation . boissons . froide . alcool . quantitÃ© par jour et par personne":{titre:"QuantitÃ© d'alcool par personne et par jour",question:"Quelle quantitÃ© d'alcool est consommÃ©e par personne et par jour ?",plancher:0,"par dÃ©faut":.5,unitÃ©:"l"},"alimentation . boissons . chaude":{formule:{somme:["cafÃ©","thÃ©"]}},"alimentation . boissons . chaude . cafÃ©":{formule:"nombre * nosgestesclimat . alimentation . boisson . tasse de cafÃ©"},"alimentation . boissons . chaude . cafÃ© . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . boissons . chaude . cafÃ© . nombre par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour",note:"On fait l'hypothÃ¨se qu'en moyenne, la consommation sera de 1 cafÃ© par personne et par jour."},"alimentation . boissons . chaude . cafÃ© . quantitÃ© par jour et par personne":{titre:"Tasses de cafÃ© par personne et par jour",question:"Quelle quantitÃ© de cafÃ© est consommÃ©e par personne et par jour ?",plancher:0,"par dÃ©faut":1,unitÃ©:"tasse"},"alimentation . boissons . chaude . thÃ©":{formule:"nombre * nosgestesclimat . alimentation . boisson . tasse de thÃ©"},"alimentation . boissons . chaude . thÃ© . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . boissons . chaude . thÃ© . nombre par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour",note:"On fait l'hypothÃ¨se qu'en moyenne, la consommation sera de 1 thÃ© pour 10 personnes par jour."},"alimentation . boissons . chaude . thÃ© . quantitÃ© par jour et par personne":{titre:"Tasses de thÃ© par personne et par jour",question:"Quelle quantitÃ© de thÃ© est consommÃ©e par personne et par jour ?",plancher:0,"par dÃ©faut":"10% * 1 tasse",unitÃ©:"tasse"},"alimentation . dÃ©chets":{formule:{somme:["gobelets * surplus","couverts * surplus","assiettes * surplus"]},unitÃ©:"kgCO2e",note:`DerriÃ¨re la production des dÃ©chets, se cache ici une production et non seulement la comptabilitÃ© de l'empreinte de la fin de vie des dÃ©chets 
finalement assez dÃ©risoire. On a donc ici ce que contiendront les poubelles et qui sont des Ã©lÃ©ments directement issus du festival
(vaisselle en cartons, papier).
`},"alimentation . dÃ©chets . surplus":{formule:"110%",note:`L'objectif ici est d'avoir une idÃ©e de l'impact du reste des dÃ©chets du festival en aplicant un facteur correctif (dÃ©fini arbitrairement)
qui a l'avantage de tenir compte des pratiques du festival.
`},"alimentation . dÃ©chets . recyclage":{titre:"Mise en place du tri sÃ©lectif",question:"Allez-vous mettre en place un tri sÃ©lectif et un recyclage des dÃ©chets ?","par dÃ©faut":"non"},"alimentation . dÃ©chets . gobelets":{"non applicable si":"ecocups prÃ©sent",formule:"2 gobelet * informations . nombre de jours * informations . nombre de personnes par jour * empreinte",unitÃ©:"kgCO2e",note:"On considÃ¨re 2 gobelets par personne par jour."},"alimentation . dÃ©chets . gobelets . empreinte":{formule:{variations:[{si:'gobelets . type = "plastique"',alors:"type . plastique . poids * empreinte plastique par kg"},{si:'gobelets . type = "carton"',alors:"type . carton . poids * empreinte carton par kg"}]},unitÃ©:"kgCO2e/gobelet"},"alimentation . dÃ©chets . gobelets . type":{titre:"Type de gobelets",question:"Quel type de gobelets allez-vous utiliser ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["plastique","carton"]}},"par dÃ©faut":"'plastique'"},"alimentation . dÃ©chets . gobelets . type . plastique":{titre:"Plastique jetable"},"alimentation . dÃ©chets . gobelets . type . plastique . poids":{formule:.01,unitÃ©:"kg/gobelet"},"alimentation . dÃ©chets . gobelets . type . carton":null,"alimentation . dÃ©chets . gobelets . type . carton . poids":{formule:.01,unitÃ©:"kg/gobelet",note:"On considÃ¨re 10g par gobelet."},"alimentation . dÃ©chets . couverts":{formule:"2 couvert/repas * informations . nombre de jours * informations . nombre de repas par jour * empreinte",unitÃ©:"kgCO2e"},"alimentation . dÃ©chets . couverts . empreinte":{formule:{variations:[{si:'couverts . type = "plastique"',alors:"type . plastique . poids * empreinte plastique par kg"},{si:'couverts . type = "bois"',alors:"type . bois . poids * empreinte bois par kg"}]},unitÃ©:"kgCO2e/couvert"},"alimentation . dÃ©chets . couverts . type":{titre:"Type de couverts",question:"Quel type de couverts allez-vous utiliser ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["plastique","bois"]}},"par dÃ©faut":"'plastique'"},"alimentation . dÃ©chets . couverts . type . plastique":{titre:"Plastique jetable"},"alimentation . dÃ©chets . couverts . type . plastique . poids":{formule:.002,unitÃ©:"kg/couvert"},"alimentation . dÃ©chets . couverts . type . bois":null,"alimentation . dÃ©chets . couverts . type . bois . poids":{formule:.002,unitÃ©:"kg/couvert",note:"On considÃ¨re 2g par couvert."},"alimentation . dÃ©chets . assiettes":{formule:"1 assiette/repas * informations . nombre de jours * informations . nombre de repas par jour * empreinte",unitÃ©:"kgCO2e"},"alimentation . dÃ©chets . assiettes . empreinte":{formule:{variations:[{si:'assiettes . type = "plastique"',alors:"type . plastique . poids * empreinte plastique par kg"},{si:'assiettes . type = "carton"',alors:"type . carton . poids * empreinte carton par kg"}]},unitÃ©:"kgCO2e/assiette"},"alimentation . dÃ©chets . assiettes . type":{titre:"Type d'assiettes",question:"Quel type de gobelets allez-vous utiliser ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["plastique","carton"]}},"par dÃ©faut":"'plastique'"},"alimentation . dÃ©chets . assiettes . type . plastique":{titre:"Plastique jetable"},"alimentation . dÃ©chets . assiettes . type . plastique . poids":{formule:.005,unitÃ©:"kg/assiette"},"alimentation . dÃ©chets . assiettes . type . carton":null,"alimentation . dÃ©chets . assiettes . type . carton . poids":{formule:.005,unitÃ©:"kg/assiette",note:"On considÃ¨re 10g par assiette."},"alimentation . dÃ©chets . empreinte plastique par kg":{formule:"fabrication + fin de vie",unitÃ©:"kgCO2e/kg",note:`On considÃ¨re du platisque polypropylÃ¨ne (PP) neuf et l'impact fin de vie.
`},"alimentation . dÃ©chets . empreinte plastique par kg . fabrication":{formule:2,unitÃ©:"kgCO2e/kg",note:`On considÃ¨re du platisque polypropylÃ¨ne (PP) neuf.
FE issus de la base empreinte (PP - polypropylÃ¨ne)
`},"alimentation . dÃ©chets . empreinte plastique par kg . fin de vie":{formule:{variations:[{si:"recyclage",alors:"fin de vie recyclage"},{sinon:"fin de vie non recyclÃ©"}]},unitÃ©:"kgCO2e/kg"},"alimentation . dÃ©chets . empreinte plastique par kg . fin de vie recyclage":{formule:.434,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Plastique rigide PP bouteilles/Recyclage - Impacts)
`},"alimentation . dÃ©chets . empreinte plastique par kg . fin de vie non recyclÃ©":{formule:2.77,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Plastique pÃ©trosourcÃ© PP/IncinÃ©ration - Impacts)
`},"alimentation . dÃ©chets . empreinte carton par kg":{formule:"fabrication + fin de vie",unitÃ©:"kgCO2e/kg",note:`On considÃ¨re que le carton est recyclÃ© (hypothÃ¨se conservatrice, contrairement Ã  ce qu'on peut penser, 
le carton recyclÃ© est plus impactant que le carton neuf).
`},"alimentation . dÃ©chets . empreinte carton par kg . fabrication":{formule:.67,unitÃ©:"kgCO2e/kg",note:`On considÃ¨re que le carton est recyclÃ© (hypothÃ¨se conservatrice, contrairement Ã  ce qu'on peut penser, 
le carton recyclÃ© est plus impactant que le carton neuf).

FE issus de la base empreinte (Carton/recyclÃ©)
`},"alimentation . dÃ©chets . empreinte carton par kg . fin de vie":{formule:{variations:[{si:"recyclage",alors:"fin de vie recyclage"},{sinon:"fin de vie non recyclÃ©"}]},unitÃ©:"kgCO2e/kg"},"alimentation . dÃ©chets . empreinte carton par kg . fin de vie recyclage":{formule:.992,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Carton/Recyclage - Impacts)
`},"alimentation . dÃ©chets . empreinte carton par kg . fin de vie non recyclÃ©":{formule:.12,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Carton/IncinÃ©ration - Impacts)
`},"alimentation . dÃ©chets . empreinte bois par kg":{formule:"fabrication + fin de vie",unitÃ©:"kgCO2e/kg",note:`On considÃ¨re que le carton est recyclÃ© (hypothÃ¨se conservatrice, contrairement Ã  ce qu'on peut penser, 
le carton recyclÃ© est plus impactant que le carton neuf).
`},"alimentation . dÃ©chets . empreinte bois par kg . fabrication":{formule:.67,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Carton/recyclÃ©)
`},"alimentation . dÃ©chets . empreinte bois par kg . fin de vie":{formule:{variations:[{si:"recyclage",alors:"fin de vie recyclage"},{sinon:"fin de vie non recyclÃ©"}]},unitÃ©:"kgCO2e/kg"},"alimentation . dÃ©chets . empreinte bois par kg . fin de vie recyclage":{formule:.992,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Carton/Recyclage - Impacts)
`},"alimentation . dÃ©chets . empreinte bois par kg . fin de vie non recyclÃ©":{formule:.12,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Carton/IncinÃ©ration - Impacts)
`},"alimentation . ecocups":{"applicable si":"ecocups prÃ©sent",formule:"1 ecocup.jour * informations . nombre de personnes par jour * empreinte / amortissement",unitÃ©:"kgCO2e"},"alimentation . ecocups prÃ©sent":{titre:"Utilisation d'ecocups",question:"Allez-vous utiliser des ecocups pour l'Ã©vÃ©nement ?","par dÃ©faut":"oui"},"alimentation . ecocups . rÃ©utilisation":{titre:"RÃ©utilisation des ecocups",question:"Est-il prÃ©vu de rÃ©utiliser les ecocups pour une autre Ã©dition ?","par dÃ©faut":"non"},"alimentation . ecocups . amortissement":{formule:{variations:[{si:"ecocups . rÃ©utilisation",alors:3},{sinon:1}]},note:"On considÃ¨re que les ecocups servirons sur 3 Ã©ditions."},"alimentation . ecocups . empreinte":{formule:"poids * dÃ©chets . empreinte plastique par kg",unitÃ©:"kgCO2e/ecocup"},"alimentation . ecocups . poids":{formule:.03,unitÃ©:"kg/ecocup"},"nosgestesclimat . alimentation . petit dÃ©jeuner . continental":{titre:"Continental",formule:.289,unitÃ©:"kgCO2e/repas",description:`
> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le \`@incubateur-ademe/nosgestesclimat\`.


Petit dÃ©jeuner avec pain, viennoiserie, beurre, confiture et un fruit.

Voici le menu type utilisÃ© pour notre calcul.

| IngrÃ©dients     | Qte (g) | Kcal  | ProtÃ©ines (g) | Lipides (g) | gCO2e /g | gCO2e |
| --------------- | ------- | ----- | ------------- | ----------- | -------- | ----- |
| Pain            | 50      | 132,5 | 4,5           | 1,6         | 0,67     | 33,5  |
| Vienoiserie     | 50      | 203   | 4             | 10,5        | 1,7      | 85    |
| Beurre demi-sel | 10      | 71,7  | 0,09          | 8,1         | 7,82     | 78,2  |
| Confiture       | 20      | 27,8  | 0,04          | 0,01        | 1,42     | 28,4  |
| Orange          | 100     | 47    | 0,9           | 0,1         | 0,64     | 64    |
| Total           | 230     | 482   | 9,53          | 20,31       |          | 289,1 |
`},"alimentation . petits dÃ©jeuners":{titre:"Petits dÃ©jeuners","applicable si":"petits dÃ©jeuners prÃ©sent",formule:"nombre * nosgestesclimat . alimentation . petit dÃ©jeuner . continental",note:"On considÃ¨re le petits dÃ©jeuner continental de Nos Gestes Climat"},"alimentation . petits dÃ©jeuners prÃ©sent":{titre:"Petits dÃ©jeuners sur l'Ã©vÃ©nement",question:"Proposez-vous des petits dÃ©jeuners sur place ?","par dÃ©faut":"oui"},"alimentation . petits dÃ©jeuners . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . petits dÃ©jeuners . nombre par jour":{formule:"1 repas * informations . nombre de personnes par jour"},"nosgestesclimat . alimentation . plats . vÃ©gÃ©talien . empreinte":{titre:"Empreinte d'un repas vÃ©gÃ©talien",formule:.785,unitÃ©:"kgCO2e/repas",note:`Pour l'instant, en l'absence de repas type vÃ©gÃ©talien dans la [base carbone](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm),
nous prenons l'empreinte du repas vÃ©gÃ©tarien, dans lequel nous substituons les 2 Åufs par du tofu et des noix dans l'entrÃ©e qui devient alors une salade,
en gardant approximativement les mÃªmes quantitÃ©s de calories et de protÃ©ines.

> Note : on peut se demander pourquoi la recette fait mention d'une omelette aux oignons sans inclure les oignons. NÃ©gligeables ? Nous les avons ajoutÃ©s.

Notons finalement que le tofu considÃ©rÃ© ici pourrait Ãªtre remplacÃ© par du soja franÃ§ais et une fabrication du tofu franÃ§aise dÃ©carbonÃ©e, notamment pour Ã©viter la dÃ©forestation et rÃ©duire encore plus les Ã©missions, donnant lieu Ã  un rÃ©gime vÃ©gÃ©talien local. Voir [ce papier](https://www.nature.com/articles/s43016-020-0106-x) Ã  ce propos du soja et de la dÃ©forestation.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . vÃ©gÃ©tarien . empreinte":{titre:"Empreinte d'un repas vÃ©gÃ©tarien",formule:1.115,unitÃ©:"kgCO2e/repas",note:`C'est le "Repas vÃ©gÃ©tarien 1" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), [actualisÃ© avec les facteurs d'Ã©mission Agribalyse](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424).

> Note : on peut se demander pourquoi la recette fait mention d'une omelette aux oignons sans inclure les oignons. NÃ©gligeables ? Nous les avons ajoutÃ©.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . viande 1 . empreinte":{titre:"Empreinte d'un repas de type viande 1 (poulet, porc, fromage)",formule:2.098,unitÃ©:"kgCO2e/repas",note:`C'est le "Repas classique 1 (avec poulet)" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), actualisÃ© avec les facteurs d'Ã©mission Agribalyse.

Le facteur d'Ã©mission associÃ© Ã  l'ingrÃ©dient principal (ici le la piÃ¨ce de volaille ou porc) correspond Ã  une moyenne de facteurs d'Ã©missions associÃ©s au porc (piÃ¨ce de viande et charcuterie), poulet, dinde, canard d'Agribalyse.
Cette moyenne est pondÃ©rÃ©e selon les consommations rÃ©elles des FranÃ§ais par type de viande animale.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1200865486) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . viande 2 . empreinte":{titre:"Empreinte d'un repas de type viande 2 (bÅuf, veau, agneau)",formule:5.51,unitÃ©:"kgCO2e/repas",note:`C'est le "Repas classique 2 (avec bÅuf)" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), actualisÃ© avec les facteurs d'Ã©mission Agribalyse.

Le facteur d'Ã©mission associÃ© Ã  l'ingrÃ©dient principal (ici le la piÃ¨ce de viande rouge) correspond Ã  une moyenne de facteurs d'Ã©missions associÃ©s au bÅuf, agneau, veau d'Agribalyse.
Cette moyenne est pondÃ©rÃ©e selon les consommations rÃ©elles des FranÃ§ais par type de viande animale.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1200865486) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"alimentation . repas":{titre:"Repas",formule:{somme:["vÃ©gÃ©talien","vÃ©gÃ©tarien","viande 1","viande 2"]}},"alimentation . repas . vÃ©gÃ©talien":{formule:"nombre * nosgestesclimat . alimentation . plats . vÃ©gÃ©talien . empreinte"},"alimentation . repas . vÃ©gÃ©talien . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . vÃ©gÃ©talien . proportion":{formule:{variations:[{si:"proposition = 'vÃ©gÃ©talien'",alors:"100%"},{sinon:"0%"}]}},"alimentation . repas . vÃ©gÃ©tarien":{formule:"nombre * nosgestesclimat . alimentation . plats . vÃ©gÃ©tarien . empreinte"},"alimentation . repas . vÃ©gÃ©tarien . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . vÃ©gÃ©tarien . proportion":{formule:{variations:[{si:"proposition = 'vÃ©gÃ©tarien'",alors:"100%"},{si:"proposition = 'mixte vÃ©gÃ© viande'",alors:"proposition . mixte vÃ©gÃ© viande . proportion vÃ©gÃ©tarien"},{sinon:"0%"}]}},"alimentation . repas . viande 1":{formule:"nombre * nosgestesclimat . alimentation . plats . viande 1 . empreinte"},"alimentation . repas . viande 1 . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . viande 1 . proportion":{formule:{variations:[{si:"proposition = 'viande uniquement'",alors:"proposition . choix viande . proportion viande 1"},{si:"proposition = 'mixte vÃ©gÃ© viande'",alors:"proposition . choix viande . proportion viande 1 * proposition . mixte vÃ©gÃ© viande . proportion viande"},{sinon:"0%"}]}},"alimentation . repas . viande 2":{formule:"nombre * nosgestesclimat . alimentation . plats . viande 2 . empreinte"},"alimentation . repas . viande 2 . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . viande 2 . proportion":{formule:{variations:[{si:"proposition = 'viande uniquement'",alors:"proposition . choix viande . proportion viande 2"},{si:"proposition = 'mixte vÃ©gÃ© viande'",alors:"proposition . choix viande . proportion viande 2 * proposition . mixte vÃ©gÃ© viande . proportion viande"},{sinon:"0%"}]}},"alimentation . repas . proposition":{titre:"RÃ©gime des repas proposÃ©s",question:"Quelle type de rÃ©gime alimentaire prÃ©voyez-vous ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["vÃ©gÃ©talien","vÃ©gÃ©tarien","mixte vÃ©gÃ© viande","viande uniquement"]}},"par dÃ©faut":"'mixte vÃ©gÃ© viande'"},"alimentation . repas . proposition . vÃ©gÃ©talien":{titre:"Uniquement vÃ©gan"},"alimentation . repas . proposition . vÃ©gÃ©tarien":{titre:"Uniquement vÃ©gÃ©tarien"},"alimentation . repas . proposition . mixte vÃ©gÃ© viande":{titre:"Mixte vÃ©gÃ©tarien / viande"},"alimentation . repas . proposition . viande uniquement":{titre:"Uniquement carnÃ©"},"alimentation . repas . proposition . mixte vÃ©gÃ© viande . proportion vÃ©gÃ©tarien":{"applicable si":"proposition = 'mixte vÃ©gÃ© viande'",titre:"Proportion de repas vÃ©gÃ©tariens",question:"Comment allez-vous rÃ©partir les rÃ©gimes proposÃ©s ?",plancher:0,plafond:100,"par dÃ©faut":"50%",unitÃ©:"%"},"alimentation . repas . proposition . mixte vÃ©gÃ© viande . proportion viande":{"applicable si":"proposition = 'mixte vÃ©gÃ© viande'",formule:"100% - proportion vÃ©gÃ©tarien",unitÃ©:"%"},"alimentation . repas . proposition . choix viande":{"applicable si":{"une de ces conditions":["proposition = 'mixte vÃ©gÃ© viande'","proposition = 'viande uniquement'"]},titre:"Choix de viande",question:"Proposerez-vous de la viande blanche ou viande rouge ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["viande 1","viande 2","les deux"]}},"par dÃ©faut":"'les deux'"},"alimentation . repas . proposition . choix viande . viande 1":{titre:"Viande blanche"},"alimentation . repas . proposition . choix viande . viande 2":{titre:"Viande rouge"},"alimentation . repas . proposition . choix viande . les deux":{titre:"Les 2"},"alimentation . repas . proposition . choix viande . proportion viande 1":{formule:{variations:[{si:"choix viande = 'viande 1'",alors:"100%"},{si:"choix viande = 'les deux'",alors:"50%"},{sinon:"0%"}]}},"alimentation . repas . proposition . choix viande . proportion viande 2":{formule:{variations:[{si:"choix viande = 'viande 2'",alors:"100%"},{si:"choix viande = 'les deux'",alors:"50%"},{sinon:"0%"}]}},"commun . intensitÃ© Ã©lectricitÃ©":{titre:"IntensitÃ© carbone du mix Ã©lectrique franÃ§ais",description:`
> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [\`@incubateur-ademe/publicodes-commun\`](https://github.com/incubateur-ademe/publicodes-commun).


IntensitÃ© moyenne, tous types de consommations confondues, annÃ©e 2022.`,formule:.052,unitÃ©:"kgCO2e/kWh",note:`Ici, on parle du mix Ã©lectrique de consommation. 
Le chiffre est issu de la Base Empreinte (ElectricitÃ©/2022 - mix moyen/consommation) dont la mÃ©thodologie est dÃ©crite dans la [documentation](https://prod-basecarbonesolo.ademe-dri.fr/documentation/UPLOAD_DOC_FR/).
La v2.6 de MicMac donnait une valeur de 12.4gCO2e/kWh pour les fournisseurs d'Ã©lectricitÃ© "verte", mais cette valeur semble correspondre Ã  un calcul thÃ©orique sur l'annÃ©e, et non pas Ã  un calcul rÃ©el, minute par minute.
`},"commun . mois par an":{titre:"Nombre de mois par an",formule:12,unitÃ©:"mois",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . semaines par an":{titre:"Nombre de semaines par an",formule:52,unitÃ©:"semaine",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . jours par semaine":{titre:"Nombre de jours par semaine",formule:7,unitÃ©:"jour/semaine",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . jours par an":{titre:"Nombre de jours par an",formule:365,unitÃ©:"jour",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},communication:J_,"communication . impressions":{titre:"Impressions",formule:0,unitÃ©:"kgCO2e",note:"A venir"},"communication . merchandising":{titre:"Merchandising",formule:{somme:["textile","plastique"]},unitÃ©:"kgCO2e",note:`Pour cette modÃ©lisation, nous nous inspirons de l'Ã©tude [DÃ©carbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf)
en estimant le chiffre d'affaires rÃ©alisÃ© grÃ¢ce au merchandising rÃ©parti sur diffÃ©rents produits textiles (t-shirts et sweat shirts) 
mais Ã©galement des produits dÃ©rivÃ©s "plastiques".

D'aprÃ¨s [le baromÃ¨tre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
sur les consommations et les achats des festivaliers, le panier moyen pour du merch est de 4â¬ par jour et par personne.

Dans une V2, il s'agira d'affiner l'empreinte carbone associÃ©e aux produits vendu en passant par des FE "physiques"
et en incluant des variations selon l'approvisionnement des produits.
`},"communication . merchandising . surplus production":{formule:"110%",note:`On estime que 10% le surplus de production.
`},"communication . merchandising . chiffre d affaires":{formule:"informations . nombre de festivaliers * merchandising . panier moyen par jour et par personne",unitÃ©:"â¬",note:`D'aprÃ¨s [le baromÃ¨tre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
sur les consommations et les achats des festivaliers, le panier moyen pour du merch est de 4â¬ par jour et par personne.
`},"communication . merchandising . chiffre d affaires . part textile":{formule:"70%"},"communication . merchandising . chiffre d affaires . part plastique":{formule:"30%"},"communication . merchandising . panier moyen par jour et par personne":{formule:4,unitÃ©:"â¬",note:`D'aprÃ¨s [le baromÃ¨tre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
`},"communication . merchandising . textile":{formule:"surplus production * chiffre d affaires . part textile * chiffre d affaires * ratio monÃ©taire",unitÃ©:"kgCO2e"},"communication . merchandising . textile . ratio monÃ©taire":{formule:"ratio monÃ©taire HT / 1.2 â¬/â¬HT",unitÃ©:"kgCO2e/â¬"},"communication . merchandising . textile . ratio monÃ©taire HT":{formule:.6,unitÃ©:"kgCO2e/â¬HT",note:`Facteur d'Ã©mission issu de la base empreinte "Service/Textile et habillement".
`},"communication . merchandising . plastique":{formule:"surplus production * chiffre d affaires . part plastique * chiffre d affaires * ratio monÃ©taire",unitÃ©:"kgCO2e"},"communication . merchandising . plastique . ratio monÃ©taire":{formule:"ratio monÃ©taire HT / 1.2 â¬/â¬HT",unitÃ©:"kgCO2e/â¬"},"communication . merchandising . plastique . ratio monÃ©taire HT":{formule:.8,unitÃ©:"kgCO2e/â¬HT",note:`Facteur d'Ã©mission issu de la base empreinte "Service/Textile et habillement".
`},"communication . numÃ©rique":{titre:"NumÃ©rique",formule:0,unitÃ©:"kgCO2e",note:"A venir"},"nosgestesclimat . divers . textile . t-shirt . empreinte":{formule:5.35,unitÃ©:"kgCO2e",note:"moyenne de l'empreinte des t-shirts en coton et en polyester de la Base Carbone",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . divers . textile . sweat . empreinte":{formule:27.4,unitÃ©:"kgCO2e",note:"empreinte d'un sweat de la Base Carbone",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"communication . textile bÃ©nÃ©voles":{titre:"Textile bÃ©nÃ©voles",formule:{variations:[{si:'textile bÃ©nÃ©voles . type = "t shirt"',alors:"informations . nombre de bÃ©nÃ©voles * nosgestesclimat . divers . textile . t-shirt . empreinte / amortissement"},{si:'textile bÃ©nÃ©voles . type = "sweat"',alors:"informations . nombre de bÃ©nÃ©voles * nosgestesclimat . divers . textile . sweat . empreinte / amortissement"},{si:'textile bÃ©nÃ©voles . type = "aucun"',alors:0}]},unitÃ©:"kgCO2e"},"communication . textile bÃ©nÃ©voles . type":{titre:"VÃªtements pour les Ã©quipes et bÃ©nÃ©voles",question:"PrÃ©voyez-vous des vÃªtements pour votre Ã©quipe ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["t shirt","sweat","aucun"]}},"par dÃ©faut":"'t shirt'"},"communication . textile bÃ©nÃ©voles . type . t shirt":{titre:"T-shirt"},"communication . textile bÃ©nÃ©voles . type . sweat":{titre:"Sweat"},"communication . textile bÃ©nÃ©voles . type . aucun":{titre:"Non, aucun vÃªtement"},"communication . textile bÃ©nÃ©voles . amortissement":{formule:{variations:[{si:"textile bÃ©nÃ©voles . rÃ©utilisation",alors:2},{sinon:1}]}},"communication . textile bÃ©nÃ©voles . rÃ©utilisation":{titre:"RÃ©utilisation des vÃªtements pour une autre Ã©dition",question:"Est-il prÃ©vu de rÃ©utiliser les vÃªtements pour une autre Ã©dition ?","par dÃ©faut":"non"},"nosgestesclimat . logement . chauffage . gaz . facteur d'Ã©mission base carbone":{titre:"IntensitÃ© carbone gaz naturel",valeur:.221,unitÃ©:"kgCO2e/kWh",note:`Il s'agit de kgCO2e/kWh *PCS*.

On raisonne en PCS (Pouvoir Calorifique SupÃ©rieur) et non en PCI (Pouvoir Calorifique InfÃ©rieur), car le PCS est utilisÃ© en tant que coefficient de conversion dans les factures pour convertir le volume de gaz utilisÃ© en kWh : 
on fait l'hypothÃ¨se que la chaudiÃ¨re gaz rÃ©cupÃ¨re bien la chaleur latente de condensation.

Base Carbone Gaz naturel - 2022/mix moyen/consommation
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},Ã©nergie:{titre:"Ãnergie",formule:{somme:["Ã©lectricitÃ©","autre","groupes Ã©lectrogÃ¨nes"]},unitÃ©:"kgCO2e"},"Ã©nergie . consommation par dÃ©faut":{formule:"0.6 kWh * informations . nombre de festivaliers",unitÃ©:"kWh",note:`Selon l'Ã©tude [DÃ©carbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf):
il est tout Ã  fait pertinent d'utiliser lâ[Ã©tude dâENERIS](https://www.ressource0.com/wp-content/uploads/2012/09/guideSpectacle-vivant1.pdf) produite en 2011 
qui propose une consommation Ã©lectrique de 0,6 KWh par festivalier en moyenne.
`},"Ã©nergie . Ã©lectricitÃ©":{formule:"consommation * commun . intensitÃ© Ã©lectricitÃ©",unitÃ©:"kgCO2e"},"Ã©nergie . Ã©lectricitÃ© . consommation":{titre:"Consommation d'Ã©lectricitÃ© totale",question:"Quelle est votre consommation d'Ã©lectricitÃ© pour l'Ã©vÃ©nement ?",plancher:0,unitÃ©:"kWh","par dÃ©faut":{variations:[{si:{"toutes ces conditions":["autre prÃ©sent","groupes Ã©lectrogÃ¨nes prÃ©sent"]},alors:"consommation par dÃ©faut / 4"},{si:{"toutes ces conditions":["autre prÃ©sent = non","groupes Ã©lectrogÃ¨nes prÃ©sent"]},alors:"consommation par dÃ©faut / 2"},{sinon:"consommation par dÃ©faut"}]}},"Ã©nergie . autre":{"applicable si":"autre prÃ©sent",formule:{somme:["gaz","fioul"]},unitÃ©:"kgCO2e"},"Ã©nergie . autre prÃ©sent":{titre:"Utilisation d'une autre source d'Ã©nergie",question:"Utilisez-vous une autre source d'Ã©nergie pour l'Ã©vÃ©nement (gaz, fioul) ?","par dÃ©faut":"non"},"Ã©nergie . autre . gaz":{formule:"consommation * nosgestesclimat . logement . chauffage . gaz . facteur d'Ã©mission base carbone",unitÃ©:"kgCO2e"},"Ã©nergie . autre . gaz . consommation":{titre:"Consommation de gaz totale",question:"Quelle est votre consommation de gaz pour l'Ã©vÃ©nement ?",plancher:0,unitÃ©:"kWh","par dÃ©faut":{variations:[{si:"groupes Ã©lectrogÃ¨nes prÃ©sent",alors:"consommation par dÃ©faut / 4"},{sinon:"consommation par dÃ©faut / 2"}]}},"Ã©nergie . autre . fioul":{formule:"consommation * empreinte",unitÃ©:"kgCO2e"},"Ã©nergie . autre . fioul . consommation":{titre:"Consommation de fioul totale",question:"Quelle est votre consommation de fioul pour l'Ã©vÃ©nement ?",plancher:0,unitÃ©:"kWh","par dÃ©faut":"consommation par dÃ©faut / 4"},"Ã©nergie . autre . fioul . empreinte":{formule:.303,unitÃ©:"kgCO2e/kWh",note:`Facteur d'Ã©mission issu de la base empreinte "Fioul domestique" (kgCO2e/kWhPCS).
`},"Ã©nergie . groupes Ã©lectrogÃ¨nes":{"applicable si":"groupes Ã©lectrogÃ¨nes prÃ©sent",formule:"nombre * empreinte par jour * informations . nombre de jours",unitÃ©:"kgCO2e",note:`On fait l'hypothÃ¨se que la puissance d'un groupe Ã©lectrogÃ¨ne utilisÃ© est de 10kW.
On estime qu'un groupe Ã©lectrogÃ¨ne de cette puissance consomme 4l/h.

Dans un second temps, il s'agira de d'Ã©valuer l'empreinte du groupe Ã©lectrogÃ¨ne directement 
via le type de carburant consommÃ© et la consommation rÃ©elle.
`},"Ã©nergie . groupes Ã©lectrogÃ¨nes prÃ©sent":{titre:"Utilisation de groupes Ã©lectrogÃ¨nes",question:"Allez-vous utiliser des groupes Ã©lectrogÃ¨nes pour l'Ã©vÃ©nement ?","par dÃ©faut":"oui"},"Ã©nergie . groupes Ã©lectrogÃ¨nes . nombre":{titre:"Nombre de groupes Ã©lectrogÃ¨nes",question:"Combien de groupes Ã©lectrogÃ¨nes prÃ©voyez-vous d'utiliser ?",plancher:0,"par dÃ©faut":{variations:[{si:"autre prÃ©sent",alors:"consommation par dÃ©faut / 4 / production"},{sinon:"consommation par dÃ©faut / 2 / production"}]}},"Ã©nergie . groupes Ã©lectrogÃ¨nes . production":{formule:"10kW * 24 h/jour * 0.75 * informations . nombre de jours",unitÃ©:"kWh"},"Ã©nergie . groupes Ã©lectrogÃ¨nes . empreinte par jour":{formule:"0.75 * consommation carburant * empreinte carburant * 24 h/jour",note:"On considÃ¨re qu'un groupe Ã©lectrogÃ¨ne est utilisÃ© 75% de la journÃ©e Ã  pleine puissance.",unitÃ©:"kgCO2e/jour"},"Ã©nergie . groupes Ã©lectrogÃ¨nes . consommation carburant":{formule:4,unitÃ©:"l/h"},"Ã©nergie . groupes Ã©lectrogÃ¨nes . empreinte carburant":{formule:2.7,unitÃ©:"kgCO2e/l",note:`Facteur d'Ã©mission issu de la base empreinte "Essence".
`},"hÃ©bergement . artistes":{titre:"HÃ©bergement des artistes","applicable si":"prÃ©sent",formule:"informations . nombre de nuits artistes * nosgestesclimat . logement . vacances . empreinte hotel par nuit",unitÃ©:"kgCO2e"},"hÃ©bergement . artistes . prÃ©sent":{titre:"HÃ©bergement des artistes",question:"Prenez-vous en charge l'hÃ©bergement en hÃ´tel des artistes du festival ?","par dÃ©faut":"oui"},"nosgestesclimat . logement . vacances . empreinte hotel par nuit":{formule:6.93,unitÃ©:"kgCO2e/nuit",note:`## Notre hypothÃ¨se sur le facteur d'Ã©mission utilisÃ©

  D'aprÃ¨s [l'enquÃªte mobilitÃ© des franÃ§ais de 2019](https://www.statistiques.developpement-durable.gouv.fr/resultats-detailles-de-lenquete-mobilite-des-personnes-de-2019?rubrique=60&dossier=1345), 
  les franÃ§ais voyagent Ã  86% en France. On assume donc ici que **les nuitÃ©es se passent en France**.

## Notre source de donnÃ©es

  Le rapport final de prÃ©-dÃ©ploiement de l'affichage environnemental des hÃ´tels, [publication ADEME de mars 2020](https://librairie.ademe.fr/consommer-autrement/4096-projet-de-pre-deploiement-de-l-affichage-environnemental-des-hotels.html), donne une moyenne de 9,91 kg Ã©qCO2 / nuitÃ©e. 
  En retranchant la partie petit-dÃ©jeuner (comptant pour 30% de l'empreinte), car sinon nous aurions une double comptabilitÃ© de ces derniers, on se retrouve avec une empreinte par nuitÃ©e de 9,91 * (1 - 30%) = 6,93 kg Ã©qCO2.

  Le rapport permet Ã©galement de scinder les empreintes selon la classe de l'hÃ´tel. Pour dÃ©marrer, nous avons assumÃ© de partir sur la moyenne des empreintes toutes classes confondues, mais cela pourra Ãªtre implÃ©mentÃ© par la suite. Cela donnerait :

  - HÃ´tels sans classement : 4,73 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 2* : 8,53 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 3* : 8,47 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 4* : 11,43 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 5* : 17,11 kg Ã©qCO2 / nuitÃ©e

  Depuis plusieurs annÃ©es, [Betterfly Tourism](https://www.betterfly-tourism.com/affichage-environnemental-hotels/) implÃ©mente en partenariat avec l'ADEME l'affichage environnemental auprÃ¨s des hÃ´tels. Il sera donc possible de rÃ©Ã©valuer l'empreinte avec des donnÃ©es plus rÃ©centes issues de leur base de donnÃ©es consolidÃ©e.

  De son cÃ´tÃ©, le [Hotel Carbon Measurement Initiative (HCMI)](https://sustainablehospitalityalliance.org/resource/hotel-carbon-measurement-initiative/) qui alimente le [Cornell Hotel Sustainability Benchmarking Index](https://greenview.sg/services/chsb-index/) prÃ©sente des [donnÃ©es](https://ecommons.cornell.edu/handle/1813/109990) pertinentes pour notre usage.
  Cela pourra Ãªtre un bon point de dÃ©part pour le jour oÃ¹ nous souhaiterons diffÃ©rencier les nuitÃ©es d'hÃ´tel selon le pays frÃ©quentÃ©.
  Ã noter que le HCMI donne une moyenne pour la France de 7,7 kg Ã©qCO2 / nuitÃ©e, ce qui est trÃ¨s proche de la donnÃ©e que nous avons choisie, elle calculÃ©e Ã  partir du rÃ©fÃ©rentiel ADEME.

  > Point publicodes : Cette rÃ¨gle Ã©tant utilisÃ©e dans d'autres espaces nom que \`logement . vacances . hotel\` c'est important ici de ne pas l'inclure dans cet espace non qui rendrait l'empreinte de la nuitÃ©e non applicable si la rÃ¨gle hotel est elle aussi non applicable.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"hÃ©bergement . bÃ©nÃ©voles":{titre:"HÃ©bergement des bÃ©nÃ©voles",formule:{variations:[{si:'type = "camping"',alors:"nombre de nuits hÃ´tel * nosgestesclimat . logement . vacances . empreinte hotel par nuit"},{si:'type = "hÃ´tel"',alors:"nombre de nuits hÃ´tel * nosgestesclimat . logement . vacances . empreinte hotel par nuit"},{sinon:0}]},unitÃ©:"kgCO2e"},"hÃ©bergement . bÃ©nÃ©voles . type":{titre:"HÃ©bergement des bÃ©nÃ©voles",question:"Prenez-vous en charge l'hÃ©bergement en hÃ´tel des organisateurs et bÃ©nÃ©voles du festival ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["camping","hÃ´tel","aucun"]}},"par dÃ©faut":"'aucun'"},"hÃ©bergement . bÃ©nÃ©voles . type . camping":{titre:"Oui, en camping"},"hÃ©bergement . bÃ©nÃ©voles . type . hÃ´tel":{titre:"Oui, en hÃ´tel"},"hÃ©bergement . bÃ©nÃ©voles . type . aucun":{titre:"Non"},"hÃ©bergement . bÃ©nÃ©voles . nombre de nuits hÃ´tel":{formule:"informations . nombre de bÃ©nÃ©voles * informations . nombre de nuits",unitÃ©:"nuit"},hÃ©bergement:{titre:"HÃ©bergement",formule:{somme:["bÃ©nÃ©voles","public","artistes"]},unitÃ©:"kgCO2e",note:`Pour le moment, on ne prend en compte que les nuitÃ©es en hÃ´tel en considÃ©rant que le nombre de nuits 
correspond au nombre de jours de l'Ã©vÃ¨nement.
Dans un second temps, on pourrait ajouter le camping par exemple. 
On pourrait Ã©galement ajouter la possibilitÃ© de renseigner le nombre de nuitÃ©es prises en charge durant l'Ã©vÃ¨nement.
`},"nosgestesclimat . logement . vacances . camping . empreinte par nuit":{formule:1.4,unitÃ©:"kgCO2e/nuit",note:`Ces donnÃ©es sont issues de la proposition de rÃ©fÃ©rentiel ADEME pour l'hÃ´tellerie de plein air, Ã©tude effectuÃ©e sur 13 campings de l'HÃ©rault conjointement entre Betterfly Tourism et l'ADEME.
Les donnÃ©es sont fournies par Betterfly Tourism et datent de juin 2021. La moyenne de l'empreinte par nuitÃ©e sur les 13 campings Ã©tudiÃ©s est de 1,4 kg Ã©qCO2.
Le rÃ©fÃ©rentiel ADEME est prÃ©sent dans la base Impacts depuis mai 2023.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"hÃ©bergement . public":{"applicable si":"prÃ©sent",formule:"nombre de nuits camping * nosgestesclimat . logement . vacances . camping . empreinte par nuit",unitÃ©:"kgCO2e",note:"On considÃ¨re que l'hÃ©bergement se fait en camping."},"hÃ©bergement . public . prÃ©sent":{titre:"HÃ©bergement des festivaliers en camping",question:"Prenez-vous en charge l'hÃ©bergement en camping des participants du festival ?","par dÃ©faut":"oui"},"hÃ©bergement . public . nombre de nuits camping":{formule:"nombre de festivaliers hÃ©bergÃ©s * informations . nombre de nuits",unitÃ©:"nuit"},"hÃ©bergement . public . nombre de festivaliers hÃ©bergÃ©s":{formule:"part * informations . nombre de festivaliers"},"hÃ©bergement . public . nombre de festivaliers journÃ©e":{formule:"(100% - part) * informations . nombre de festivaliers"},"hÃ©bergement . public . part":{titre:"Part des festivaliers qui dorment sur place",question:"Quelle part des festivaliers dorment sur place ?","par dÃ©faut":30,plancher:0,plafond:100,unitÃ©:"%"},informations:H_,"informations . nombre de jours":{titre:"DurÃ©e de l'Ã©vÃ¨nement",question:"Combien de jours dure votre Ã©vÃ¨nment ?","par dÃ©faut":2,plancher:0,unitÃ©:"jour"},"informations . nombre de nuits":{formule:"informations . nombre de jours * 1 nuit/jour",unitÃ©:"nuit"},"informations . nombre de festivaliers":{titre:"Nombre de festivaliers",description:"Compter 2 si une mÃªme personne vient 2 jours.",question:"Combien de participants attendez-vous sur l'ensemble de l'Ã©vÃ¨nements (compter 2 entrÃ©es si une personne est prÃ©sente 2 jours) ?",plancher:0,note:"On parle de la somme des entrÃ©es uniques par jour.","par dÃ©faut":25e3},"informations . nombre de festivaliers par jour":{formule:"nombre de festivaliers / nombre de jours"},"informations . nombre de bÃ©nÃ©voles":{titre:"Nombre d'organisateurs et bÃ©nÃ©voles",question:"Combien y aura-t-il d'organisateurs et bÃ©nÃ©voles ?",plancher:0,"par dÃ©faut":100},"informations . nombre de personnes par jour":{formule:"nombre de festivaliers par jour + nombre de bÃ©nÃ©voles"},"informations . nombre de repas par jour":{formule:"2 repas * nombre de personnes par jour"},"informations . nombre de repas total":{formule:"nombre de repas par jour * nombre de jours"},"informations . nombre artistes en voiture":{titre:"Nombre d'artistes (Ã©quipe incluse) en voiture",question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?",plancher:0,"par dÃ©faut":10},"informations . nombre artistes en train":{titre:"Nombre d'artistes (Ã©quipe incluse) en train",question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?",plancher:0,"par dÃ©faut":10},"informations . nombre artistes en tour bus":{titre:"Nombre d'artistes (Ã©quipe incluse) en tour bus",question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?",plancher:0,"par dÃ©faut":30},"informations . nombre artistes en avion":{titre:"Nombre d'artistes (Ã©quipe incluse) en avion",question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?",plancher:0,"par dÃ©faut":10},"informations . nombre artistes":{formule:{somme:["nombre artistes en voiture","nombre artistes en train","nombre artistes en tour bus","nombre artistes en avion"]}},"informations . nombre de nuits artistes":{formule:"nombre artistes * 1 nuit",unitÃ©:"nuit"},"informations . scÃ¨nes":null,"informations . scÃ¨nes . nombre petites scÃ¨nes":{titre:"Nombre de petites scÃ¨nes",question:"Quel est le nombre de petites scÃ¨nes prÃ©vus pour l'Ã©vÃ©nement ?",plancher:0,"par dÃ©faut":2,unitÃ©:"scÃ¨ne"},"informations . scÃ¨nes . nombre grandes scÃ¨nes":{titre:"Nombre de grandes scÃ¨nes",question:"Quel est le nombre de grandes scÃ¨nes prÃ©vues pour l'Ã©vÃ©nement ?",plancher:0,"par dÃ©faut":2,unitÃ©:"scÃ¨ne"},bÃ¢timents:{titre:"BÃ¢timents",formule:{somme:["bÃ©ton","mÃ©tallique","temporaire"]},unitÃ©:"kgCO2e"},"bÃ¢timents . facteur amortissement":{formule:"informations . nombre de jours / (commun . jours par an * 50)",note:`BÃ¢timents amortis sur 50 ans. On fait l'hypothÃ¨se que le bÃ¢timent reste "non amorti" 
mÃªme s'il date de plus de 50 ans pour limiter les paramÃ¨tres, au vu de l'impact nÃ©gligeable.
`},"bÃ¢timents . bÃ©ton":{formule:"surface * empreinte par m2 * facteur amortissement",unitÃ©:"kgCO2e"},"bÃ¢timents . bÃ©ton . surface":{titre:"Surface des bÃ¢timents bÃ©ton",question:`Quelle est la surface des bÃ¢timents "structure bÃ©ton" utilisÃ©s pour l'Ã©vÃ©nement ?`,plancher:0,"par dÃ©faut":0,unitÃ©:"m2"},"bÃ¢timents . bÃ©ton . empreinte par m2":{formule:825,unitÃ©:"kgCO2e/m2",note:`Facteur d'Ã©mission issu de la base empreinte "BÃ¢timent industriel/structure en bÃ©ton".
`},"bÃ¢timents . mÃ©tallique":{formule:"surface * empreinte par m2 * facteur amortissement",unitÃ©:"kgCO2e"},"bÃ¢timents . mÃ©tallique . surface":{titre:"Surface des bÃ¢timents structure mÃ©tallique",question:`Quelle est la surface des bÃ¢timents "structure mÃ©tallique" utilisÃ©s pour l'Ã©vÃ©nement ?`,plancher:0,"par dÃ©faut":500,unitÃ©:"m2"},"bÃ¢timents . mÃ©tallique . empreinte par m2":{formule:275,unitÃ©:"kgCO2e/m2",note:`Facteur d'Ã©mission issu de la base empreinte "BÃ¢timent industriel/structure mÃ©tallique".
`},"bÃ¢timents . temporaire":{titre:"Barnums",formule:0,unitÃ©:"kgCO2e",note:"A venir"},infrastructures:U_,"infrastructures . scÃ©nographie":{titre:"ScÃ©nographie",formule:{somme:["fret","matÃ©riel","dÃ©cor"]},unitÃ©:"kgCO2e"},"infrastructures . scÃ©nographie . fret":{formule:"tonnes km total * empreinte par tonnes km",note:`On considÃ¨re que l'empreinte des scÃ¨nes rÃ©side dans le fret.

Selon l'Ã©tude [DÃ©carbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf),
Le seul montage des scÃ¨nes dâun festival comme Les Vieilles Charrues implique une quarantaine de semi-remorques pour 4 scÃ¨nes (voir [cet artcle de France Info](https://france3-regions.francetvinfo.fr/bretagne/2013/07/18/l-antiseche-pour-etre-incollable-sur-les-vieilles-charrues-289717.html)).

NÃ©anmoins, il est fait l'hypothÃ¨se de partir sur une moyenne de 7 semi-remorques pour une grande scÃ¨ne, 3 pour une plus petite.

Comme expliquÃ© dans l'Ã©tude "DÃ©carbonons la Culture !", ces donnÃ©es sont celles des Vieilles Charrues, 
Par ailleurs, on ne sait pas si cette donnÃ©e inclut la logistique alimentaire.

Pour cette premiÃ¨re estimation, il est considÃ©rÃ© que le tonnage transportÃ© est en moyenne Ã  8,5 tonnes sur 1500km (A/R)
`,unitÃ©:"kgCO2e"},"infrastructures . scÃ©nographie . fret . nombre de camion par petite scÃ¨ne":{formule:3,unitÃ©:"camion/scÃ¨ne",note:`Nombre de camions nÃ©cessaires pour le transport d'une petite scÃ¨ne.
`},"infrastructures . scÃ©nographie . fret . nombre de camion par grande scÃ¨ne":{formule:7,unitÃ©:"camion/scÃ¨ne",note:`Nombre de camions nÃ©cessaires pour le transport d'une grande scÃ¨ne.
`},"infrastructures . scÃ©nographie . fret . empreinte par tonnes km":{formule:.0823,unitÃ©:"kgCO2e/t.km",note:`Facteur d'Ã©mission issu de la base empreinte "ArticulÃ©/< 34 tonnes/Diesel routier, incorporation 7 % de biodiesel".
`},"infrastructures . scÃ©nographie . fret . tonnes km total":{formule:{somme:["informations . scÃ¨nes . nombre petites scÃ¨nes * fret . nombre de camion par petite scÃ¨ne * tonnes km par camion","informations . scÃ¨nes . nombre grandes scÃ¨nes * fret . nombre de camion par grande scÃ¨ne * tonnes km par camion"]},unitÃ©:"t.km"},"infrastructures . scÃ©nographie . fret . tonnes km par camion":{formule:"charge moyenne * distance moyenne",unitÃ©:"t.km/camion"},"infrastructures . scÃ©nographie . fret . distance moyenne":{formule:1500,unitÃ©:"km",note:`Distance moyenne parcourue par les semi-remorques pour le transport du matÃ©riel de scÃ¨ne en incluant le retour Ã  vide.
`},"infrastructures . scÃ©nographie . fret . charge moyenne":{formule:8.5,unitÃ©:"t/camion",note:`Charge moyenne des semi-remorques pour le transport du matÃ©riel de scÃ¨ne.
`},"infrastructures . scÃ©nographie . matÃ©riel":{formule:"dÃ©penses * ratio monÃ©taire * facteur amortissement",unitÃ©:"kgCO2e",note:`Selon la mÃ©thode du simulateur [SEEDS](https://nuage.arviva.org/index.php/s/Pzzm9KbAwwL4gPR), 
les Ã©missions de CO2 liÃ©es Ã  la location de matÃ©riel technique sont estimÃ©es Ã  partir du montant 
dÃ©pensÃ©s pour leur location puis amorties sur via la durÃ©e de location et leur durÃ©e de vie.

A titre indicatif:
  - Projecteur : 600â¬ soit 240kgCO2e  
  - Enceinte : 500â¬ soit 200kgCO2e 
  - Console : 1500â¬ soit 600kgCO2e 
  - Machine Ã  fumÃ©e : 400â¬ soit 160kgCO2e  
  - Micros : 200â¬ soit 80kgCO2e  
  - VidÃ©oprojecteur : 145kgCO2e (dÃ©jÃ  prÃ©sent dans la base ADEME)
`},"infrastructures . scÃ©nographie . matÃ©riel . facteur amortissement":{formule:"informations . nombre de jours / (commun . jours par an * 5)",note:"MatÃ©riel amorti sur 5 ans."},"infrastructures . scÃ©nographie . matÃ©riel . dÃ©penses":{titre:"DÃ©penses pour la location de matÃ©riel de scÃ©nographie",question:"A combien estimez-vous vos dÃ©penses de location de matÃ©riel technique (scÃ¨ne, son, lumiÃ¨re, vidÃ©o etc...) ?",plancher:0,"par dÃ©faut":1e7,unitÃ©:"â¬HT"},"infrastructures . scÃ©nographie . matÃ©riel . ratio monÃ©taire":{formule:.4,unitÃ©:"kgCO2e/â¬HT",note:`Ratio monÃ©taire issu de la Base Empreinte "Service/Produits informatiques, Ã©lectroniques et optiques".
`},"infrastructures . scÃ©nographie . dÃ©cor":{"applicable si":"dÃ©cor prÃ©sent",formule:0,unitÃ©:"kgCO2e",note:`Pour le moment, nous faisons l'hypothÃ¨se que les dÃ©cors et costumes sont de la responsabilitÃ© des artistes.
`},"infrastructures . scÃ©nographie . dÃ©cor prÃ©sent":{"par dÃ©faut":"non"},"infrastructures . toilettes":{formule:0,unitÃ©:"kgCO2e",note:"A venir"},resultats:W_,"resultats . bilan total":{titre:"Bilan Carbone de mon Ã©vÃ¨nement",formule:{somme:["alimentation","transport","infrastructures","hÃ©bergement","Ã©nergie","communication"]},unitÃ©:"kgCO2e"},"resultats . bilan par festivalier":{titre:"Bilan Carbone de mon Ã©vÃ¨nement par festivalier",formule:"bilan total / informations . nombre de festivaliers",unitÃ©:"kgCO2e"},"transport . artistes":{titre:"Transport des artistes",formule:{somme:["voiture","avion","train","tour bus"]},unitÃ©:"kgCO2e"},"transport . artistes . voiture":{"applicable si":"informations . nombre artistes en voiture > 0",formule:"informations . nombre artistes en train * distance * voiture . empreinte par km / voiture . remplissage moyen",unitÃ©:"kgCO2e"},"transport . artistes . voiture . distance":{titre:"Distance moyenne parcourue par les artistes en voiture",question:"Quelle est la distance (A/R) parcourue en voiture en moyenne par les artistes pour venir au festival ?",plancher:0,"par dÃ©faut":100,unitÃ©:"km"},"transport . artistes . avion":{"applicable si":"informations . nombre artistes en avion > 0",formule:"informations . nombre artistes en avion * distance * avion . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes . avion . distance":{titre:"Distance moyenne parcourue par les artistes en avion",question:"Quelle est la distance (A/R) parcourue en avion en moyenne par les artistes pour venir au festival ?",plancher:0,"par dÃ©faut":1500,unitÃ©:"km"},"transport . artistes . train":{"applicable si":"informations . nombre artistes en train > 0",formule:"informations . nombre artistes en train * distance * train . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes . train . distance":{titre:"Distance moyenne parcourue par les artistes en train",question:"Quelle est la distance en moyenne (A/R) parcourue en train par les artistes pour venir au festival ?",plancher:0,"par dÃ©faut":500,unitÃ©:"km"},"transport . artistes . tour bus":{"applicable si":"informations . nombre artistes en tour bus > 0",formule:"informations . nombre artistes en tour bus * distance * tour bus . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes . tour bus . distance":{titre:"Distance moyenne parcourue par les artistes en tour bus",question:"Quelle est la distance en moyenne (A/R) parcourue en tour bus par les artistes pour venir au festival ?",plancher:0,"par dÃ©faut":1e3,unitÃ©:"km"},"transport . public":{titre:"Transport du public",formule:{somme:["voiture","avion","train","commun"]},unitÃ©:"kgCO2e"},"transport . public . accessible en transports en commun":{titre:"AccessibilitÃ© en transports en commun",question:"Votre festival est-il facilement accessible en transport en commun ?","par dÃ©faut":"non"},"transport . public . nombre de dÃ©placements":{formule:{somme:["festivaliers","bÃ©nÃ©voles"]},note:`On considÃ¨re ici les festivaliers mais aussi les Ã©quipes d'organisation et les bÃ©nÃ©voles.
`},"transport . public . nombre de dÃ©placements . festivaliers":{formule:{variations:[{si:"hÃ©bergement . public . prÃ©sent",alors:"hÃ©bergement . public . nombre de festivaliers journÃ©e + hÃ©bergement . public . nombre de festivaliers hÃ©bergÃ©s / informations . nombre de jours * 1 jour"},{sinon:"informations . nombre de festivaliers"}]}},"transport . public . nombre de dÃ©placements . bÃ©nÃ©voles":{formule:{variations:[{si:'hÃ©bergement . bÃ©nÃ©voles . type = "aucun"',alors:"informations . nombre de bÃ©nÃ©voles * informations . nombre de jours / 1 jour"},{sinon:"informations . nombre de bÃ©nÃ©voles"}]}},"transport . public . distance AR":{titre:"Distance moyenne aller/retour parcourue par un festivalier",question:"Quelle est la distane moyenne aller/retour parcourue par un festivalier ?",unitÃ©:"km",plancher:0,"par dÃ©faut":100,note:"On inclue ici les festivaliers mais Ã©galement les bÃ©nÃ©voles et les organisateurs."},"transport . public . part mobilitÃ© douce":{formule:"100% - parts totales modes de transport",unitÃ©:"%",note:"On considÃ¨re que l'impact de la marche ou du vÃ©lo est nÃ©gligeable."},"transport . public . parts totales modes de transport":{formule:{somme:["voiture . part","avion . part","train . part","commun . part"]},plafond:100,unitÃ©:"%"},"transport . public . voiture . part":{titre:"Part des festivaliers venant en voiture",question:"Quelle part des festivaliers viennent en voiture ?",plancher:0,plafond:100,unitÃ©:"%","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"20%"},{sinon:"80%"}]}},"transport . public . avion . part":{titre:"Part des festivaliers venant en avion",question:"Quelle part des festivaliers viennent en avion ?",plancher:0,plafond:100,unitÃ©:"%","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"3%"},{sinon:"3%"}]}},"transport . public . train . part":{titre:"Part des festivaliers venant en train",question:"Quelle part des festivaliers viennent en train ?",plancher:0,plafond:100,unitÃ©:"%","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"20%"},{sinon:"10%"}]}},"transport . public . commun . part":{titre:"Part des festivaliers venant en transports en commun",question:"Quelle part des festivaliers viennent en transports en commun (bus, tramway, mÃ©tro) ?",plancher:0,plafond:100,unitÃ©:"%","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"50%"},{sinon:"5%"}]}},"transport . public . voiture":{formule:"part * nombre de dÃ©placements * distance AR * voiture . empreinte par km / voiture . remplissage moyen",unitÃ©:"kgCO2e",note:"On fait l'hypothÃ¨se d'un aller/retour par festivalier."},"transport . public . avion":{formule:"part * nombre de dÃ©placements * distance avion AR * avion . empreinte par km",unitÃ©:"kgCO2e"},"transport . public . avion . distance avion AR":{formule:1500,unitÃ©:"km"},"transport . public . train":{formule:"part * nombre de dÃ©placements * distance AR * train . empreinte par km",unitÃ©:"kgCO2e"},"transport . public . commun":{formule:"part * nombre de dÃ©placements * distance AR * commun . empreinte par km",unitÃ©:"kgCO2e"},transport:K_,"transport . voiture":null,"transport . voiture . empreinte par km":{formule:.231,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Voiture/Motorisation moyenne/2018".
`},"transport . voiture . remplissage moyen":{formule:1.8,note:"On considÃ¨re un taux de remplissage moyen de 1,8 personnes par voiture."},"transport . avion":null,"transport . avion . empreinte par km":{formule:.187,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Avion passagers/Moyen courrier, 2018/AVEC trainÃ©es".
`},"transport . train":null,"transport . train . empreinte par km":{formule:{moyenne:["TGV","TER"]},unitÃ©:"kgCO2e/km",note:`Moyenne entre TGV et TER.
`},"transport . train . empreinte par km . TGV":{formule:.00293,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "TGV/2022".
`},"transport . train . empreinte par km . TER":{formule:.0277,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "TER/2022/Traction moyenne".
`},"transport . commun . empreinte par km":{formule:{moyenne:["bus","mÃ©tro ou tram"]},unitÃ©:"kgCO2e/km"},"transport . commun . empreinte par km . bus":{formule:.146,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Autobus moyen/AgglomÃ©ration de 100 000 Ã  250 000 habitants".
`},"transport . commun . empreinte par km . mÃ©tro ou tram":{formule:.00503,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "MÃ©tro, tramway, trolleybus/2018/AgglomÃ©ration de 100 000 Ã  250 000 habitants".
`},"transport . tour bus":null,"transport . tour bus . empreinte par km":{formule:.0295,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Autocar/2018".
`},nosgestesclimat:G_,"nosgestesclimat . alimentation . boisson":null,"nosgestesclimat . alimentation":null,"nosgestesclimat . alimentation . boisson . sucrÃ©es":null,"nosgestesclimat . alimentation . boisson . alcool":null,"nosgestesclimat . alimentation . boisson . eau en bouteille":null,"nosgestesclimat . alimentation . petit dÃ©jeuner":null,"nosgestesclimat . alimentation . plats . vÃ©gÃ©talien":null,"nosgestesclimat . alimentation . plats":null,"nosgestesclimat . alimentation . plats . vÃ©gÃ©tarien":null,"nosgestesclimat . alimentation . plats . viande 1":null,"nosgestesclimat . alimentation . plats . viande 2":null,commun:Q_,"nosgestesclimat . divers . textile . t-shirt":null,"nosgestesclimat . divers . textile":null,"nosgestesclimat . divers":null,"nosgestesclimat . divers . textile . sweat":null,"nosgestesclimat . logement . chauffage . gaz":null,"nosgestesclimat . logement . chauffage":null,"nosgestesclimat . logement":null,"nosgestesclimat . logement . vacances":null,"nosgestesclimat . logement . vacances . camping":null};let ws=hg.Main.init({flags:im,node:document.getElementById("elm-app")});const sm=new B_(im,ws);ws.ports.setSituation.subscribe(e=>{sm.setSituation(e)});ws.ports.evaluateAll.subscribe(e=>{sm.evaluateAll(e)});
