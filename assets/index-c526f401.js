var im=Object.defineProperty;var sm=(e,r,t)=>r in e?im(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var fe=(e,r,t)=>(sm(e,typeof r!="symbol"?r+"":r,t),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();function Jr(e,r,t){return t.a=e,t.f=r,t}function $(e){return Jr(2,e,function(r){return function(t){return e(r,t)}})}function w(e){return Jr(3,e,function(r){return function(t){return function(n){return e(r,t,n)}}})}function Q(e){return Jr(4,e,function(r){return function(t){return function(n){return function(a){return e(r,t,n,a)}}}})}function Oe(e){return Jr(5,e,function(r){return function(t){return function(n){return function(a){return function(s){return e(r,t,n,a,s)}}}}})}function yr(e){return Jr(6,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return e(r,t,n,a,s,o)}}}}}})}function It(e){return Jr(7,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return e(r,t,n,a,s,o,u)}}}}}}})}function Du(e){return Jr(8,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return function(m){return e(r,t,n,a,s,o,u,m)}}}}}}}})}function Nu(e){return Jr(9,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return function(m){return function(l){return e(r,t,n,a,s,o,u,m,l)}}}}}}}}})}function i(e,r,t){return e.a===2?e.f(r,t):e(r)(t)}function g(e,r,t,n){return e.a===3?e.f(r,t,n):e(r)(t)(n)}function F(e,r,t,n,a){return e.a===4?e.f(r,t,n,a):e(r)(t)(n)(a)}function P(e,r,t,n,a,s){return e.a===5?e.f(r,t,n,a,s):e(r)(t)(n)(a)(s)}function ur(e,r,t,n,a,s,o){return e.a===6?e.f(r,t,n,a,s,o):e(r)(t)(n)(a)(s)(o)}function ve(e,r,t,n,a,s,o,u){return e.a===7?e.f(r,t,n,a,s,o,u):e(r)(t)(n)(a)(s)(o)(u)}function om(e,r,t,n,a,s,o,u,m){return e.a===8?e.f(r,t,n,a,s,o,u,m):e(r)(t)(n)(a)(s)(o)(u)(m)}function ee(e,r){for(var t,n=[],a=Ua(e,r,0,n);a&&(t=n.pop());a=Ua(t.a,t.b,0,n));return a}function Ua(e,r,t,n){if(e===r)return!0;if(typeof e!="object"||e===null||r===null)return typeof e=="function"&&Pt(5),!1;if(t>100)return n.push(y(e,r)),!0;e.$<0&&(e=at(e),r=at(r));for(var a in e)if(!Ua(e[a],r[a],t+1,n))return!1;return!0}$(ee);$(function(e,r){return!ee(e,r)});function ne(e,r,t){if(typeof e!="object")return e===r?0:e<r?-1:1;if(typeof e.$>"u")return(t=ne(e.a,r.a))||(t=ne(e.b,r.b))?t:ne(e.c,r.c);for(;e.b&&r.b&&!(t=ne(e.a,r.a));e=e.b,r=r.b);return t||(e.b?1:r.b?-1:0)}$(function(e,r){return ne(e,r)<0});$(function(e,r){return ne(e,r)<1});$(function(e,r){return ne(e,r)>0});$(function(e,r){return ne(e,r)>=0});var um=$(function(e,r){var t=ne(e,r);return t<0?Qu:t?d$:Yu}),qt=0;function y(e,r){return{a:e,b:r}}function we(e,r,t){return{a:e,b:r,c:t}}function U(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t}$(M);function M(e,r){if(typeof e=="string")return e+r;if(!e.b)return r;var t=gr(e.a,r);e=e.b;for(var n=t;e.b;e=e.b)n=n.b=gr(e.a,r);return t}var V={$:0};function gr(e,r){return{$:1,a:e,b:r}}var lm=$(gr);function b(e){for(var r=V,t=e.length;t--;)r=gr(e[t],r);return r}function ji(e){for(var r=[];e.b;e=e.b)r.push(e.a);return r}var cm=w(function(e,r,t){for(var n=[];r.b&&t.b;r=r.b,t=t.b)n.push(i(e,r.a,t.a));return b(n)});Q(function(e,r,t,n){for(var a=[];r.b&&t.b&&n.b;r=r.b,t=t.b,n=n.b)a.push(g(e,r.a,t.a,n.a));return b(a)});Oe(function(e,r,t,n,a){for(var s=[];r.b&&t.b&&n.b&&a.b;r=r.b,t=t.b,n=n.b,a=a.b)s.push(F(e,r.a,t.a,n.a,a.a));return b(s)});yr(function(e,r,t,n,a,s){for(var o=[];r.b&&t.b&&n.b&&a.b&&s.b;r=r.b,t=t.b,n=n.b,a=a.b,s=s.b)o.push(P(e,r.a,t.a,n.a,a.a,s.a));return b(o)});$(function(e,r){return b(ji(r).sort(function(t,n){return ne(e(t),e(n))}))});$(function(e,r){return b(ji(r).sort(function(t,n){var a=i(e,t,n);return a===Yu?0:a===Qu?-1:1}))});var mm=[];function vm(e){return e.length}var $m=w(function(e,r,t){for(var n=new Array(e),a=0;a<e;a++)n[a]=t(r+a);return n}),fm=$(function(e,r){for(var t=new Array(e),n=0;n<e&&r.b;n++)t[n]=r.a,r=r.b;return t.length=n,y(t,r)});$(function(e,r){return r[e]});w(function(e,r,t){for(var n=t.length,a=new Array(n),s=0;s<n;s++)a[s]=t[s];return a[e]=r,a});$(function(e,r){for(var t=r.length,n=new Array(t+1),a=0;a<t;a++)n[a]=r[a];return n[t]=e,n});w(function(e,r,t){for(var n=t.length,a=0;a<n;a++)r=i(e,t[a],r);return r});var dm=w(function(e,r,t){for(var n=t.length-1;n>=0;n--)r=i(e,t[n],r);return r});$(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=e(r[a]);return n});w(function(e,r,t){for(var n=t.length,a=new Array(n),s=0;s<n;s++)a[s]=i(e,r+s,t[s]);return a});w(function(e,r,t){return t.slice(e,r)});w(function(e,r,t){var n=r.length,a=e-n;a>t.length&&(a=t.length);for(var s=n+a,o=new Array(s),u=0;u<n;u++)o[u]=r[u];for(var u=0;u<a;u++)o[u+n]=t[u];return o});$(function(e,r){return r});$(function(e,r){return console.log(e+": "+pm()),r});function pm(e){return"<internals>"}function Pt(e){throw new Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}var bm=$(function(e,r){return e+r});$(function(e,r){return e-r});$(function(e,r){return e*r});$(function(e,r){return e/r});$(function(e,r){return e/r|0});var hm=$(Math.pow);$(function(e,r){return r%e});var gm=$(function(e,r){var t=r%e;return e===0?Pt(11):t>0&&e<0||t<0&&e>0?t+e:t}),_m=Math.PI,ym=Math.E,km=Math.cos,Em=Math.sin,xm=Math.tan;$(Math.atan2);function Cm(e){return e}function wm(e){return e===1/0||e===-1/0}var Sm=Math.ceil,Vm=Math.floor,Om=Math.round,Am=Math.sqrt,bo=Math.log,jm=isNaN;$(function(e,r){return e&&r});$(function(e,r){return e||r});$(function(e,r){return e!==r});var Dm=$(function(e,r){return e+r});function Nm(e){var r=e.charCodeAt(0);return isNaN(r)?q:H(55296<=r&&r<=56319?y(e[0]+e[1],e.slice(2)):y(e[0],e.slice(1)))}$(function(e,r){return e+r});function Im(e){return e.length}$(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;){var s=r.charCodeAt(a);if(55296<=s&&s<=56319){n[a]=e(r[a]+r[a+1]),a+=2;continue}n[a]=e(r[a]),a++}return n.join("")});var qm=$(function(e,r){for(var t=[],n=r.length,a=0;a<n;){var s=r[a],o=r.charCodeAt(a);a++,55296<=o&&o<=56319&&(s+=r[a],a++),e(s)&&t.push(s)}return t.join("")});function Pm(e){for(var r=e.length,t=new Array(r),n=0;n<r;){var a=e.charCodeAt(n);55296<=a&&a<=56319?(t[r-n]=e[n+1],n++,t[r-n]=e[n-1],n++):(t[r-n]=e[n],n++)}return t.join("")}w(function(e,r,t){for(var n=t.length,a=0;a<n;){var s=t[a],o=t.charCodeAt(a);a++,55296<=o&&o<=56319&&(s+=t[a],a++),r=i(e,s,r)}return r});var Fm=w(function(e,r,t){for(var n=t.length;n--;){var a=t[n],s=t.charCodeAt(n);56320<=s&&s<=57343&&(n--,a=t[n]+a),r=i(e,a,r)}return r}),Tm=$(function(e,r){return r.split(e)}),Rm=$(function(e,r){return r.join(e)}),Mm=w(function(e,r,t){return t.slice(e,r)});function Lm(e){return e.toUpperCase()}function Bm(e){return e.toLowerCase()}$(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),e(n))return!0}return!1});var zm=$(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),!e(n))return!1}return!0}),Jm=$(function(e,r){return r.indexOf(e)>-1}),Um=$(function(e,r){return r.indexOf(e)===0});$(function(e,r){return r.length>=e.length&&r.lastIndexOf(e)===r.length-e.length});var Hm=$(function(e,r){var t=e.length;if(t<1)return V;for(var n=0,a=[];(n=r.indexOf(e,n))>-1;)a.push(n),n=n+t;return b(a)});function Iu(e){return e+""}function Wm(e){for(var r=0,t=e.charCodeAt(0),n=t==43||t==45?1:0,a=n;a<e.length;++a){var s=e.charCodeAt(a);if(s<48||57<s)return q;r=10*r+s-48}return a==n?q:H(t==45?-r:r)}function Km(e){if(e.length===0||/[\sxbo]/.test(e))return q;var r=+e;return r===r?H(r):q}function Gm(e){var r=e.charCodeAt(0);return 55296<=r&&r<=56319?(r-55296)*1024+e.charCodeAt(1)-56320+65536:r}function Ym(e){return e<0||1114111<e?"ï¿½":e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(Math.floor(e/1024)+55296,e%1024+56320))}function Qm(e){return{$:0,a:e}}function ga(e){return{$:2,b:e}}var Xm=ga(function(e){return typeof e=="boolean"?pr(e):dr("a BOOL",e)}),Zm=ga(function(e){return typeof e=="number"?pr(e):dr("a FLOAT",e)}),ev=ga(function(e){return pr(e)}),rv=ga(function(e){return typeof e=="string"?pr(e):e instanceof String?pr(e+""):dr("a STRING",e)});function tv(e){return{$:3,b:e}}function nv(e){return{$:5,c:e}}var av=$(function(e,r){return{$:6,d:e,b:r}}),iv=$(function(e,r){return{$:7,e,b:r}});function sv(e){return{$:8,b:e}}function Ur(e,r){return{$:9,f:e,g:r}}var ov=$(function(e,r){return{$:10,b:r,h:e}});function uv(e){return{$:11,g:e}}var lv=$(function(e,r){return Ur(e,[r])}),cv=w(function(e,r,t){return Ur(e,[r,t])}),mv=Q(function(e,r,t,n){return Ur(e,[r,t,n])}),vv=Oe(function(e,r,t,n,a){return Ur(e,[r,t,n,a])});yr(function(e,r,t,n,a,s){return Ur(e,[r,t,n,a,s])});It(function(e,r,t,n,a,s,o){return Ur(e,[r,t,n,a,s,o])});Du(function(e,r,t,n,a,s,o,u){return Ur(e,[r,t,n,a,s,o,u])});Nu(function(e,r,t,n,a,s,o,u,m){return Ur(e,[r,t,n,a,s,o,u,m])});$(function(e,r){try{var t=JSON.parse(r);return Qe(e,t)}catch(n){return Dr(i(zi,"This is not valid JSON! "+n.message,r))}});var Di=$(function(e,r){return Qe(e,r)});function Qe(e,r){switch(e.$){case 2:return e.b(r);case 5:return r===null?pr(e.c):dr("null",r);case 3:return In(r)?ho(e.b,r,b):dr("a LIST",r);case 4:return In(r)?ho(e.b,r,$v):dr("an ARRAY",r);case 6:var t=e.d;if(typeof r!="object"||r===null||!(t in r))return dr("an OBJECT with a field named `"+t+"`",r);var l=Qe(e.b,r[t]);return ir(l)?l:Dr(i(Co,t,l.a));case 7:var n=e.e;if(!In(r))return dr("an ARRAY",r);if(n>=r.length)return dr("a LONGER array. Need index "+n+" but only see "+r.length+" entries",r);var l=Qe(e.b,r[n]);return ir(l)?l:Dr(i(Zu,n,l.a));case 8:if(typeof r!="object"||r===null||In(r))return dr("an OBJECT",r);var a=V;for(var s in r)if(r.hasOwnProperty(s)){var l=Qe(e.b,r[s]);if(!ir(l))return Dr(i(Co,s,l.a));a=gr(y(s,l.a),a)}return pr(Re(a));case 9:for(var o=e.f,u=e.g,m=0;m<u.length;m++){var l=Qe(u[m],r);if(!ir(l))return l;o=o(l.a)}return pr(o);case 10:var l=Qe(e.b,r);return ir(l)?Qe(e.h(l.a),r):l;case 11:for(var v=V,c=e.g;c.b;c=c.b){var l=Qe(c.a,r);if(ir(l))return l;v=gr(l.a,v)}return Dr(p$(Re(v)));case 1:return Dr(i(zi,e.a,r));case 0:return pr(e.a)}}function ho(e,r,t){for(var n=r.length,a=new Array(n),s=0;s<n;s++){var o=Qe(e,r[s]);if(!ir(o))return Dr(i(Zu,s,o.a));a[s]=o.a}return pr(t(a))}function In(e){return Array.isArray(e)||typeof FileList<"u"&&e instanceof FileList}function $v(e){return i(N$,e.length,function(r){return e[r]})}function dr(e,r){return Dr(i(zi,"Expecting "+e,r))}function bt(e,r){if(e===r)return!0;if(e.$!==r.$)return!1;switch(e.$){case 0:case 1:return e.a===r.a;case 2:return e.b===r.b;case 5:return e.c===r.c;case 3:case 4:case 8:return bt(e.b,r.b);case 6:return e.d===r.d&&bt(e.b,r.b);case 7:return e.e===r.e&&bt(e.b,r.b);case 9:return e.f===r.f&&go(e.g,r.g);case 10:return e.h===r.h&&bt(e.b,r.b);case 11:return go(e.g,r.g)}}function go(e,r){var t=e.length;if(t!==r.length)return!1;for(var n=0;n<t;n++)if(!bt(e[n],r[n]))return!1;return!0}var fv=$(function(e,r){return JSON.stringify(r,null,e)+""});function Ni(e){return e}function dv(){return[]}function pv(){return{}}var bv=w(function(e,r,t){return t[e]=r,t});function hv(e){return $(function(r,t){return t.push(e(r)),t})}var gv=null;function Hr(e){return{$:0,a:e}}function _v(e){return{$:1,a:e}}function kr(e){return{$:2,b:e,c:null}}var Ha=$(function(e,r){return{$:3,b:e,d:r}});$(function(e,r){return{$:4,b:e,d:r}});function yv(e){return{$:5,b:e}}var kv=0;function Ii(e){var r={$:0,e:kv++,f:e,g:null,h:[]};return qi(r),r}function qu(e){return kr(function(r){r(Hr(Ii(e)))})}function Pu(e,r){e.h.push(r),qi(e)}var Ev=$(function(e,r){return kr(function(t){Pu(e,r),t(Hr(qt))})}),Da=!1,_o=[];function qi(e){if(_o.push(e),!Da){for(Da=!0;e=_o.shift();)xv(e);Da=!1}}function xv(e){for(;e.f;){var r=e.f.$;if(r===0||r===1){for(;e.g&&e.g.$!==r;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else if(r===2){e.f.c=e.f.b(function(t){e.f=t,qi(e)});return}else if(r===5){if(e.h.length===0)return;e.f=e.f.b(e.h.shift())}else e.g={$:r===3?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}function Cv(e){return kr(function(r){var t=setTimeout(function(){r(Hr(qt))},e);return function(){clearTimeout(t)}})}Q(function(e,r,t,n){return Pi(r,n,e.c3,e.dP,e.dy,function(){return function(){}})});function Pi(e,r,t,n,a,s){var o=i(Di,e,r?r.flags:void 0);ir(o)||Pt(2);var u={},m=t(o.a),l=m.a,v=s(p,l),c=wv(u,p);function p(f,_){var h=i(n,f,l);v(l=h.a,_),ko(u,h.b,a(l))}return ko(u,m.b,a(l)),c?{ports:c}:{}}var Te={};function wv(e,r){var t;for(var n in Te){var a=Te[n];a.a&&(t=t||{},t[n]=a.a(n,r)),e[n]=Vv(a,r)}return t}function Sv(e,r,t,n,a){return{b:e,c:r,d:t,e:n,f:a}}function Vv(e,r){var t={g:r,h:void 0},n=e.c,a=e.d,s=e.e,o=e.f;function u(m){return i(Ha,u,yv(function(l){var v=l.a;return l.$===0?g(a,t,v,m):s&&o?F(n,t,v.i,v.j,m):g(n,t,s?v.i:v.j,m)}))}return t.h=Ii(i(Ha,u,e.b))}var Ov=$(function(e,r){return kr(function(t){e.g(r),t(Hr(qt))})});$(function(e,r){return i(Ev,e.h,{$:0,a:r})});function Fi(e){return function(r){return{$:1,k:e,l:r}}}function Fu(e){return{$:2,m:e}}$(function(e,r){return{$:3,n:e,o:r}});var yo=[],Na=!1;function ko(e,r,t){if(yo.push({p:e,q:r,r:t}),!Na){Na=!0;for(var n;n=yo.shift();)Av(n.p,n.q,n.r);Na=!1}}function Av(e,r,t){var n={};Zn(!0,r,n,null),Zn(!1,t,n,null);for(var a in e)Pu(e[a],{$:"fx",a:n[a]||{i:V,j:V}})}function Zn(e,r,t,n){switch(r.$){case 1:var a=r.k,s=jv(e,a,n,r.l);t[a]=Dv(e,s,t[a]);return;case 2:for(var o=r.m;o.b;o=o.b)Zn(e,o.a,t,n);return;case 3:Zn(e,r.o,t,{s:r.n,t:n});return}}function jv(e,r,t,n){function a(o){for(var u=t;u;u=u.t)o=u.s(o);return o}var s=e?Te[r].e:Te[r].f;return i(s,a,n)}function Dv(e,r,t){return t=t||{i:V,j:V},e?t.i=gr(r,t.i):t.j=gr(r,t.j),t}function Tu(e){Te[e]&&Pt(3)}function Ru(e,r){return Tu(e),Te[e]={e:Nv,u:r,a:Iv},Fi(e)}var Nv=$(function(e,r){return r});function Iv(e){var r=[],t=Te[e].u,n=Cv(0);Te[e].b=n,Te[e].c=w(function(o,u,m){for(;u.b;u=u.b)for(var l=r,v=t(u.a),c=0;c<l.length;c++)l[c](v);return n});function a(o){r.push(o)}function s(o){r=r.slice();var u=r.indexOf(o);u>=0&&r.splice(u,1)}return{subscribe:a,unsubscribe:s}}function Ti(e,r){return Tu(e),Te[e]={f:qv,u:r,a:Pv},Fi(e)}var qv=$(function(e,r){return function(t){return e(r(t))}});function Pv(e,r){var t=V,n=Te[e].u,a=Hr(null);Te[e].b=a,Te[e].c=w(function(o,u,m){return t=u,a});function s(o){var u=i(Di,n,o);ir(u)||Pt(4,e,u.a);for(var m=u.a,l=t;l.b;l=l.b)r(l.a(m))}return{send:s}}var ea,Zr=typeof document<"u"?document:{};function Ri(e,r){e.appendChild(r)}Q(function(e,r,t,n){var a=n.node;return a.parentNode.replaceChild(Pr(e,function(){}),a),{}});function Wa(e){return{$:0,a:e}}var Mu=$(function(e,r){return $(function(t,n){for(var a=[],s=0;n.b;n=n.b){var o=n.a;s+=o.b||0,a.push(o)}return s+=a.length,{$:1,c:r,d:zu(t),e:a,f:e,b:s}})}),Ae=Mu(void 0),Fv=$(function(e,r){return $(function(t,n){for(var a=[],s=0;n.b;n=n.b){var o=n.a;s+=o.b.b||0,a.push(o)}return s+=a.length,{$:2,c:r,d:zu(t),e:a,f:e,b:s}})});Fv(void 0);var Tv=$(function(e,r){return{$:4,j:e,k:r,b:1+(r.b||0)}});function Wr(e,r){return{$:5,l:e,m:r,k:void 0}}var Rv=$(function(e,r){return Wr([e,r],function(){return e(r)})});w(function(e,r,t){return Wr([e,r,t],function(){return i(e,r,t)})});Q(function(e,r,t,n){return Wr([e,r,t,n],function(){return g(e,r,t,n)})});Oe(function(e,r,t,n,a){return Wr([e,r,t,n,a],function(){return F(e,r,t,n,a)})});yr(function(e,r,t,n,a,s){return Wr([e,r,t,n,a,s],function(){return P(e,r,t,n,a,s)})});It(function(e,r,t,n,a,s,o){return Wr([e,r,t,n,a,s,o],function(){return ur(e,r,t,n,a,s,o)})});Du(function(e,r,t,n,a,s,o,u){return Wr([e,r,t,n,a,s,o,u],function(){return ve(e,r,t,n,a,s,o,u)})});Nu(function(e,r,t,n,a,s,o,u,m){return Wr([e,r,t,n,a,s,o,u,m],function(){return om(e,r,t,n,a,s,o,u,m)})});var Lu=$(function(e,r){return{$:"a0",n:e,o:r}}),Mv=$(function(e,r){return{$:"a1",n:e,o:r}}),Bu=$(function(e,r){return{$:"a2",n:e,o:r}}),re=$(function(e,r){return{$:"a3",n:e,o:r}});w(function(e,r,t){return{$:"a4",n:r,o:{f:e,o:t}}});var Lv=/^(on|formAction$)/i,Bv=/^\s*j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:/i,zv=/^\s*(j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:|d\s*a\s*t\s*a\s*:\s*t\s*e\s*x\s*t\s*\/\s*h\s*t\s*m\s*l\s*(,|;))/i;function Jv(e){return Lv.test(e)?"data-"+e:e}function Uv(e){return Bv.test(e)?"":e}function Hv(e){return zv.test(e)?"":e}var Wv=$(function(e,r){return r.$==="a0"?i(Lu,r.n,Kv(e,r.o)):r});function Kv(e,r){var t=Ui(r);return{$:r.$,a:t?g(ol,t<3?Gv:Yv,mr(e),r.a):i(Se,e,r.a)}}var Gv=$(function(e,r){return y(e(r.a),r.b)}),Yv=$(function(e,r){return{Y:e(r.Y),br:r.br,bf:r.bf}});function zu(e){for(var r={};e.b;e=e.b){var t=e.a,n=t.$,a=t.n,s=t.o;if(n==="a2"){a==="className"?Eo(r,a,s):r[a]=s;continue}var o=r[n]||(r[n]={});n==="a3"&&a==="class"?Eo(o,a,s):o[a]=s}return r}function Eo(e,r,t){var n=e[r];e[r]=n?n+" "+t:t}function Pr(e,r){var t=e.$;if(t===5)return Pr(e.k||(e.k=e.m()),r);if(t===0)return Zr.createTextNode(e.a);if(t===4){for(var n=e.k,a=e.j;n.$===4;)typeof a!="object"?a=[a,n.j]:a.push(n.j),n=n.k;var s={j:a,p:r},o=Pr(n,s);return o.elm_event_node_ref=s,o}if(t===3){var o=e.h(e.g);return Ka(o,r,e.d),o}var o=e.f?Zr.createElementNS(e.f,e.c):Zr.createElement(e.c);ea&&e.c=="a"&&o.addEventListener("click",ea(o)),Ka(o,r,e.d);for(var u=e.e,m=0;m<u.length;m++)Ri(o,Pr(t===1?u[m]:u[m].b,r));return o}function Ka(e,r,t){for(var n in t){var a=t[n];n==="a1"?Qv(e,a):n==="a0"?e$(e,r,a):n==="a3"?Xv(e,a):n==="a4"?Zv(e,a):(n!=="value"&&n!=="checked"||e[n]!==a)&&(e[n]=a)}}function Qv(e,r){var t=e.style;for(var n in r)t[n]=r[n]}function Xv(e,r){for(var t in r){var n=r[t];typeof n<"u"?e.setAttribute(t,n):e.removeAttribute(t)}}function Zv(e,r){for(var t in r){var n=r[t],a=n.f,s=n.o;typeof s<"u"?e.setAttributeNS(a,t,s):e.removeAttributeNS(a,t)}}function e$(e,r,t){var n=e.elmFs||(e.elmFs={});for(var a in t){var s=t[a],o=n[a];if(!s){e.removeEventListener(a,o),n[a]=void 0;continue}if(o){var u=o.q;if(u.$===s.$){o.q=s;continue}e.removeEventListener(a,o)}o=r$(r,s),e.addEventListener(a,o,Mi&&{passive:Ui(s)<2}),n[a]=o}}var Mi;try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Mi=!0}}))}catch{}function r$(e,r){function t(n){var a=t.q,s=Qe(a.a,n);if(ir(s)){for(var o=Ui(a),u=s.a,m=o?o<3?u.a:u.Y:u,l=o==1?u.b:o==3&&u.br,v=(l&&n.stopPropagation(),(o==2?u.b:o==3&&u.bf)&&n.preventDefault(),e),c,p;c=v.j;){if(typeof c=="function")m=c(m);else for(var p=c.length;p--;)m=c[p](m);v=v.p}v(m,l)}}return t.q=r,t}function t$(e,r){return e.$==r.$&&bt(e.a,r.a)}function Ju(e,r){var t=[];return sr(e,r,t,0),t}function je(e,r,t,n){var a={$:r,r:t,s:n,t:void 0,u:void 0};return e.push(a),a}function sr(e,r,t,n){if(e!==r){var a=e.$,s=r.$;if(a!==s)if(a===1&&s===2)r=c$(r),s=1;else{je(t,0,n,r);return}switch(s){case 5:for(var o=e.l,u=r.l,m=o.length,l=m===u.length;l&&m--;)l=o[m]===u[m];if(l){r.k=e.k;return}r.k=r.m();var v=[];sr(e.k,r.k,v,0),v.length>0&&je(t,1,n,v);return;case 4:for(var c=e.j,p=r.j,f=!1,_=e.k;_.$===4;)f=!0,typeof c!="object"?c=[c,_.j]:c.push(_.j),_=_.k;for(var h=r.k;h.$===4;)f=!0,typeof p!="object"?p=[p,h.j]:p.push(h.j),h=h.k;if(f&&c.length!==p.length){je(t,0,n,r);return}(f?!n$(c,p):c!==p)&&je(t,2,n,p),sr(_,h,t,n+1);return;case 0:e.a!==r.a&&je(t,3,n,r.a);return;case 1:xo(e,r,t,n,a$);return;case 2:xo(e,r,t,n,i$);return;case 3:if(e.h!==r.h){je(t,0,n,r);return}var E=Li(e.d,r.d);E&&je(t,4,n,E);var x=r.i(e.g,r.g);x&&je(t,5,n,x);return}}}function n$(e,r){for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function xo(e,r,t,n,a){if(e.c!==r.c||e.f!==r.f){je(t,0,n,r);return}var s=Li(e.d,r.d);s&&je(t,4,n,s),a(e,r,t,n)}function Li(e,r,t){var n;for(var a in e){if(a==="a1"||a==="a0"||a==="a3"||a==="a4"){var s=Li(e[a],r[a]||{},a);s&&(n=n||{},n[a]=s);continue}if(!(a in r)){n=n||{},n[a]=t?t==="a1"?"":t==="a0"||t==="a3"?void 0:{f:e[a].f,o:void 0}:typeof e[a]=="string"?"":null;continue}var o=e[a],u=r[a];o===u&&a!=="value"&&a!=="checked"||t==="a0"&&t$(o,u)||(n=n||{},n[a]=u)}for(var m in r)m in e||(n=n||{},n[m]=r[m]);return n}function a$(e,r,t,n){var a=e.e,s=r.e,o=a.length,u=s.length;o>u?je(t,6,n,{v:u,i:o-u}):o<u&&je(t,7,n,{v:o,e:s});for(var m=o<u?o:u,l=0;l<m;l++){var v=a[l];sr(v,s[l],t,++n),n+=v.b||0}}function i$(e,r,t,n){for(var a=[],s={},o=[],u=e.e,m=r.e,l=u.length,v=m.length,c=0,p=0,f=n;c<l&&p<v;){var _=u[c],h=m[p],E=_.a,x=h.a,d=_.b,O=h.b,C=void 0,S=void 0;if(E===x){f++,sr(d,O,a,f),f+=d.b||0,c++,p++;continue}var X=u[c+1],be=m[p+1];if(X){var ie=X.a,me=X.b;S=x===ie}if(be){var He=be.a,Pe=be.b;C=E===He}if(C&&S){f++,sr(d,Pe,a,f),zt(s,a,E,O,p,o),f+=d.b||0,f++,Jt(s,a,E,me,f),f+=me.b||0,c+=2,p+=2;continue}if(C){f++,zt(s,a,x,O,p,o),sr(d,Pe,a,f),f+=d.b||0,c+=1,p+=2;continue}if(S){f++,Jt(s,a,E,d,f),f+=d.b||0,f++,sr(me,O,a,f),f+=me.b||0,c+=2,p+=1;continue}if(X&&ie===He){f++,Jt(s,a,E,d,f),zt(s,a,x,O,p,o),f+=d.b||0,f++,sr(me,Pe,a,f),f+=me.b||0,c+=2,p+=2;continue}break}for(;c<l;){f++;var _=u[c],d=_.b;Jt(s,a,_.a,d,f),f+=d.b||0,c++}for(;p<v;){var k=k||[],h=m[p];zt(s,a,h.a,h.b,void 0,k),p++}(a.length>0||o.length>0||k)&&je(t,8,n,{w:a,x:o,y:k})}var Uu="_elmW6BL";function zt(e,r,t,n,a,s){var o=e[t];if(!o){o={c:0,z:n,r:a,s:void 0},s.push({r:a,A:o}),e[t]=o;return}if(o.c===1){s.push({r:a,A:o}),o.c=2;var u=[];sr(o.z,n,u,o.r),o.r=a,o.s.s={w:u,A:o};return}zt(e,r,t+Uu,n,a,s)}function Jt(e,r,t,n,a){var s=e[t];if(!s){var o=je(r,9,a,void 0);e[t]={c:1,z:n,r:a,s:o};return}if(s.c===0){s.c=2;var u=[];sr(n,s.z,u,a),je(r,9,a,{w:u,A:s});return}Jt(e,r,t+Uu,n,a)}function Hu(e,r,t,n){Ut(e,r,t,0,0,r.b,n)}function Ut(e,r,t,n,a,s,o){for(var u=t[n],m=u.r;m===a;){var l=u.$;if(l===1)Hu(e,r.k,u.s,o);else if(l===8){u.t=e,u.u=o;var v=u.s.w;v.length>0&&Ut(e,r,v,0,a,s,o)}else if(l===9){u.t=e,u.u=o;var c=u.s;if(c){c.A.s=e;var v=c.w;v.length>0&&Ut(e,r,v,0,a,s,o)}}else u.t=e,u.u=o;if(n++,!(u=t[n])||(m=u.r)>s)return n}var p=r.$;if(p===4){for(var f=r.k;f.$===4;)f=f.k;return Ut(e,f,t,n,a+1,s,e.elm_event_node_ref)}for(var _=r.e,h=e.childNodes,E=0;E<_.length;E++){a++;var x=p===1?_[E]:_[E].b,d=a+(x.b||0);if(a<=m&&m<=d&&(n=Ut(h[E],x,t,n,a,d,o),!(u=t[n])||(m=u.r)>s))return n;a=d}return n}function Wu(e,r,t,n){return t.length===0?e:(Hu(e,r,t,n),ra(e,t))}function ra(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=n.t,s=s$(a,n);a===e&&(e=s)}return e}function s$(e,r){switch(r.$){case 0:return o$(e,r.s,r.u);case 4:return Ka(e,r.u,r.s),e;case 3:return e.replaceData(0,e.length,r.s),e;case 1:return ra(e,r.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=r.s:e.elm_event_node_ref={j:r.s,p:r.u},e;case 6:for(var s=r.s,n=0;n<s.i;n++)e.removeChild(e.childNodes[s.v]);return e;case 7:for(var s=r.s,t=s.e,n=s.v,a=e.childNodes[n];n<t.length;n++)e.insertBefore(Pr(t[n],r.u),a);return e;case 9:var s=r.s;if(!s)return e.parentNode.removeChild(e),e;var o=s.A;return typeof o.r<"u"&&e.parentNode.removeChild(e),o.s=ra(e,s.w),e;case 8:return u$(e,r);case 5:return r.s(e);default:Pt(10)}}function o$(e,r,t){var n=e.parentNode,a=Pr(r,t);return a.elm_event_node_ref||(a.elm_event_node_ref=e.elm_event_node_ref),n&&a!==e&&n.replaceChild(a,e),a}function u$(e,r){var t=r.s,n=l$(t.y,r);e=ra(e,t.w);for(var a=t.x,s=0;s<a.length;s++){var o=a[s],u=o.A,m=u.c===2?u.s:Pr(u.z,r.u);e.insertBefore(m,e.childNodes[o.r])}return n&&Ri(e,n),e}function l$(e,r){if(e){for(var t=Zr.createDocumentFragment(),n=0;n<e.length;n++){var a=e[n],s=a.A;Ri(t,s.c===2?s.s:Pr(s.z,r.u))}return t}}function Bi(e){if(e.nodeType===3)return Wa(e.textContent);if(e.nodeType!==1)return Wa("");for(var r=V,t=e.attributes,n=t.length;n--;){var a=t[n],s=a.name,o=a.value;r=gr(i(re,s,o),r)}for(var u=e.tagName.toLowerCase(),m=V,l=e.childNodes,n=l.length;n--;)m=gr(Bi(l[n]),m);return g(Ae,u,r,m)}function c$(e){for(var r=e.e,t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=r[a].b;return{$:1,c:e.c,d:e.d,e:n,f:e.f,b:e.b}}var m$=Q(function(e,r,t,n){return Pi(r,n,e.c3,e.dP,e.dy,function(a,s){var o=e.dR,u=n.node,m=Bi(u);return Ku(s,function(l){var v=o(l),c=Ju(m,v);u=Wu(u,m,c,a),m=v})})});Q(function(e,r,t,n){return Pi(r,n,e.c3,e.dP,e.dy,function(a,s){var o=e.bj&&e.bj(a),u=e.dR,m=Zr.title,l=Zr.body,v=Bi(l);return Ku(s,function(c){ea=o;var p=u(c),f=Ae("body")(V)(p.cD),_=Ju(v,f);l=Wu(l,v,_,a),v=f,ea=0,m!==p.cl&&(Zr.title=m=p.cl)})})});var ta=typeof requestAnimationFrame<"u"?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)};function Ku(e,r){r(e);var t=0;function n(){t=t===1?0:(ta(n),r(e),1)}return function(a,s){e=a,s?(r(e),t===2&&(t=1)):(t===0&&ta(n),t=2)}}$(function(e,r){return i(Ki,_n,kr(function(){r&&history.go(r),e()}))});$(function(e,r){return i(Ki,_n,kr(function(){history.pushState({},"",r),e()}))});$(function(e,r){return i(Ki,_n,kr(function(){history.replaceState({},"",r),e()}))});var v$={addEventListener:function(){},removeEventListener:function(){}},$$=typeof window<"u"?window:v$;w(function(e,r,t){return qu(kr(function(n){function a(s){Ii(t(s))}return e.addEventListener(r,a,Mi&&{passive:!0}),function(){e.removeEventListener(r,a)}}))});$(function(e,r){var t=Qe(e,r);return ir(t)?H(t.a):q});function Gu(e,r){return kr(function(t){ta(function(){var n=document.getElementById(e);t(n?Hr(r(n)):_v(I$(e)))})})}function f$(e){return kr(function(r){ta(function(){r(Hr(e()))})})}$(function(e,r){return Gu(r,function(t){return t[e](),qt})});$(function(e,r){return f$(function(){return $$.scroll(e,r),qt})});w(function(e,r,t){return Gu(e,function(n){return n.scrollLeft=r,n.scrollTop=t,qt})});$(function(e,r){return e&r});$(function(e,r){return e|r});$(function(e,r){return e^r});$(function(e,r){return r<<e});$(function(e,r){return r>>e});$(function(e,r){return r>>>e});var Yu=1,d$=2,Qu=0,L=lm,Xu=w(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,s=t.d,o=t.e,u=e,m=g(e,n,a,g(Xu,e,r,o)),l=s;e=u,r=m,t=l;continue e}}),at=function(e){return g(Xu,w(function(r,t,n){return i(L,y(r,t),n)}),V,e)},qn=dm;w(function(e,r,t){var n=t.c,a=t.d,s=$(function(o,u){if(o.$){var l=o.a;return g(qn,e,u,l)}else{var m=o.a;return g(qn,s,u,m)}});return g(qn,s,g(qn,e,r,a),n)});var Dr=function(e){return{$:1,a:e}},zi=$(function(e,r){return{$:3,a:e,b:r}}),Co=$(function(e,r){return{$:0,a:e,b:r}}),Zu=$(function(e,r){return{$:1,a:e,b:r}}),pr=function(e){return{$:0,a:e}},p$=function(e){return{$:2,a:e}},b$=bm,H=function(e){return{$:0,a:e}},q={$:1},el=zm,h$=fv,se=Iu,Ce=$(function(e,r){return i(Rm,e,ji(r))}),Tr=$(function(e,r){return b(i(Tm,e,r))}),rl=function(e){return i(Ce,`
    `,i(Tr,`
`,e))},$e=w(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b,s=e,o=i(e,n,r),u=a;e=s,r=o,t=u;continue e}else return r}),Rr=function(e){return g($e,$(function(r,t){return t+1}),0,e)},g$=cm,_$=w(function(e,r,t){e:for(;;)if(ne(e,r)<1){var n=e,a=r-1,s=i(L,r,t);e=n,r=a,t=s;continue e}else return t}),Ji=$(function(e,r){return g(_$,e,r,V)}),br=$(function(e,r){return g(g$,e,i(Ji,0,Rr(r)-1),r)}),pn=Gm,tl=function(e){var r=pn(e);return 97<=r&&r<=122},nl=function(e){var r=pn(e);return r<=90&&65<=r},y$=function(e){return tl(e)||nl(e)},na=function(e){var r=pn(e);return r<=57&&48<=r},k$=function(e){return tl(e)||nl(e)||na(e)},Re=function(e){return g($e,L,V,e)},bn=Nm,E$=$(function(e,r){return`

(`+(se(e+1)+(") "+rl(al(r))))}),al=function(e){return i(x$,e,V)},x$=$(function(e,r){e:for(;;)switch(e.$){case 0:var t=e.a,o=e.b,n=function(){var h=bn(t);if(h.$===1)return!1;var E=h.a,x=E.a,d=E.b;return y$(x)&&i(el,k$,d)}(),a=n?"."+t:"['"+(t+"']"),m=o,l=i(L,a,r);e=m,r=l;continue e;case 1:var s=e.a,o=e.b,u="["+(se(s)+"]"),m=o,l=i(L,u,r);e=m,r=l;continue e;case 2:var v=e.a;if(v.b)if(v.b.b){var c=function(){return r.b?"The Json.Decode.oneOf at json"+i(Ce,"",Re(r)):"Json.Decode.oneOf"}(),_=c+(" failed in the following "+(se(Rr(v))+" ways:"));return i(Ce,`

`,i(L,_,i(br,E$,v)))}else{var o=v.a,m=o,l=r;e=m,r=l;continue e}else return"Ran into a Json.Decode.oneOf with no possibilities"+function(){return r.b?" at json"+i(Ce,"",Re(r)):"!"}();default:var p=e.a,f=e.b,_=function(){return r.b?"Problem with the value at json"+(i(Ce,"",Re(r))+`:

    `):`Problem with the given value:

`}();return _+(rl(i(h$,4,f))+(`

`+p))}}),lr=32,Ga=Q(function(e,r,t,n){return{$:0,a:e,b:r,c:t,d:n}}),Ya=mm,_a=Sm,aa=$(function(e,r){return bo(r)/bo(e)}),wo=Cm,Qa=_a(i(aa,2,lr)),C$=F(Ga,0,Qa,Ya,Ya),il=$m,w$=function(e){return{$:1,a:e}};$(function(e,r){return e(r)});var S$=$(function(e,r){return r(e)}),hn=Vm,So=vm,qe=$(function(e,r){return ne(e,r)>0?e:r}),V$=function(e){return{$:0,a:e}},sl=fm,O$=$(function(e,r){e:for(;;){var t=i(sl,lr,e),n=t.a,a=t.b,s=i(L,V$(n),r);if(a.b){var o=a,u=s;e=o,r=u;continue e}else return Re(s)}}),A$=$(function(e,r){e:for(;;){var t=_a(r/lr);if(t===1)return i(sl,lr,e).a;var n=i(O$,e,V),a=t;e=n,r=a;continue e}}),j$=$(function(e,r){if(r.o){var t=r.o*lr,n=hn(i(aa,lr,t-1)),a=e?Re(r.u):r.u,s=i(A$,a,r.o);return F(Ga,So(r.t)+t,i(qe,5,n*Qa),s,r.t)}else return F(Ga,So(r.t),Qa,Ya,r.t)}),D$=Oe(function(e,r,t,n,a){e:for(;;){if(r<0)return i(j$,!1,{u:n,o:t/lr|0,t:a});var s=w$(g(il,lr,r,e)),o=e,u=r-lr,m=t,l=i(L,s,n),v=a;e=o,r=u,t=m,n=l,a=v;continue e}}),N$=$(function(e,r){if(e<=0)return C$;var t=e%lr,n=g(il,t,e-t,r),a=e-t-lr;return P(D$,r,a,e,V,n)}),ir=function(e){return!e.$},Se=lv,ol=cv,mr=Qm,Ui=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},_r=function(e){return e},I$=_r,Vo=yr(function(e,r,t,n,a,s){return{bJ:s,bN:r,b0:n,b2:t,b9:e,ca:a}}),q$=Jm,Fe=Im,Ir=Mm,gn=$(function(e,r){return e<1?r:g(Ir,e,Fe(r),r)}),ya=Hm,Ft=function(e){return e===""},wt=$(function(e,r){return e<1?"":g(Ir,0,e,r)}),Hi=Wm,Oo=Oe(function(e,r,t,n,a){if(Ft(a)||i(q$,"@",a))return q;var s=i(ya,":",a);if(s.b){if(s.b.b)return q;var o=s.a,u=Hi(i(gn,o+1,a));if(u.$===1)return q;var m=u;return H(ur(Vo,e,i(wt,o,a),m,r,t,n))}else return H(ur(Vo,e,a,q,r,t,n))}),Ao=Q(function(e,r,t,n){if(Ft(n))return q;var a=i(ya,"/",n);if(a.b){var s=a.a;return P(Oo,e,i(gn,s,n),r,t,i(wt,s,n))}else return P(Oo,e,"/",r,t,n)}),jo=w(function(e,r,t){if(Ft(t))return q;var n=i(ya,"?",t);if(n.b){var a=n.a;return F(Ao,e,H(i(gn,a+1,t)),r,i(wt,a,t))}else return F(Ao,e,q,r,t)});$(function(e,r){if(Ft(r))return q;var t=i(ya,"#",r);if(t.b){var n=t.a;return g(jo,e,H(i(gn,n+1,r)),i(wt,n,r))}else return g(jo,e,q,r)});var P$=Um,_n=function(e){},yn=Hr,F$=yn(0),ul=Q(function(e,r,t,n){if(n.b){var a=n.a,s=n.b;if(s.b){var o=s.a,u=s.b;if(u.b){var m=u.a,l=u.b;if(l.b){var v=l.a,c=l.b,p=t>500?g($e,e,r,Re(c)):F(ul,e,r,t+1,c);return i(e,a,i(e,o,i(e,m,i(e,v,p))))}else return i(e,a,i(e,o,i(e,m,r)))}else return i(e,a,i(e,o,r))}else return i(e,a,r)}else return r}),cr=w(function(e,r,t){return F(ul,e,r,0,t)}),ae=$(function(e,r){return g(cr,$(function(t,n){return i(L,e(t),n)}),V,r)}),ia=Ha,Wi=$(function(e,r){return i(ia,function(t){return yn(e(t))},r)}),T$=w(function(e,r,t){return i(ia,function(n){return i(ia,function(a){return yn(i(e,n,a))},t)},r)}),R$=function(e){return g(cr,T$(L),yn(V),e)},M$=Ov,L$=$(function(e,r){var t=r;return qu(i(ia,M$(e),t))}),B$=w(function(e,r,t){return i(Wi,function(n){return 0},R$(i(ae,L$(e),r)))}),z$=w(function(e,r,t){return yn(0)}),J$=$(function(e,r){var t=r;return i(Wi,e,t)});Te.Task=Sv(F$,B$,z$,J$);var U$=Fi("Task"),Ki=$(function(e,r){return U$(i(Wi,e,r))}),H$=m$,sa=Di,Cr={$:-2},ht=Cr,Do={aw:V,an:q,U:ht,aR:ht,S:ht,az:ht},W$=$(function(e,r){return g($e,hv(e),dv(),r)}),Yt=Ni,ll=Ru("evaluateAll",W$(Yt)),K$=function(e){return b(["informations","alimentation","transport","infrastructures","hÃ©bergement","Ã©nergie","communication"])},G$=w(function(e,r,t){var n=e(r);if(n.$)return t;var a=n.a;return i(L,a,t)}),xr=$(function(e,r){return g(cr,G$(e),V,r)}),Mr=$(function(e,r){if(r.$)return q;var t=r.a;return H(e(t))}),Gi=$(function(e,r){e:for(;;)if(r.b){var t=r.a,n=r.b;if(e(t))return!0;var a=e,s=n;e=a,r=s;continue e}else return!1}),Ht=$(function(e,r){return i(Gi,function(t){return ee(t,e)},r)}),St=function(e){if(e.b){var r=e.a;return e.b,H(r)}else return q},cl=function(e){return i(Tr," . ",e)},oe=$(function(e,r){if(r.$)return e;var t=r.a;return t}),Y$=function(e){return i(oe,e,St(cl(e)))},ml=um,vr=$(function(e,r){e:for(;;){if(r.$===-2)return q;var t=r.b,n=r.c,a=r.d,s=r.e,o=i(ml,e,t);switch(o){case 0:var u=e,m=a;e=u,r=m;continue e;case 1:return H(n);default:var u=e,m=s;e=u,r=m;continue e}}}),Y=Oe(function(e,r,t,n,a){return{$:-1,a:e,b:r,c:t,d:n,e:a}}),Vt=Oe(function(e,r,t,n,a){if(a.$===-1&&!a.a){a.a;var s=a.b,o=a.c,u=a.d,m=a.e;if(n.$===-1&&!n.a){n.a;var l=n.b,v=n.c,c=n.d,p=n.e;return P(Y,0,r,t,P(Y,1,l,v,c,p),P(Y,1,s,o,u,m))}else return P(Y,e,s,o,P(Y,0,r,t,n,u),m)}else if(n.$===-1&&!n.a&&n.d.$===-1&&!n.d.a){n.a;var l=n.b,v=n.c,f=n.d;f.a;var _=f.b,h=f.c,E=f.d,x=f.e,p=n.e;return P(Y,0,l,v,P(Y,1,_,h,E,x),P(Y,1,r,t,p,a))}else return P(Y,e,r,t,n,a)}),Xa=w(function(e,r,t){if(t.$===-2)return P(Y,0,e,r,Cr,Cr);var n=t.a,a=t.b,s=t.c,o=t.d,u=t.e,m=i(ml,e,a);switch(m){case 0:return P(Vt,n,a,s,g(Xa,e,r,o),u);case 1:return P(Y,n,a,r,o,u);default:return P(Vt,n,a,s,o,g(Xa,e,r,u))}}),ka=w(function(e,r,t){var n=g(Xa,e,r,t);if(n.$===-1&&!n.a){n.a;var a=n.b,s=n.c,o=n.d,u=n.e;return P(Y,1,a,s,o,u)}else{var m=n;return m}}),Q$=function(e){e:for(;;)if(e.$===-1&&e.d.$===-1){var r=e.d,t=r;e=t;continue e}else return e},vl=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.e.d.$===-1&&!e.e.d.a){var r=e.a,t=e.b,n=e.c,a=e.d;a.a;var s=a.b,o=a.c,u=a.d,m=a.e,l=e.e;l.a;var v=l.b,c=l.c,p=l.d;p.a;var f=p.b,_=p.c,h=p.d,E=p.e,x=l.e;return P(Y,0,f,_,P(Y,1,t,n,P(Y,0,s,o,u,m),h),P(Y,1,v,c,E,x))}else{var r=e.a,t=e.b,n=e.c,d=e.d;d.a;var s=d.b,o=d.c,u=d.d,m=d.e,O=e.e;O.a;var v=O.b,c=O.c,p=O.d,x=O.e;return P(Y,1,t,n,P(Y,0,s,o,u,m),P(Y,0,v,c,p,x))}else return e},No=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.d.d.$===-1&&!e.d.d.a){var r=e.a,t=e.b,n=e.c,a=e.d;a.a;var s=a.b,o=a.c,u=a.d;u.a;var m=u.b,l=u.c,v=u.d,c=u.e,p=a.e,f=e.e;f.a;var _=f.b,h=f.c,E=f.d,x=f.e;return P(Y,0,s,o,P(Y,1,m,l,v,c),P(Y,1,t,n,p,P(Y,0,_,h,E,x)))}else{var r=e.a,t=e.b,n=e.c,d=e.d;d.a;var s=d.b,o=d.c,O=d.d,p=d.e,C=e.e;C.a;var _=C.b,h=C.c,E=C.d,x=C.e;return P(Y,1,t,n,P(Y,0,s,o,O,p),P(Y,0,_,h,E,x))}else return e},X$=It(function(e,r,t,n,a,s,o){if(s.$===-1&&!s.a){s.a;var u=s.b,m=s.c,l=s.d,v=s.e;return P(Y,t,u,m,l,P(Y,0,n,a,v,o))}else{e:for(;;)if(o.$===-1&&o.a===1)if(o.d.$===-1)if(o.d.a===1){o.a;var c=o.d;return c.a,No(r)}else break e;else return o.a,o.d,No(r);else break e;return r}}),Jn=function(e){if(e.$===-1&&e.d.$===-1){var r=e.a,t=e.b,n=e.c,a=e.d,s=a.a,o=a.d,u=e.e;if(s===1){if(o.$===-1&&!o.a)return o.a,P(Y,r,t,n,Jn(a),u);var m=vl(e);if(m.$===-1){var l=m.a,v=m.b,c=m.c,p=m.d,f=m.e;return P(Vt,l,v,c,Jn(p),f)}else return Cr}else return P(Y,r,t,n,Jn(a),u)}else return Cr},Qt=$(function(e,r){if(r.$===-2)return Cr;var t=r.a,n=r.b,a=r.c,s=r.d,o=r.e;if(ne(e,n)<0)if(s.$===-1&&s.a===1){s.a;var u=s.d;if(u.$===-1&&!u.a)return u.a,P(Y,t,n,a,i(Qt,e,s),o);var m=vl(r);if(m.$===-1){var l=m.a,v=m.b,c=m.c,p=m.d,f=m.e;return P(Vt,l,v,c,i(Qt,e,p),f)}else return Cr}else return P(Y,t,n,a,i(Qt,e,s),o);else return i(Z$,e,ve(X$,e,r,t,n,a,s,o))}),Z$=$(function(e,r){if(r.$===-1){var t=r.a,n=r.b,a=r.c,s=r.d,o=r.e;if(ee(e,n)){var u=Q$(o);if(u.$===-1){var m=u.b,l=u.c;return P(Vt,t,m,l,s,Jn(o))}else return Cr}else return P(Vt,t,n,a,s,i(Qt,e,o))}else return Cr}),ef=$(function(e,r){var t=i(Qt,e,r);if(t.$===-1&&!t.a){t.a;var n=t.b,a=t.c,s=t.d,o=t.e;return P(Y,1,n,a,s,o)}else{var u=t;return u}}),rf=w(function(e,r,t){var n=r(i(vr,e,t));if(n.$)return i(ef,e,t);var a=n.a;return g(ka,e,a,t)}),tf=$(function(e,r){return g($e,$(function(t,n){var a=Y$(t);return i(Ht,a,r)?g(rf,a,function(s){if(s.$)return H(b([t]));var o=s.a;return H(i(L,t,o))},n):n}),ht,i(xr,function(t){var n=t.a,a=t.b;return i(Mr,function(s){return n},a.dl)},at(e)))}),nf=Fu,Un=nf(V),$l=function(e){return g($e,$(function(r,t){var n=r.a,a=r.b;return g(ka,n,a,t)}),ht,e)},af=sv,fl=function(e){return i(Se,$l,af(e))},sf=It(function(e,r,t,n,a,s,o){return{cQ:n,cX:a,de:o,dl:e,dz:r,cl:s,dO:t}}),of=w(function(e,r,t){return{cx:r,ds:e,dt:t}}),uf=function(e){return{$:0,a:e}},lf=function(e){return{$:2,a:e}},cf=function(e){return{$:7,a:e}},mf=function(e){return{$:1,a:e}},vf=function(e){return{$:5,a:e}},$f=function(e){return{$:6,a:e}},ff=function(e){return{$:4,a:e}},df=function(e){return{$:3,a:e}},_e=av,it=ov,Hn=function(e){return i(it,e,mr(0))},Nr=tv,Xt=function(e){return{$:2,a:e}},dl={$:3},pl=function(e){return{$:1,a:e}},Yi=function(e){return{$:0,a:e}},Qi=Xm,wr=Zm,kn=nv,Tt=uv,Ie=rv,Xi=Tt(b([i(Se,function(e){switch(e){case"oui":return Xt(!0);case"non":return Xt(!1);default:return Yi(e)}},Ie),i(Se,pl,wr),i(Se,Xt,Qi),kn(dl)])),nr=function(e){return Tt(b([kn(q),i(Se,H,e)]))},bl=ol(S$),oa=$(function(e,r){return g(cr,_e,r,e)}),on=ev,pf=w(function(e,r,t){var n=function(s){return Tt(b([s,kn(t)]))},a=function(s){var o=i(sa,i(oa,e,on),s);if(o.$)return mr(t);var u=o.a,m=i(sa,n(r),u);if(m.$)return i(oa,e,n(r));var l=m.a;return mr(l)};return i(it,a,on)}),ar=Q(function(e,r,t,n){return i(bl,g(pf,b([e]),r,t),n)}),bf=$(function(e,r){return{cI:e,b5:r}}),_t=w(function(e,r,t){return i(bl,i(_e,e,r),t)}),hf=g(_t,"possibilitÃ©s",Nr(Ie),F(ar,"choix obligatoire",nr(Ie),q,mr(bf))),gf=$(function(e,r){return{cA:r,dm:e}}),_f=fl(Xi),yf=g(_t,"avec",_f,g(_t,"rÃ¨gle",Ie,mr(gf)));function Zt(){return F(ar,"sinon",nr(en()),q,F(ar,"alors",nr(en()),q,F(ar,"si",nr(en()),q,mr(of))))}function en(){return Tt(b([i(Se,uf,Xi),i(Se,mf,i(_e,"somme",Nr(Ie))),i(Se,lf,i(_e,"moyenne",Nr(Ie))),i(Se,df,i(_e,"variations",Nr(Hn(function(e){return Zt()})))),i(Se,ff,i(_e,"une possibilitÃ©",hf)),i(Se,vf,i(_e,"toutes ces conditions",Nr(Hn(function(e){return Zt()})))),i(Se,$f,i(_e,"une de ces conditions",Nr(Hn(function(e){return Zt()})))),i(Se,cf,i(_e,"recalcul",yf))]))}var kf=Zt();Zt=function(){return kf};var Za=en();en=function(){return Za};var Ef=F(ar,"note",nr(Ie),q,F(ar,"titre",nr(Ie),q,F(ar,"formule",nr(Za),q,F(ar,"par dÃ©faut",nr(Za),q,F(ar,"unitÃ©",nr(Ie),q,F(ar,"rÃ©sumÃ©",nr(Ie),q,F(ar,"question",nr(Ie),q,mr(sf)))))))),xf=fl(Ef),Cf=function(e){var r=i(sa,xf,e);if(r.$){var a=r.a;return y(U(Do,{an:H(a)}),Un)}else{var t=r.a,n=K$();return y(U(Do,{aw:n,aR:i(tf,t,n),S:t}),ll(i(ae,function(s){var o=s.a;return o},at(t))))}},wf=function(e){return{$:3,a:e}},Sf=function(e){return{$:2,a:e}},Vf=function(e){return{$:1,a:e}},Of=Fu,ua=iv,Af=Ti("evaluatedRule",i(it,function(e){return i(it,function(r){return mr(y(e,r))},i(ua,1,on))},i(ua,0,Ie))),jf=Ti("evaluatedRules",Nr(i(it,function(e){return i(it,function(r){return mr(y(e,r))},i(ua,1,on))},i(ua,0,Ie)))),Df=Ti("situationUpdated",kn(0)),Nf=function(e){return Of(b([Af(Vf),jf(Sf),Df(wf)]))},hl=w(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,s=t.d,o=t.e,u=e,m=g(e,n,a,g(hl,e,r,s)),l=o;e=u,r=m,t=l;continue e}}),If=w(function(e,r,t){return g(hl,w(function(n,a,s){return g(bv,e(n),r(a),s)}),pv(),t)}),qf=Ni,Pf=gv,Ff=function(e){return"'"+(e+"'")},Tf=function(e){switch(e.$){case 0:var r=e.a;return Yt(Ff(r));case 1:var t=e.a;return qf(t);case 2:var n=e.a;return Yt(n?"oui":"non");default:return Pf}},Rf=function(e){return g(If,_r,Tf,e)},Mf=Ru("setSituation",_r),Lf=w(function(e,r,t){return{bS:t,da:r,ag:e}}),Bf=g(_t,"isNullable",Qi,g(_t,"missingVariables",Nr(Ie),g(_t,"nodeValue",Xi,mr(Lf)))),Io=$(function(e,r){var t=e.a,n=e.b,a=i(sa,Bf,n);if(a.$){var o=a.a;return U(r,{an:H(o)})}else{var s=a.a;return U(r,{U:g(ka,t,s,r.U)})}}),zf=$(function(e,r){switch(e.$){case 0:var t=e.a,o=t.a,n=t.b,a=g(ka,o,n,r.az);return y(U(r,{az:a}),Mf(Rf(a)));case 1:var s=e.a,o=s.a,u=s.b;return y(i(Io,y(o,u),r),Un);case 2:var m=e.a;return y(g($e,Io,r,m),Un);case 3:return y(r,ll(i(ae,function(l){var v=l.a;return v},at(r.S))));default:return y(r,Un)}}),mt=$(function(e,r){return i(Bu,e,Yt(r))}),W=mt("className"),ce=Ae("div"),Jf=function(e){return e.$===-2},Uf=Rv,Pn=Uf,gl=Wa,ke=gl,Hf=Ae("ul"),Wf=mt("id"),Zi=Lm,ei=Ae("label"),un=Ae("span"),yt=function(e){return{$:0,a:e}},Kf=Ni,es=$(function(e,r){return i(Bu,e,Kf(r))}),Wt=es("disabled"),j=Iu,Yr=Ae("input"),Gf=function(e){return y(e,!0)},Yf=function(e){return{$:1,a:e}},_l=Lu,Qf=$(function(e,r){return i(_l,e,Yf(r))}),Xf=i(oa,b(["target","value"]),Ie),ft=function(e){return i(Qf,"input",i(Se,Gf,i(Se,e,Xf)))},qo=mt("placeholder"),yl=Km,Qr=mt("type"),ri=mt("value"),Po=es("checked"),Zf=function(e){return{$:0,a:e}},kl=$(function(e,r){return i(_l,e,Zf(r))}),ed=i(oa,b(["target","checked"]),Qi),Fo=function(e){return i(kl,"change",i(Se,e,ed))},To=$(function(e,r){return i(ce,b([W("form-control")]),b([i(ei,b([W("label cursor-pointer")]),b([i(un,b([W("label-text")]),b([ke("Oui")])),i(Yr,b([W("radio"),Qr("radio"),Po(r),Fo(function(t){return yt(y(e,Xt(t)))})]),V)])),i(ei,b([W("label cursor-pointer")]),b([i(un,b([W("label-text")]),b([ke("Non")])),i(Yr,b([W("radio"),Qr("radio"),Po(!r),Fo(function(t){return yt(y(e,Xt(!t)))})]),V)]))]))}),ti=$(function(e,r){if(r.$)return q;var t=r.a;return e(t)}),rd=w(function(e,r,t){return i(oe,t,i(ti,function(n){return n.cl},i(vr,r+(" . "+t),e)))}),El=function(e){return{$:2,a:e}},td=Oe(function(e,r,t,n,a){return{cO:t,bR:r,b$:e,aQ:n,aU:a}}),xl=$(function(e,r){return r.b?g(cr,L,r,e):e}),Cl=function(e){return i(Ce,"",e)},nd=function(e){return b([e])},ad=function(e){var r=i(el,function(t){return t==="0"},Cl(i(xl,e.bR,nd(e.cO))));return r?1:e.b$<0?2:0},ni=qm,Lr=function(e){return e<0?-e:e},wl=w(function(e,r,t){return e<=0?t:g(wl,e>>1,M(r,r),e&1?M(t,r):t)}),ln=$(function(e,r){return g(wl,e,r,"")}),id=$(function(e,r){var t=Fe(r),n=ne(t,e)<0?Lr(e-t):0;return M(r,i(ln,n,"0"))}),la=$(function(e,r){return e<1?r:g(Ir,0,-e,r)}),cn=$(function(e,r){return e<1?"":g(Ir,-e,Fe(r),r)}),Sl=function(e){return i(cn,1,e)!=="0"?e:Sl(i(la,1,e))},sd=$(function(e,r){var t=e.cO;switch(t.$){case 1:return Sl(r);case 2:return r;default:var n=t.a;return i(id,n,r)}}),od=Fm,ud=function(e){return g(od,L,V,e)},ld=$(function(e,r){var t=i(Gi,function(n){return n!=="0"&&n!=="."},ud(r));return M(e&&t?"-":"",r)}),ai=Dm,cd=Ym,Vl=function(e){var r=e.a,t=e.b;if(r==="9"){var n=bn(t);if(n.$===1)return"01";var a=n.a;return i(ai,"0",Vl(a))}else{var s=pn(r);return s>=48&&s<57?i(ai,cd(s+1),t):"0"}},md=wm,vd=jm,Ol=function(e){return i(ai,e,"")},ii=w(function(e,r,t){return M(t,i(ln,e-Fe(t),Ol(r)))}),Ro=Pm,Al=function(e){var r=i(Tr,".",e);if(r.b)if(r.b.b){var t=r.a,n=r.b,a=n.a;return y(t,a)}else{var t=r.a;return y(t,"0")}else return y("0","0")},$d=$(function(e,r){var t=r.a,n=r.b;return y(e(t),n)}),fd=function(e){var r=i(Tr,"e",j(Lr(e)));if(r.b)if(r.b.b){var t=r.a,n=r.b,a=n.a,s=i(oe,0,Hi(i(P$,"+",a)?i(gn,1,a):a)),o=Al(t),u=o.a,m=o.b,l=M(u,m),v=s<0?i(oe,"0",i(Mr,function(c){var p=c.a,f=c.b;return p+("."+f)},i(Mr,$d(Ol),bn(M(i(ln,Lr(s),"0"),l))))):g(ii,s+1,"0",l);return M(e<0?"-":"",v)}else{var t=r.a;return M(e<0?"-":"",t)}else return""},dd=w(function(e,r,t){if(md(t)||vd(t))return j(t);var n=t<0,a=Al(fd(Lr(t))),s=a.a,o=a.b,u=Fe(s)+r,m=M(i(ln,-u+1,"0"),g(ii,u,"0",M(s,o))),l=Fe(m),v=i(qe,1,u),c=i(e,n,g(Ir,v,l,m)),p=g(Ir,0,v,m),f=c?Ro(i(oe,"1",i(Mr,Vl,bn(Ro(p))))):p,_=Fe(f),h=f==="0"?f:r<=0?M(f,i(ln,Lr(r),"0")):ne(r,Fe(o))<0?g(Ir,0,_-r,f)+("."+g(Ir,_-r,_,f)):M(s+".",g(ii,r,"0",o));return i(ld,n,h)}),si=dd($(function(e,r){var t=bn(r);if(t.$===1)return!1;if(t.a.a==="5")return t.a.b===""?(t.a,!e):(t.a,!0);var n=t.a,a=n.a;return function(s){return s>53&&e||s>=53&&!e}(pn(a))})),pd=function(e){if(e.b){e.a;var r=e.b;return H(r)}else return q},bd=$(function(e,r){var t=function(){var o=e.cO;switch(o.$){case 1:var u=o.a;return si(u);case 0:return j;default:var m=o.a;return si(m)}}(),n=i(Tr,".",t(r)),a=function(){var o=pd(n);if(o.$)return"";var u=o.a;return i(oe,"",St(u))}(),s=i(oe,"",St(n));return y(s,a)}),hd=function(e){var r=Fe(e)>3?i(cn,3,e):e,t=function(n){return Fe(n)>2?i(L,i(cn,2,n),t(i(la,2,n))):Fe(n)?b([n]):V};return Re(i(L,r,t(i(la,3,e))))},gd=function(e){var r=function(t){return Fe(t)>3?i(L,i(cn,3,t),r(i(la,3,t))):b([t])};return Re(r(e))},_d=$(function(e,r){return e?hd(i(ni,na,r)):gd(i(ni,na,r))}),yd=$(function(e,r){var t=i(bd,e,r),n=i(_d,e.aV,i(ni,na,t.a)),a=i(sd,e,t.b),s=P(td,r,n,a,"",""),o=ad(s);switch(o){case 2:return U(s,{aQ:e.bb,aU:e.bc});case 0:return U(s,{aQ:e.b3,aU:e.b4});default:return U(s,{aQ:e.cv,aU:e.cw})}}),kd=$(function(e,r){return r===""?"":M(e.ad,r)}),Ed=$(function(e,r){var t=kd(e),n=i(Ce,e._,r.bR),a=t(r.cO);return Cl(b([r.aQ,n,a,r.aU]))}),xd=$(function(e,r){return i(Ed,e,i(yd,e,r))}),Cd=function(e){return{$:0,a:e}},wd={ad:".",cO:Cd(0),bb:"â",bc:"",b3:"",b4:"",aV:0,_:"",cv:"",cw:""},Sd=U(wd,{ad:",",cO:El(3),_:"â¯"}),jl=function(e){switch(e.$){case 0:var r=e.a;return r;case 1:var t=e.a;return i(xd,U(Sd,{cO:El(1)}),t);case 2:var n=e.a;return n?"oui":"non";default:return""}},Vd=Ae("option"),Od=Ae("select"),Ad=es("selected"),Mo=Oe(function(e,r,t,n,a){return i(Od,b([ft(function(s){return yt(y(r,Yi(s)))}),W("select select-bordered"),Wt(a)]),i(ae,function(s){return i(Vd,b([ri(s),Ad(ee(jl(n),s))]),b([ke(g(rd,e,r,s))]))},t))}),jd=w(function(e,r,t){var n=r.a,a=r.b,s=function(_){var h=yl(_);if(h.$)return Ft(_)?yt(y(n,dl)):yt(y(n,Yi(_)));var E=h.a;return yt(y(n,pl(E)))},o=i(Mr,function(_){var h=_.ag;return h},i(vr,n,e.U)),u=we(a.cX,i(vr,n,e.az),o);e:for(;;){r:for(;;){t:for(;;)if(u.b.$){if(u.c.$)break t;switch(u.c.a.$){case 1:if(!u.a.$&&u.a.a.$===4)break r;u.b;var m=u.c.a.a;return i(Yr,b([Qr("number"),Wt(t),W("input input-bordered"),qo(j(m)),ft(s)]),V);case 0:if(!u.a.$&&u.a.a.$===4)break r;u.b;var l=u.c.a.a;return i(Yr,b([Qr("text"),Wt(t),W("input input-bordered"),qo(l),ft(s)]),V);case 2:if(!u.a.$&&u.a.a.$===4)break r;u.b;var v=u.c.a.a;return i(To,n,v);default:if(!u.a.$&&u.a.a.$===4)break r;break t}}else switch(u.b.a.$){case 1:if(!u.a.$&&u.a.a.$===4)break e;var m=u.b.a.a;return i(Yr,b([Qr("number"),Wt(t),W("input input-bordered"),ri(j(m)),ft(s)]),V);case 0:if(!u.a.$&&u.a.a.$===4)break e;var l=u.b.a.a;return i(Yr,b([Qr("text"),Wt(t),W("input input-bordered"),ri(l),ft(s)]),V);case 2:if(!u.a.$&&u.a.a.$===4)break e;var v=u.b.a.a;return i(To,n,v);default:if(!u.a.$&&u.a.a.$===4)break e;break t}return i(Yr,b([Qr("number"),ft(s)]),V)}var p=u.a.a.a.b5;u.b;var c=u.c.a;return P(Mo,e.S,n,p,c,t)}var p=u.a.a.a.b5,f=u.b.a;return P(Mo,e.S,n,p,f,t)}),Dd=w(function(e,r,t){var n=r.a,a=r.b;return i(oe,ke(""),i(Mr,function(s){return i(ce,V,b([i(ei,b([W("form-control")]),b([i(ce,b([W("label")]),b([i(un,b([W("label-text text-md font-semibold")]),b([ke(s)]))])),g(jd,e,y(n,a),t)]))]))},a.cl))}),Nd=function(e){return i(ce,b([W("bg-neutral border-x border-b border-base-200 overflow-y-auto rounded-b-md h-[87vh]")]),i(ae,function(r){var t=r.a,n=r.b;return i(ce,b([W("mb-8")]),b([i(ce,b([W("bg-base-100 p-4 mb-4 border-y border-base-200 sticky top-0"),Wf(t)]),b([ke(Zi(t))])),i(ce,b([W("grid grid-cols-1 lg:grid-cols-2 gap-6 px-6")]),i(xr,function(a){var s=y(i(vr,a,e.S),i(vr,a,e.U));if(!s.a.$&&!s.b.$){var o=s.a.a,u=s.b.a;return H(g(Dd,e,y(a,o),u.bS))}else return q},n))]))},at(e.aR)))},Dl=Ae("a"),Nl=function(e){return i(mt,"href",Uv(e))},Id=Ae("li"),qd=function(e){return i(ae,function(r){return i(Id,b([W("p-1 hover:bg-base-100 rounded-lg")]),b([i(Dl,b([W("tab cursor-pointer text-xs hover:text-accent"),Nl("#"+r)]),b([ke(Zi(r))]))]))},e)},ye=re("class"),kt=re("d"),Br=re("fill"),Me=Mu("http://www.w3.org/2000/svg"),Et=Me("path"),Pd=re("stroke-linecap"),Fd=re("stroke-linejoin"),st=re("stroke-width"),Il=Me("svg"),ql=re("viewBox"),Td=i(Il,b([Br("none"),ql("0 0 24 24"),ye("stroke-current shrink-0 h-6 w-6")]),b([i(Et,b([Pd("round"),Fd("round"),st("2"),kt("M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z")]),V)])),Lo=function(e){if(e.$)return ke("");var r=e.a;return i(ce,b([W("alert alert-error")]),b([Td,i(un,V,b([ke(al(r))]))]))},Ue=w(function(e,r,t){return r(e(t))}),Rd=function(e){return{$:0,a:e}},Md=w(function(e,r,t){return Rd({f:t,bG:Oe(function(n,a,s,o,u){return V}),F:i(Ue,e,i(Ue,Mr(j),oe("N/A"))),c4:r,bW:q,W:e,aE:e})}),Ld=function(e){return i(Md,i(Ue,e,H),V)},Bd=Oe(function(e,r,t,n,a){return{$:2,a:e,b:r,c:t,d:n,e:a}}),zd=function(e){return{$:0,a:e}},Jd=$(function(e,r){var t=e.b;return t(r)}),Pl=Jd,$r=$(function(e,r){var t=$(function(n,a){return n(a)});return g($e,t,r,e)}),rs=$(function(e,r){return{$:0,a:e,b:r}}),Ud=$(function(e,r){var t=r;return U(t,{dG:function(n){return function(a){var s=a.a;return a.b,i(e,s,t.dG(n))}(n.H)}})}),En=$(function(e,r){var t=r;return i(t.dJ,e,t.cJ)}),Hd=function(e){var r=e;return r.cJ.dQ.au},Wd=function(e){var r=e;return r.cJ.dQ.aF},Kd=$(function(e,r){var t=$(function(n,a){var s=a.a,o=a.b;return e(n)?y(i(L,n,s),o):y(s,i(L,n,o))});return g(cr,t,y(V,V),r)}),Gd=$(function(e,r){var t=$(function(n,a){if(n.b){var s=n.a,o=n.b,u=i(Kd,e(s),o),m=u.a,l=u.b;return i(t,l,i(L,y(s,m),a))}else return Re(a)});return i(t,r,V)}),Fl=function(e){return g(cr,xl,V,e)},Fr=$(function(e,r){return Fl(i(ae,e,r))}),Yd=Q(function(e,r,t,n){return{au:e,aF:r,dV:t,bt:n}}),zr=$(function(e,r){return ne(e,r)<0?e:r}),mn=$(function(e,r){var t=$(function(n,a){if(a.$)return H(e(n));var s=a.a;return H({au:i(zr,e(n).au,s.au),aF:i(qe,e(n).aF,s.aF),dV:i(zr,e(n).dV,s.dV),bt:i(qe,e(n).bt,s.bt)})});return i(oe,F(Yd,0,0,0,0),g($e,t,q,r))}),er=Me("g"),Ea=function(e){var r=e;return r.dG(r.cJ)},Tl=Ae("table"),xa=function(e){var r=e;return r.dF(r.cJ)},xn=$(function(e,r){var t=r;return g(t.dK,e,t.cJ,i(t.dJ,e,t.cJ))}),Qd=$(function(e,r){var t=function(n){var a=n.a,s=n.b;return i(L,a,s)};return{cJ:{H:y(e,r)},dF:function(n){return b([i(Tl,V,i(Fr,xa,t(n.H)))])},dG:function(n){return i(mn,Ea,t(n.H))},dJ:$(function(n,a){return i(mn,En(n),t(a.H))}),dK:w(function(n,a,s){return i(er,b([ye("elm-charts__group")]),i(ae,xn(n),t(a.H)))})}}),Xd=$(function(e,r){var t=e.aT,n=e.aL,a=e.aK,s=function(m){var l=m;return t(l.cJ)},o=function(m){var l=m.a,v=m.b;return a(i(Qd,l,v))},u=$(function(m,l){return i(n,s(m),s(l))});return i(ae,o,i(Gd,u,r))}),Zd=i(rs,En,Xd({aK:Ud($(function(e,r){return U(r,{au:Hd(e),aF:Wd(e)})})),aL:$(function(e,r){return ee(e.au,r.au)&&ee(e.aF,r.aF)&&ee(e.cT,r.cT)&&ee(e.aX,r.aX)}),aT:function(e){return{aX:e.aW.aJ,cT:e.aW.cT,au:e.dQ.au,aF:e.dQ.aF}}})),Rl=Zd,ts={h:!1,cY:!0,af:.1,dq:0,dr:0,dv:.05,au:q,aF:q},ep=$(function(e,r){var t=r;return{cJ:{dj:e(t.cJ.dj),dE:_r,aW:t.cJ.aW,dQ:t.cJ.dQ},dF:function(n){return xa(t)},dG:function(n){return t.dG(t.cJ)},dJ:$(function(n,a){return i(t.dJ,n,t.cJ)}),dK:w(function(n,a,s){return i(xn,n,t)})}}),rp=function(e){var r=e;return function(t){var n=t.a,a=t.b;return i(L,n,a)}(r.cJ.H)},tp=function(e){var r=function(t){var n=t;return i(ep,n.cJ.dE,n)};return i(ae,r,rp(e))},np=Ea,ap=$(function(e,r){var t=r;return{cJ:{dj:t.cJ.dj,dE:t.cJ.dE,aW:t.cJ.aW,dQ:{cN:e(t.cJ.dQ.cN),c6:t.cJ.dQ.c6,au:t.cJ.dQ.au,aF:t.cJ.dQ.aF,cs:t.cJ.dQ.cs}},dF:function(n){return xa(t)},dG:function(n){return t.dG(t.cJ)},dJ:$(function(n,a){return i(t.dJ,n,t.cJ)}),dK:w(function(n,a,s){return i(xn,n,t)})}}),ip=Tv,sp=ip,op=$(function(e,r){return{$:0,a:e,b:r}}),oi=$(function(e,r){return U(r,{x:e})}),xt=$(function(e,r){return e===""?r:U(r,{b:e})}),ca="#ea60df",Ml={f:V,x:"white",z:0,b:ca,aZ:q,c_:0,c$:"",c0:10,P:1,dq:0,dr:0},Ll=$(function(e,r){return U(r,{dq:e})}),ns=$(function(e,r){return U(r,{dr:e})}),as=function(e){if(e.$){var t=e.a;return t}else{var r=e.a;return b([r])}},up="#12A5ED",Bl="#871c1c",lp="#71c614",cp="#92b42c",mp="#FF8400",vp="#7b4dff",$p="#F5325B",fp=$(function(e,r){return y(e,r)}),zl=$(function(e,r){e:for(;;){if(r.$===-2)return e;var t=r.d,n=r.e,a=i(zl,e+1,n),s=t;e=a,r=s;continue e}}),dp=function(e){return i(zl,0,e)},pp=w(function(e,r,t){var n=$l(i(br,fp,r)),a=dp(n),s=t%a;return i(oe,e,i(vr,s,n))}),bp="#22d2ba",hp="#FFCA00",Jl=i(pp,ca,b([vp,ca,up,lp,$p,hp,bp,mp,cp,Bl])),gp=w(function(e,r,t){var n=function(o){return i($r,o,Ml)},a=i($r,r,ts),s=$(function(o,u){var m=i(qe,a.dr,a.dq),l="Property #"+se(o+1),v=Jl(o),c=b([ns(m),Ll(m),xt(v),oi(v)]),p=M(c,u.f),f=n(p),_=ee(f.x,v)?M(p,b([oi(f.b)])):p;return i(op,i(oe,l,u.bW),_)});return i(br,function(o){return s(e+o)},i(Fr,as,t))}),Ul=function(e){return{$:1,a:e}},pe=It(function(e,r,t,n,a,s,o){return{$:6,a:e,b:r,c:t,d:n,e:a,f:s,g:o}}),T=$(function(e,r){return{$:1,a:e,b:r}}),Je=$(function(e,r){return{$:0,a:e,b:r}}),hr=w(function(e,r,t){return ne(t,e)<0?e:ne(t,r)>0?r:t}),Hl=function(e){return i(Ce," ",e)},Bo=function(e){return e?"1":"0"},dt=function(e){var r=e.a,t=e.b;return j(r)+(" "+j(t))},Ia=function(e){return i(Ce,",",i(ae,dt,e))},_p=function(e){switch(e.$){case 0:var v=e.a,c=e.b;return"M"+dt(y(v,c));case 1:var v=e.a,c=e.b;return"L"+dt(y(v,c));case 2:var n=e.a,a=e.b,r=e.c,t=e.d,v=e.e,c=e.f;return"C"+Ia(b([y(n,a),y(r,t),y(v,c)]));case 3:var n=e.a,a=e.b,v=e.c,c=e.d;return"Q"+Ia(b([y(n,a),y(v,c)]));case 4:var n=e.a,a=e.b,v=e.c,c=e.d;return"Q"+Ia(b([y(n,a),y(v,c)]));case 5:var v=e.a,c=e.b;return"T"+dt(y(v,c));case 6:var s=e.a,o=e.b,u=e.c,m=e.d,l=e.e,v=e.f,c=e.g;return"A "+Hl(b([dt(y(s,o)),se(u),Bo(m),Bo(l),dt(y(v,c))]));default:return"Z"}},yp={$:7},kp=yr(function(e,r,t,n,a,s){return{$:2,a:e,b:r,c:t,d:n,e:a,f:s}}),Ep=Q(function(e,r,t,n){return{$:3,a:e,b:r,c:t,d:n}}),xp=Q(function(e,r,t,n){return{$:4,a:e,b:r,c:t,d:n}}),Cp=$(function(e,r){return{$:5,a:e,b:r}}),Wl=function(e){return i(qe,1,e.N-e.c9-e.c8)},is=function(e){return Wl(e.cr)},Cn=function(e){var r=e.A-e.I;return r>0?r:1},ui=$(function(e,r){return r*is(e)/Cn(e.cr)}),Be=$(function(e,r){return i(ui,e,r-e.cr.I)+e.cr.c9}),ss=function(e){return Wl(e.cs)},wp=$(function(e,r){return r*ss(e)/Cn(e.cs)}),ze=$(function(e,r){return i(wp,e,e.cs.A-r)+e.cs.c9}),Sp=$(function(e,r){switch(r.$){case 0:var c=r.a,p=r.b;return i(Je,i(Be,e,c),i(ze,e,p));case 1:var c=r.a,p=r.b;return i(T,i(Be,e,c),i(ze,e,p));case 2:var a=r.a,s=r.b,t=r.c,n=r.d,c=r.e,p=r.f;return ur(kp,i(Be,e,a),i(ze,e,s),i(Be,e,t),i(ze,e,n),i(Be,e,c),i(ze,e,p));case 3:var a=r.a,s=r.b,c=r.c,p=r.d;return F(Ep,i(Be,e,a),i(ze,e,s),i(Be,e,c),i(ze,e,p));case 4:var a=r.a,s=r.b,c=r.c,p=r.d;return F(xp,i(Be,e,a),i(ze,e,s),i(Be,e,c),i(ze,e,p));case 5:var c=r.a,p=r.b;return i(Cp,i(Be,e,c),i(ze,e,p));case 6:var o=r.a,u=r.b,m=r.c,l=r.d,v=r.e,c=r.f,p=r.g;return ve(pe,o,u,m,l,v,i(Be,e,c),i(ze,e,p));default:return yp}}),Kl=$(function(e,r){return Hl(i(ae,i(Ue,Sp(e),_p),r))}),Gl=re("fill-opacity"),De=$(function(e,r){return r*Cn(e.cr)/is(e)}),Ne=$(function(e,r){return r*Cn(e.cs)/ss(e)}),Ot=re("stroke"),os=re("stroke-opacity"),zo=$(function(e,r){var t=$(function(n,a){return n(a)});return g($e,t,r,e)}),Yl=Me("circle"),Ql=re("cx"),Xl=re("cy"),li=Me("defs"),At=re("height"),ci=re("id"),Vp=Me("line"),Op=Me("linearGradient"),Ap=re("offset"),jp=Me("pattern"),Dp=re("patternTransform"),Np=re("patternUnits"),Zl=re("r"),pt=w(function(e,r,t){return i(Ce,r,i(Tr,e,t))}),Ip=Me("stop"),qp=re("stop-color"),jt=re("width"),Jo=re("x1"),Uo=re("x2"),ma=re("y"),Pp=re("y1"),Ho=re("y2"),Fp=$(function(e,r){var t=function(u){return g(pt,"(","-",g(pt,")","-",g(pt,".","-",g(pt,",","-",g(pt," ","-",i(Ce,"-",M(b(["elm-charts__pattern",function(){switch(r.$){case 0:return"striped";case 1:return"dotted";default:return"gradient"}}()]),u)))))))},n=Q(function(u,m,l,v){return i(li,V,b([i(jp,b([ci(u),Np("userSpaceOnUse"),jt(j(m)),At(j(m)),Dp("rotate("+(j(l)+")"))]),b([v]))]))}),a=function(){switch(r.$){case 0:var m=r.a,u=i(zo,m,{b:e,q:45,dv:4,cq:3}),v=t(b([u.b,j(u.cq),j(u.dv),j(u.q)]));return y(F(n,v,u.dv,u.q,i(Vp,b([Jo("0"),ma("0"),Uo("0"),Ho(j(u.dv)),Ot(u.b),st(j(u.cq))]),V)),v);case 1:var m=r.a,u=i(zo,m,{b:e,q:45,dv:4,cq:3}),v=t(b([u.b,j(u.cq),j(u.dv),j(u.q)]));return y(F(n,v,u.dv,u.q,i(Yl,b([Br(u.b),Ql(j(u.cq/3)),Xl(j(u.cq/3)),Zl(j(u.cq/3))]),V)),v);default:var m=r.a,l=ee(m,V)?b([e,"white"]):m,v=t(l),c=Rr(l),p=function(_){return _*100/(c-1)},f=$(function(_,h){return i(Ip,b([Ap(j(p(_))+"%"),qp(h)]),V)});return y(i(li,V,b([i(Op,b([ci(v),Jo("0"),Uo("0"),Pp("0"),Ho("1")]),i(br,f,l))])),v)}}(),s=a.a,o=a.b;return y(s,"url(#"+(o+")"))}),Tp=Wv,Rp=Tp,va=w(function(e,r,t){return r(M(t,i(ae,Rp(_n),e)))}),Mp=re("clip-path"),ec=function(e){var r=i(Ue,j,i(pt,".","-"));return i(Ce,"_",b(["elm-charts__id",r(e.cr.N),r(e.cr.I),r(e.cr.A),r(e.cr.c9),r(e.cr.c8),r(e.cs.N),r(e.cs.I),r(e.cs.A),r(e.cs.c9),r(e.cs.c8)]))},vn=function(e){return Mp("url(#"+(ec(e)+")"))},rc=w(function(e,r,t){var n=yr(function(N,J,I,R,Z,G){return F(va,r.f,Et,b([ye("elm-charts__bar"),Br(N),Gl(j(J)),Ot(I),st(j(R)),os(j(Z)),kt(i(Kl,e,G)),vn(e)]),V)}),a=r.c$===""?r.b:r.c$,s=i(Ne,e,r.z/2),o=s+i(Ne,e,r.c0/2),u=i(De,e,r.z/2),m=u+i(De,e,r.c0/2),l={au:i(zr,t.au,t.aF)+u,aF:i(qe,t.au,t.aF)-u,dV:i(zr,t.dV,t.bt)+s,bt:i(qe,t.dV,t.bt)-s},v=Lr(l.bt-l.dV),c={au:l.au-m,aF:l.aF+m,dV:l.dV-o,bt:l.bt+o},p=Lr(l.aF-l.au),f=i(ui,e,p)*.5*g(hr,0,1,r.dq),_=i(De,e,f),h=i(Ne,e,f),E=i(ui,e,p)*.5*g(hr,0,1,r.dr),x=i(De,e,E),d=i(Ne,e,E),O=v-d*.8-h*.8<=0||p-x*.8-_*.8<=0?y(0,0):y(r.dr,r.dq),C=O.a,S=O.b,X=function(){if(ee(l.dV,l.bt))return y(V,V);var N=y(C>0,S>0);return N.a?N.b?y(b([i(Je,l.au+_,l.dV),ve(pe,f,f,-45,!1,!0,l.au,l.dV+h),i(T,l.au,l.bt-d),ve(pe,E,E,-45,!1,!0,l.au+x,l.bt),i(T,l.aF-x,l.bt),ve(pe,E,E,-45,!1,!0,l.aF,l.bt-d),i(T,l.aF,l.dV+h),ve(pe,f,f,-45,!1,!0,l.aF-_,l.dV),i(T,l.au+_,l.dV)]),b([i(Je,c.au+_,c.dV),ve(pe,f,f,-45,!1,!0,c.au,c.dV+h),i(T,c.au,c.bt-d),ve(pe,E,E,-45,!1,!0,c.au+x,c.bt),i(T,c.aF-x,c.bt),ve(pe,E,E,-45,!1,!0,c.aF,c.bt-d),i(T,c.aF,c.dV+h),ve(pe,f,f,-45,!1,!0,c.aF-_,c.dV),i(T,c.au+_,c.dV),i(T,l.aF-_,l.dV),ve(pe,f,f,-45,!1,!1,l.aF,l.dV+h),i(T,l.aF,l.bt-d),ve(pe,E,E,-45,!1,!1,l.aF-x,l.bt),i(T,l.au+x,l.bt),ve(pe,E,E,-45,!1,!1,l.au,l.bt-d),i(T,l.au,l.dV+h),i(T,l.aF,l.dV)])):y(b([i(Je,l.au,l.dV),i(T,l.au,l.bt-d),ve(pe,E,E,-45,!1,!0,l.au+x,l.bt),i(T,l.aF-x,l.bt),ve(pe,E,E,-45,!1,!0,l.aF,l.bt-d),i(T,l.aF,l.dV),i(T,l.au,l.dV)]),b([i(Je,c.au,l.dV),i(T,c.au,c.bt-d),ve(pe,E,E,-45,!1,!0,c.au+x,c.bt),i(T,c.aF-x,c.bt),ve(pe,E,E,-45,!1,!0,c.aF,c.bt-d),i(T,c.aF,l.dV),i(T,l.aF,l.dV),i(T,l.aF,l.bt-d),ve(pe,E,E,-45,!1,!1,l.aF-x,l.bt),i(T,l.au+x,l.bt),ve(pe,E,E,-45,!1,!1,l.au,l.bt-d),i(T,l.au,l.dV)])):N.b?y(b([i(Je,l.au+_,l.dV),ve(pe,f,f,-45,!1,!0,l.au,l.dV+h),i(T,l.au,l.bt),i(T,l.aF,l.bt),i(T,l.aF,l.dV+h),ve(pe,f,f,-45,!1,!0,l.aF-_,l.dV),i(T,l.au+_,l.dV)]),b([i(Je,c.au+_,c.dV),ve(pe,f,f,-45,!1,!0,c.au,c.dV+h),i(T,c.au,c.bt),i(T,c.aF,c.bt),i(T,c.aF,c.dV+h),ve(pe,f,f,-45,!1,!0,c.aF-_,c.dV),i(T,c.au+_,c.dV),i(T,l.aF-_,l.dV),ve(pe,f,f,-45,!1,!1,l.aF,l.dV+h),i(T,l.aF,l.bt),i(T,l.au,l.bt),i(T,l.au,l.dV+h),i(T,l.aF,l.dV)])):y(b([i(Je,l.au,l.dV),i(T,l.au,l.bt),i(T,l.aF,l.bt),i(T,l.aF,l.dV),i(T,l.au,l.dV)]),b([i(Je,c.au,l.dV),i(T,c.au,c.bt),i(T,c.aF,c.bt),i(T,c.aF,l.dV),i(T,l.aF,l.dV),i(T,l.aF,l.bt),i(T,l.au,l.bt),i(T,l.au,l.dV)]))}(),be=X.a,ie=X.b,me=function(N){return r.c_?i(er,b([ye("elm-charts__bar-with-highlight")]),b([ur(n,a,r.c_,"transparent",0,0,ie),ur(n,N,r.P,r.x,r.z,1,be)])):ur(n,N,r.P,r.x,r.z,1,be)},He=r.aZ;if(He.$===1)return me(r.b);var Pe=He.a,k=i(Fp,r.b,Pe),A=k.a,D=k.b;return i(er,b([ye("elm-charts__bar-with-pattern")]),b([A,me(D)]))}),Lp=Mv,le=Lp,Bp=$(function(e,r){return i(oe,"Property #"+se(e+1),r)}),Wo=Ae("td"),zp=Ae("tr"),Jp=w(function(e,r,t){return i(zp,V,b([i(Wo,b([i(le,"color",e),i(le,"padding","0"),i(le,"padding-right","3px")]),b([ke(r+":")])),i(Wo,b([i(le,"text-align","right"),i(le,"padding","0")]),b([ke(t)]))]))}),Up=$(function(e,r){var t=Q(function(n,a,s,o){e:for(;;)if(o.b)if(o.b.b){var u=o.a,m=o.b,l=m.a,v=m.b,c=n+1,p=H(u),f=M(s,b([F(r,n,a,u,H(l))])),_=i(L,l,v);n=c,a=p,s=f,o=_;continue e}else{var u=o.a;return M(s,b([F(r,n,a,u,q)]))}else return s});return F(t,0,q,V,e)}),Hp=Q(function(e,r,t,n){var a=function(l){return i($r,l,Ml)},s=i($r,r,ts),o=It(function(l,v,c,p,f,_,h){var E=p.aE(h.cN),x=p.W(h.cN),d=h.bq,O=Rr(l),C=s.cY?Rr(t):1,S=O>1?qe(0):_r,X=S(i(oe,0,E)-i(oe,0,x)),be=S(i(oe,0,E)),ie=O===1,me=ee(c,O-1),He=ie||me?s.dr:0,Pe=!c,k=ie||Pe?s.dq:0,A=h.bD,D=A-d,N=D*s.af,J=D*s.dv,I=(D-N*2-(C-1)*J)/C,R=s.cY?v*I+v*J:0,Z=d+N+R,G=d+N+R+I,z=Jl(f),he=b([ns(He),Ll(k),xt(z),oi(z)]),We=M(he,M(p.f,P(p.bG,v,c,_,p.bW,h.cN))),Ke=a(We),Ve=function(ue){return ee(ue.x,z)?U(ue,{x:ue.b}):ue}(function(ue){var ge=ue.aZ;if(!ge.$&&ge.a.$===2&&ge.a.a.b){var Ge=ge.a.a,tr=Ge.a;return ee(ue.b,z)?U(ue,{b:tr}):ue}else return ue}(Ke));return{cJ:{dj:Ve,dE:Ul,aW:{x:Ve.x,z:Ve.z,b:Ve.b,aJ:_,cT:e,bI:p.F(h.cN),c2:f,dd:p.bW,dk:v,dw:c},dQ:{cN:h.cN,c6:function(){return!x.$}(),au:d,aF:A,cs:i(oe,0,x)}},dF:function(ue){return b([g(Jp,ue.aW.b,i(Bp,f,ue.aW.dd),p.F(h.cN))])},dG:function(ue){return{au:Z,aF:G,dV:i(zr,X,be),bt:i(qe,X,be)}},dJ:$(function(ue,ge){return{au:Z,aF:G,dV:X,bt:be}}),dK:w(function(ue,ge,Ge){return g(rc,ue,Ve,Ge)})}}),u=yr(function(l,v,c,p,f,_){var h=i(br,P(o,v,c,p,f,_),l);if(h.b){var E=h.a,x=h.b;return H({cJ:{H:y(E,x)},dF:function(d){return b([i(Tl,b([i(le,"margin","0")]),i(Fr,xa,function(O){var C=O.a,S=O.b;return i(L,C,S)}(d.H)))])},dG:function(d){return i(mn,Ea,function(O){var C=O.a,S=O.b;return i(L,C,S)}(d.H))},dJ:$(function(d,O){return i(mn,En(d),function(C){var S=C.a,X=C.b;return i(L,S,X)}(O.H))}),dK:w(function(d,O,C){return i(er,b([ye("elm-charts__bar-series")]),i(ae,xn(d),function(S){var X=S.a,be=S.b;return i(L,X,be)}(O.H)))})})}else return q}),m=Q(function(l,v,c,p){var f=y(s.au,s.aF);if(f.a.$===1){if(f.b.$===1)return f.a,f.b,{cN:c,bD:l+1+.5,bq:l+1-.5};f.a;var _=f.b.a,h=y(v,p);if(h.a.$){if(h.b.$)return h.a,h.b,{cN:c,bD:_(c),bq:_(c)-1};h.a;var x=h.b.a;return{cN:c,bD:_(c),bq:_(c)-(_(x)-_(c))}}else{var E=h.a.a;return{cN:c,bD:_(c),bq:_(E)}}}else if(f.b.$===1){var d=f.a.a;f.b;var O=y(v,p);if(O.b.$){if(O.a.$)return O.a,O.b,{cN:c,bD:d(c)+1,bq:d(c)};var E=O.a.a;return O.b,{cN:c,bD:d(c)+(d(c)-d(E)),bq:d(c)}}else{var x=O.b.a;return{cN:c,bD:d(x),bq:d(c)}}}else{var d=f.a.a,_=f.b.a;return{cN:c,bD:_(c),bq:d(c)}}});return function(l){return i(xr,_r,i(br,$(function(v,c){return c(e+v)}),Fl(i(br,$(function(v,c){return i(br,g(u,l,c,v),Re(c))}),i(ae,as,t)))))}(i(Up,n,m))}),Wp=Q(function(e,r,t,n){return zd(function(a){var s=g(gp,a,r,t),o=F(Hp,a,r,t,n),u=i(ae,ap(e),i(Fr,tp,o)),m=i(Pl,Rl,u),l=i(ae,Ea,m),v=i($r,r,ts),c=$(function(p,f){return U(f,{C:M(f.C,v.h?i(Fr,i(Ue,np,function(_){return b([_.au,_.aF])}),m):V)})});return y(P(Bd,l,u,s,c,function(p){return i(sp,_n,i(er,b([ye("elm-charts__bar-series")]),i(ae,xn(p),o)))}),a+Rr(i(Fr,as,t)))})}),Kp=w(function(e,r,t){return F(Wp,_r,e,r,t)}),Gp=$(function(e,r){var t=e.a,n=e.b;r.a;var a=r.b;return i(rs,t,function(s){return n(a(s))})}),Yp=Gp,Qp=function(e){var r=e,t=r.cJ.dj;if(t.$===1){var n=t.a;return H({cJ:{dj:n,dE:Ul,aW:r.cJ.aW,dQ:r.cJ.dQ},dF:function(a){return r.dF(r.cJ)},dG:function(a){return r.dG(r.cJ)},dJ:$(function(a,s){return i(r.dJ,a,r.cJ)}),dK:$(function(a,s){return i(rc,a,s.dj)})})}else return q},Xp=i(rs,En,xr(Qp)),Zp=Xp,Le={k:q,f:V,x:"white",z:0,b:"#808BAB",l:q,m:q,n:!1,q:0,s:!1,i:0,j:0},eb=function(e){return{cr:e.au+(e.aF-e.au)/2,cs:e.dV}},rb=function(e){return i(Ue,En(e),eb)},tb={k:Le.k,f:Le.f,x:Le.x,z:Le.z,b:Le.b,l:Le.l,m:Le.m,F:q,n:Le.n,y:rb,q:Le.q,s:Le.s,i:Le.i,j:Le.j},nb=function(e){return{$:10,a:e}},ab=$(function(e,r){return nb($(function(t,n){var a=i(Pl,e,n);return i(Fr,r(t),a)}))}),ib=function(e){var r=e;return r.cJ.dQ.cN},sb=function(e){var r=e;return function(t){var n=t.a;return t.b,ib(n)}(r.cJ.H)},ob=sb,ub=$(function(e,r){return i(re,Jv(e),Hv(r))}),lb=ub,cb=Me("foreignObject"),mi=re("transform"),Ko=yr(function(e,r,t,n,a,s){return mi("translate("+(j(i(Be,e,t)+a)+(","+(j(i(ze,e,n)+s)+(") rotate("+(j(r)+")"))))))}),tc=re("style"),mb=Me("text"),vb=Me("tspan"),nc=Q(function(e,r,t,n){var a=r.l;if(a.$===1){var s=function(c){return r.n?i(er,b([vn(e)]),b([c])):c},o=r.s?"text-transform: uppercase;":"",u=function(){var c=r.m;if(c.$)return"";var p=c.a;return"font-size: "+(se(p)+"px;")}(),m=function(){var c=r.k;if(c.$===1)return"text-anchor: middle;";switch(c.a){case 0:return c.a,"text-anchor: end;";case 1:return c.a,"text-anchor: start;";default:return c.a,"text-anchor: middle;"}}();return s(F(va,r.f,mb,b([ye("elm-charts__label"),Ot(r.x),st(j(r.z)),Br(r.b),ur(Ko,e,-r.q,n.cr,n.cs,r.i,r.j),tc(i(Ce," ",b(["pointer-events: none;",u,m,o])))]),b([i(vb,V,t)])))}else{var l=a.a,v=function(){var h=r.k;if(h.$===1)return r.i-l.cq/2;switch(h.a){case 0:return h.a,r.i-l.cq;case 1:return h.a,r.i;default:return h.a,r.i-l.cq/2}}(),s=function(h){return r.n?i(er,b([vn(e)]),b([h])):h},o=r.s?i(le,"text-transform","uppercase"):i(le,"",""),u=function(){var h=r.m;if(h.$)return i(le,"","");var E=h.a;return i(le,"font-size",se(E)+"px")}(),m=function(){var h=r.k;if(h.$===1)return i(le,"text-align","center");switch(h.a){case 0:return h.a,i(le,"text-align","right");case 1:return h.a,i(le,"text-align","left");default:return h.a,i(le,"text-align","center")}}();return s(F(va,r.f,cb,b([ye("elm-charts__label"),ye("elm-charts__html-label"),jt(j(l.cq)),At(j(l.bL)),ur(Ko,e,-r.q,n.cr,n.cs,v,r.j-10)]),b([i(ce,b([i(lb,"xmlns","http://www.w3.org/1999/xhtml"),i(le,"white-space","nowrap"),i(le,"overflow","hidden"),i(le,"text-overflow","ellipsis"),i(le,"height","100%"),i(le,"pointer-events","none"),i(le,"color",r.b),u,o,m]),t)])))}}),$b=function(e){return{$:12,a:e}},fb=function(e){return $b(function(r){return e(r)})},$a=gl,db=function(e){return{k:e.k,f:e.f,x:e.x,z:e.z,b:e.b,l:e.l,m:e.m,n:e.n,q:e.q,s:e.s,i:e.i,j:e.j}},pb=$(function(e,r){return i(ab,i(Yp,Rl,Zp),$(function(t,n){var a=i($r,r,tb),s=function(){var o=a.F;if(o.$)return e(ob(n));var u=o.a;return u(n)}();return b([fb(function(o){return F(nc,t,db(a),b([$a(s)]),i(a.y,t,n))})])}))}),bb=Bl,hb=$(function(e,r){return{bK:r,dd:e}}),gb=Me("clipPath"),ac=mv,_b=i(_e,"offsetHeight",wr),yb=i(_e,"offsetWidth",wr),kb=vv,Eb=i(_e,"offsetLeft",wr),xb=$(function(e,r){return Tt(b([i(_e,"offsetParent",kn(e)),i(_e,"offsetParent",r)]))}),Cb=i(_e,"offsetTop",wr),wb=i(_e,"scrollLeft",wr),Sb=i(_e,"scrollTop",wr),ic=$(function(e,r){return i(it,function(t){var n=t.a,a=t.b;return i(xb,y(n,a),i(ic,n,a))},P(kb,Q(function(t,n,a,s){return y(e+a-t,r+s-n)}),wb,Sb,Eb,Cb))}),Vb=F(ac,w(function(e,r,t){var n=e.a,a=e.b;return{bL:t,c7:n,dN:a,cq:r}}),i(ic,0,0),yb,_b),Ob=function(e){return i(_e,"parentElement",e)};function us(){return Tt(b([Vb,Hn(function(e){return Ob(us())})]))}var sc=us();us=function(){return sc};var Ab=$(function(e,r){return i(De,e,r-e.cr.c9)+e.cr.I}),jb=$(function(e,r){return Cn(e.cs)-i(Ne,e,r-e.cs.c9)+e.cs.I}),Db=$(function(e,r){return{cr:i(Ab,e,r.cr),cs:i(jb,e,r.cs)}}),Nb=function(e){return i(_e,"target",e)},Ib=$(function(e,r){var t=w(function(n,a,s){var o=e.cs,u=e.cr,m=s.cq/e.cr.N,l=s.bL/e.cs.N,v=U(e,{cr:U(u,{N:s.cq,c8:e.cr.c8*m,c9:e.cr.c9*m}),cs:U(o,{N:s.bL,c8:e.cs.c8*l,c9:e.cs.c9*l})}),c=i(Db,v,{cr:n-s.c7,cs:a-s.dN});return i(r,v,c)});return F(ac,t,i(_e,"pageX",wr),i(_e,"pageY",wr),Nb(sc))}),qb=kl,fa=Me("rect"),vi=re("x"),Pb=Oe(function(e,r,t,n,a){var s=function(_){return i(qb,_.dd,i(Ib,e,_.bK))},o=r.aS?b([ql("0 0 "+(j(e.cr.N)+(" "+j(e.cs.N)))),i(le,"display","block")]):b([jt(j(e.cr.N)),At(j(e.cs.N)),i(le,"display","block")]),u=r.aS?b([i(le,"width","100%"),i(le,"height","100%")]):b([i(le,"width",j(e.cr.N)+"px"),i(le,"height",j(e.cs.N)+"px")]),m=b([W("elm-charts__container-inner")]),l=M(r.aN,M(m,u)),v=b([vi(j(e.cr.c9)),ma(j(e.cs.c9)),jt(j(is(e))),At(j(ss(e))),Br("transparent")]),c=i(li,V,b([i(gb,b([ci(ec(e))]),b([i(fa,v,V)]))])),p=i(fa,M(v,i(ae,s,r.aM)),V),f=i(Il,M(o,r.f),M(b([c]),M(n,b([p]))));return i(ce,b([W("elm-charts__container"),i(le,"position","relative")]),b([i(ce,l,M(t,M(b([f]),a)))]))}),oc=w(function(e,r,t){return U(t,{I:g(r,e,t.I,t.cM)})}),Fb=w(function(e,r,t){return ne(r,e)>0?e:r}),Tb=$(function(e,r){var t=i(qe,1,e.cq-e.R.c7-e.R.dp),n=Oe(function(x,d,O,C,S){return{cL:S,cM:C,N:x,c8:O,c9:d,A:S,I:C}}),a=i(qe,1,e.bL-e.R.cE-e.R.dN),s=function(x){return ee(x.I,x.A)?U(x,{A:x.I+10}):x},o=$(function(x,d){switch(x.$){case 0:return d;case 1:var O=x.a;return M(d,O);case 2:var O=x.a;return M(d,O);case 3:return d;case 4:return d;case 5:return d;case 6:return d;case 7:return d;case 8:return d;case 9:return d;case 10:return d;case 11:var C=x.a;return g($e,o,d,C);case 12:return d;default:return d}}),u=function(x){return function(d){var O=d.cr,C=d.cs;return{cr:s(O),cs:s(C)}}({cr:P(n,t,e.af.c7,e.af.dp,x.au,x.aF),cs:P(n,a,e.af.dN,e.af.cE,x.dV,x.bt)})}(i(mn,_r,g($e,o,V,r))),m=function(){var x=e.bg;if(x.b){var d=x;return g($e,$(function(O,C){return O(C)}),u.cr,d)}else return u.cr}(),l=function(){var x=e.a_;if(x.b){var d=x;return g($e,$(function(O,C){return O(C)}),u.cs,d)}else return g(oc,0,Fb,u.cs)}(),v={cr:m,cs:l},c=De(v),p=m.A+c(e.R.dp),f=m.I-c(e.R.c7),_=Ne(v),h=l.A+_(e.R.dN),E=l.I-_(e.R.cE);return{cr:U(m,{N:e.cq,A:i(qe,f,p),I:i(zr,f,p)}),cs:U(l,{N:e.bL,A:i(qe,E,h),I:i(zr,E,h)})}}),Rb=$(function(e,r){var t=$(function(n,a){switch(n.$){case 0:return a;case 1:var s=n.b;return M(a,s);case 2:var s=n.b;return M(a,s);case 3:var o=n.a;return M(a,b([o]));case 4:return n.a,a;case 5:return a;case 6:return a;case 7:return a;case 8:return a;case 9:return a;case 10:return a;case 11:var u=n.a;return g($e,t,a,u);case 12:return a;default:return a}});return g($e,t,V,r)}),Mb=function(e){var r=$(function(t,n){switch(t.$){case 0:return n;case 1:var a=t.c;return M(n,a);case 2:var a=t.c;return M(n,a);case 3:return n;case 4:return n;case 5:return n;case 6:return n;case 7:return n;case 8:return n;case 9:return n;case 10:return n;case 11:var s=t.a;return g($e,r,n,s);case 12:return n;default:return n}});return g($e,r,V,e)},Lb=Q(function(e,r,t,n){return{aG:e,C:t,aH:r,J:n}}),Bb=w(function(e,r,t){var n=$(function(a,s){switch(a.$){case 0:return s;case 1:return s;case 2:var u=a.d;return i(u,e,s);case 3:var u=a.b;return s;case 4:var u=a.a;return i(u,e,s);case 5:var u=a.a;return i(u,e,s);case 6:var o=a.a,u=a.b;return g(u,e,o(e),s);case 7:var o=a.a,u=a.b;return g(u,e,o(e),s);case 8:var o=a.a,u=a.b;return g(u,e,o(e),s);case 10:var u=a.a;return g($e,n,s,i(u,e,r));case 9:return s;case 11:var m=a.a;return g($e,n,s,m);case 12:return s;default:return s}});return g($e,n,F(Lb,V,V,V,V),t)}),zb=function(e){return{$:9,a:e}},Jb=function(e){return U(e,{aq:H(0)})},Ub="rgb(200 200 200)",Go=$(function(e,r){return U(r,{aI:e})}),Hb={x:"",z:0,b:ca,n:!1,c_:0,c$:"",c0:5,P:1,aq:q,du:6},Wb=w(function(e,r,t){return ee(g(hr,e.cr.I,e.cr.A,r),r)&&ee(g(hr,e.cs.I,e.cs.A,t),t)}),$i=_m,qr=Am,Yo=Q(function(e,r,t,n){var a=qr(e/4)+r,s=a/2,o=a;return i(Ce," ",b(["M"+(j(t-s)+(" "+j(n-o-s+r))),"v"+j(o-r),"h"+j(-o+r),"v"+j(o),"h"+j(o-r),"v"+j(o-r),"h"+j(o),"v"+j(-o+r),"h"+j(o-r),"v"+j(-o),"h"+j(-o+r),"v"+j(-o+r),"h"+j(-o),"v"+j(o-r)]))}),uc=function(e){return e*$i/180},Kb=xm,Gb=Q(function(e,r,t,n){var a=qr(e*4/qr(3))+r*qr(3),s=qr(3)*a/2,o=s-Kb(uc(30))*a/2;return i(Ce," ",b(["M"+(j(t)+(" "+j(n-o))),"l"+(j(-a/2)+(" "+j(s))),"h"+j(a),"z"]))}),Yb=Oe(function(e,r,t,n,a){var s=t(a),o=i(ze,e,s),u=r(a),m=i(Be,e,u),l=b([Ot(n.x===""?n.b:n.x),st(j(n.z)),Gl(j(n.P)),Br(n.b),ye("elm-charts__dot"),n.n?vn(e):ye("")]),v=g(Wb,e,u,s)||n.n,c=n.c$===""?n.b:n.c$,p=b([Ot(c),st(j(n.c0)),os(j(n.c_)),Br("transparent"),ye("elm-charts__dot-highlight")]),f=w(function(E,x,d){return n.c_>0?i(er,b([ye("elm-charts__dot-container")]),b([i(E,M(d(x),p),V),i(E,M(d(0),l),V)])):i(E,M(d(0),l),V)}),_=2*$i*n.du;if(v){var h=n.aq;if(h.$===1)return $a("");switch(h.a){case 0:return h.a,g(f,Yl,n.c0/2,function(E){var x=qr(_/$i);return b([Ql(j(m)),Xl(j(o)),Zl(j(x+E))])});case 1:return h.a,g(f,Et,n.c0,function(E){return b([kt(F(Gb,_,E,m,o))])});case 2:return h.a,g(f,fa,n.c0,function(E){var x=qr(_),d=x+E;return b([vi(j(m-d/2)),ma(j(o-d/2)),jt(j(d)),At(j(d))])});case 3:return h.a,g(f,fa,n.c0,function(E){var x=qr(_),d=x+E;return b([vi(j(m-d/2)),ma(j(o-d/2)),jt(j(d)),At(j(d)),mi("rotate(45 "+(j(m)+(" "+(j(o)+")"))))])});case 4:return h.a,g(f,Et,n.c0,function(E){return b([kt(F(Yo,_,E,m,o)),mi("rotate(45 "+(j(m)+(" "+(j(o)+")"))))])});default:return h.a,g(f,Et,n.c0,function(E){return b([kt(F(Yo,_,E,m,o))])})}}else return $a("")}),Qb=Q(function(e,r,t,n){return F(Yb,e,r,t,i($r,n,Hb))}),Xb="#EFF2FA",Zb={f:V,cF:!1,b:"rgb(210, 210, 210)",aI:V,g:!1,n:!1,P:1,dA:-90,dB:0,cq:1,au:q,aF:q,dU:q,i:0,dV:q,bt:q,dW:q,j:0},eh=km,qa=De,Pa=Ne,rh=Em,th=re("stroke-dasharray"),nh=$(function(e,r){var t=uc(r.dA),n=function(){var d=we(y(r.au,r.aF),y(r.dV,r.bt),y(r.dU,r.dW));if(d.a.a.$)if(d.a.b.$)if(d.b.a.$)if(d.b.b.$){var fo=d.a;fo.a,fo.b;var po=d.b;return po.a,po.b,y(y(e.cr.I,e.cr.A),y(e.cs.I,e.cs.A))}else{var vo=d.a;vo.a,vo.b;var $o=d.b;$o.a;var S=$o.b.a;return y(y(e.cr.I,e.cr.A),y(S,S))}else if(d.b.b.$){var co=d.a;co.a,co.b;var mo=d.b,C=mo.a.a;return mo.b,y(y(e.cr.I,e.cr.A),y(C,C))}else{var uo=d.a;uo.a,uo.b;var lo=d.b,C=lo.a.a,S=lo.b.a;return y(y(e.cr.I,e.cr.I),y(C,S))}else if(d.b.a.$===1)if(d.b.b.$===1){var Is=d.a;Is.a;var S=Is.b.a,qs=d.b;return qs.a,qs.b,y(y(S,S),y(e.cs.I,e.cs.A))}else if(d.c.a.$)if(d.c.b.$===1){var Bs=d.a;Bs.a;var C=Bs.b.a,zs=d.b;zs.a;var S=zs.b.a,Js=d.c;return Js.a,Js.b,y(y(C,e.cr.A),y(S,S))}else{var Us=d.a;Us.a;var C=Us.b.a,Hs=d.b;Hs.a;var S=Hs.b.a,Ws=d.c;Ws.a;var R=Ws.b.a;return y(y(C,C),y(S,S+i(Ne,e,R)))}else if(d.c.b.$){var Rs=d.a;Rs.a;var C=Rs.b.a,Ms=d.b;Ms.a;var S=Ms.b.a,Ls=d.c,I=Ls.a.a;return Ls.b,y(y(C,C+i(De,e,I)),y(S,S))}else{var Ps=d.a;Ps.a;var C=Ps.b.a,Fs=d.b;Fs.a;var S=Fs.b.a,Ts=d.c,I=Ts.a.a,R=Ts.b.a;return y(y(C,C+i(De,e,I)),y(S,S+i(Ne,e,R)))}else if(d.b.b.$)if(d.c.a.$)if(d.c.b.$===1){var to=d.a;to.a;var C=to.b.a,no=d.b,S=no.a.a;no.b;var ao=d.c;return ao.a,ao.b,y(y(C,e.cr.A),y(S,S))}else{var io=d.a;io.a;var C=io.b.a,so=d.b,S=so.a.a;so.b;var oo=d.c;oo.a;var R=oo.b.a;return y(y(C,C),y(S,S+i(Ne,e,R)))}else if(d.c.b.$){var Zs=d.a;Zs.a;var C=Zs.b.a,eo=d.b,S=eo.a.a;eo.b;var ro=d.c,I=ro.a.a;return ro.b,y(y(C,C+i(De,e,I)),y(S,S))}else{var Ys=d.a;Ys.a;var C=Ys.b.a,Qs=d.b,S=Qs.a.a;Qs.b;var Xs=d.c,I=Xs.a.a,R=Xs.b.a;return y(y(C,C+i(De,e,I)),y(S,S+i(Ne,e,R)))}else{var Ks=d.a;Ks.a;var me=Ks.b.a,Gs=d.b,C=Gs.a.a,S=Gs.b.a;return y(y(me,me),y(C,S))}else if(d.a.b.$)if(d.b.a.$===1)if(d.b.b.$===1){var k=d.a,C=k.a.a;k.b;var A=d.b;return A.a,A.b,y(y(C,C),y(e.cs.I,e.cs.A))}else if(d.c.a.$)if(d.c.b.$===1){var he=d.a,C=he.a.a;he.b;var We=d.b;We.a;var S=We.b.a,Ke=d.c;return Ke.a,Ke.b,y(y(C,e.cr.A),y(S,S))}else{var Ve=d.a,C=Ve.a.a;Ve.b;var ue=d.b;ue.a;var S=ue.b.a,ge=d.c;ge.a;var R=ge.b.a;return y(y(C,C),y(S,S+i(Ne,e,R)))}else if(d.c.b.$){var Z=d.a,C=Z.a.a;Z.b;var G=d.b;G.a;var S=G.b.a,z=d.c,I=z.a.a;return z.b,y(y(C,C+i(De,e,I)),y(S,S))}else{var D=d.a,C=D.a.a;D.b;var N=d.b;N.a;var S=N.b.a,J=d.c,I=J.a.a,R=J.b.a;return y(y(C,C+i(De,e,I)),y(S,S+i(Ne,e,R)))}else if(d.b.b.$)if(d.c.a.$)if(d.c.b.$===1){var Vs=d.a,C=Vs.a.a;Vs.b;var Os=d.b,S=Os.a.a;Os.b;var As=d.c;return As.a,As.b,y(y(C,e.cr.A),y(S,S))}else{var js=d.a,C=js.a.a;js.b;var Ds=d.b,S=Ds.a.a;Ds.b;var Ns=d.c;Ns.a;var R=Ns.b.a;return y(y(C,C),y(S,S+i(Ne,e,R)))}else if(d.c.b.$){var Cs=d.a,C=Cs.a.a;Cs.b;var ws=d.b,S=ws.a.a;ws.b;var Ss=d.c,I=Ss.a.a;return Ss.b,y(y(C,C+i(De,e,I)),y(S,S))}else{var Vr=d.a,C=Vr.a.a;Vr.b;var Gr=d.b,S=Gr.a.a;Gr.b;var Nn=d.c,I=Nn.a.a,R=Nn.b.a;return y(y(C,C+i(De,e,I)),y(S,S+i(Ne,e,R)))}else{var Ge=d.a,me=Ge.a.a;Ge.b;var tr=d.b,C=tr.a.a,S=tr.b.a;return y(y(me,me),y(C,S))}else if(d.b.a.$===1)if(d.b.b.$===1){var O=d.a,C=O.a.a,S=O.b.a,X=d.b;return X.a,X.b,y(y(C,S),y(e.cs.I,e.cs.I))}else{var be=d.a,C=be.a.a,S=be.b.a,ie=d.b;ie.a;var me=ie.b.a;return y(y(C,S),y(me,me))}else if(d.b.b.$===1){var He=d.a,C=He.a.a,S=He.b.a,Pe=d.b,me=Pe.a.a;return Pe.b,y(y(C,S),y(me,me))}else return y(y(i(oe,e.cr.I,r.au),i(oe,e.cr.A,r.aF)),y(i(oe,e.cs.I,r.dV),i(oe,e.cs.A,r.bt)))}(),a=n.a,s=a.a,o=a.b,u=n.b,m=u.a,l=u.b,v=s+i(qa,e,r.i),c=o+i(qa,e,r.i),p=m-i(Pa,e,r.j),f=l-i(Pa,e,r.j),_=r.dB>0?y(i(qa,e,eh(t)*r.dB),i(Pa,e,rh(t)*r.dB)):y(0,0),h=_.a,E=_.b,x=r.g?M(r.dB>0?b([i(Je,c+h,f+E),i(T,c,f)]):b([i(Je,c,f)]),M(r.cF?b([i(T,c,p),i(T,v,p)]):b([i(T,v,p)]),r.dB>0?b([i(T,v+h,p+E)]):V)):M(r.dB>0?b([i(Je,v+h,p+E),i(T,v,p)]):b([i(Je,v,p)]),M(r.cF?b([i(T,v,f),i(T,c,f)]):b([i(T,c,f)]),r.dB>0?b([i(T,c+h,f+E)]):V));return F(va,r.f,Et,b([ye("elm-charts__line"),Br("transparent"),Ot(r.b),st(j(r.cq)),os(j(r.P)),th(i(Ce," ",i(ae,j,r.aI))),kt(i(Kl,e,x)),r.n?vn(e):ye("")]),V)}),Qo=$(function(e,r){return i(nh,e,i($r,r,Zb))}),ah=$(function(e,r){return U(r,{du:e})}),fi=$(function(e,r){return U(r,{cq:e})}),ih=$(function(e,r){return U(r,{au:H(e)})}),sh=$(function(e,r){return U(r,{dV:H(e)})}),oh=function(e){var r=i($r,e,{b:"",aI:V,ax:!1,cq:0}),t=r.cq?r.cq:r.ax?.5:1,n=Ft(r.b)?r.ax?Ub:Xb:r.b,a=Q(function(u,m,l,v){return i(Ht,l,u.aG)||i(Ht,v,u.aH)?q:H(P(Qb,m,function(c){return c.cr},function(c){return c.cs},b([xt(n),ah(t),Jb]),{cr:l,cs:v}))}),s=w(function(u,m,l){return i(Ht,l,u.aG)?q:H(i(Qo,m,b([xt(n),fi(t),ih(l),Go(r.aI)])))}),o=w(function(u,m,l){return i(Ht,l,u.aH)?q:H(i(Qo,m,b([xt(n),fi(t),sh(l),Go(r.aI)])))});return zb($(function(u,m){return i(er,b([ye("elm-charts__grid")]),r.ax?i(Fr,function(l){return i(xr,g(a,m,u,l),m.J)},m.C):b([i(er,b([ye("elm-charts__x-grid")]),i(xr,i(s,m,u),m.C)),i(er,b([ye("elm-charts__y-grid")]),i(xr,i(o,m,u),m.J))]))}))},uh=yr(function(e,r,t,n,a,s){var o=$(function(u,m){var l=m.a,v=m.b,c=m.c;switch(u.$){case 0:return we(l,v,c);case 1:var h=u.d;return we(l,i(L,h(r),v),c);case 2:var h=u.e;return we(l,i(L,h(r),v),c);case 3:var h=u.b;return we(l,i(L,h(r),v),c);case 4:var h=u.b;return we(l,i(L,h(r),v),c);case 5:var h=u.b;return we(l,i(L,h(r),v),c);case 6:var p=u.a,h=u.c;return we(l,i(L,i(h,r,p(r)),v),c);case 7:var p=u.a,h=u.c;return we(l,i(L,i(h,r,p(r)),v),c);case 8:var p=u.a,h=u.c;return we(l,i(L,i(h,r,p(r)),v),c);case 9:var h=u.a;return we(l,i(L,i(h,r,t),v),c);case 10:var f=u.a;return g(cr,o,we(l,v,c),i(f,r,n));case 11:var _=u.a;return g(cr,o,we(l,v,c),_);case 12:var h=u.a;return we(l,i(L,h(r),v),c);default:var h=u.a;return we(Rr(v)>0?i(L,i(h,r,a),l):l,v,Rr(v)>0?c:i(L,i(h,r,a),c))}});return g(cr,o,we(V,V,V),s)}),lh=$(function(e,r){var t=function(){var _=$(function(h,E){var x=E.a,d=E.b;switch(h.$){case 0:var O=h.a,C=O(d),S=C.a,X=C.b;return y(M(x,b([S])),X);case 11:var be=h.a;return g($e,_,y(x,d),be);default:return y(M(x,b([h])),d)}});return g($e,_,y(V,0),r).a}(),n=function(){var _=function(h){return h.$===9};return i(Gi,_,t)?t:i(L,oh(V),t)}(),a=Mb(n),s=i($r,e,{f:b([tc("overflow: visible;")]),a_:V,aM:V,bL:300,aN:V,af:{cE:0,c7:0,dp:0,dN:0},R:{cE:0,c7:0,dp:0,dN:0},bg:V,aS:!0,cq:300}),o=i(Tb,s,n),u=i(Rb,o,n),m=function(_){var h=_,E=h.cP,x=E;return i(hb,h.dd,x(u))},l=g(Bb,o,u,n),v=ur(uh,s,o,l,u,a,n),c=v.a,p=v.b,f=v.c;return P(Pb,o,{f:s.f,aM:i(ae,m,s.aM),aN:s.aN,aS:s.aS},c,p,f)}),ch=$(function(e,r){return U(r,{a_:e})}),Xo=w(function(e,r,t){return e}),mh=$(function(e,r){return U(r,{F:H(e)})}),vh=Ae("h2"),$h=$(function(e,r){return U(r,{bL:e})}),fh=w(function(e,r,t){return U(t,{A:g(r,e,t.A,t.cL)})}),Zo=$(function(e,r){return U(r,{af:e})}),dh=$(function(e,r){return U(r,{j:r.j+e})}),ph=function(e){if(e.$===1){var r=e.a;return H(r)}else return q},bh=$(function(e,r){return U(r,{P:e})}),hh="resultats . bilan total",gh=function(e){return U(e,{h:!0})},_h={$:0},yh=w(function(e,r,t){return{$:7,a:e,b:r,c:t}}),eu=w(function(e,r,t){return e(r(t))}),kh=function(e){return{$:1,a:e}},lc=kh,Eh=$(function(e,r){return e*_a(r/e)}),wn=Om,xh=$(function(e,r){var t=e/r;return ee(t,wn(t))?e:i(Eh,r,e)}),cc=function(e){return i(Ue,si(e),i(Ue,yl,oe(0)))},Ca=$(function(e,r){return g(cr,$(function(t,n){return e(t)?i(L,t,n):n}),V,r)}),Ch=w(function(e,r,t){var n=b(t?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10]);return r?n:e===1?i(Ca,function(a){return ee(wn(a),a)},n):e<=.1?b([1/e]):n}),di=function(e){var r=i(Tr,"e",j(e));if(r.b&&r.b.b&&!r.b.b.b){r.a;var t=r.b,n=t.a;return Lr(i(oe,0,Hi(n)))}else{var a=i(Tr,".",j(e));if(a.b&&a.b.b&&!a.b.b.b){a.a;var s=a.b,n=s.a;return Fe(n)}else return 0}},ru=ym,wh=hm,Sh=function(e){return i(wh,10,hn(i(aa,ru,e)/i(aa,ru,10)))},Vh=w(function(e,r,t){var n=Sh(e),a=g(Ch,n,r,t),s=e/n,o=function(v){e:for(;;)if(v.b){var c=v.a,p=v.b;if(ne(c*n,e)>-1)return c;var f=p;v=f;continue e}else return 1},u=function(v){e:for(;;)if(v.b)if(v.b.b){var c=v.a,p=v.b,f=p.a,_=p.b;if(ne(s,(c+f)/2)<1)return c;var h=i(L,f,_);v=h;continue e}else{var c=v.a,_=v.b;if(ne(s,c)<1)return c;var h=_;v=h;continue e}else return 1},m=t?o(a):u(a),l=di(n)+di(m);return i(cc,l,m*n)}),Oh=Oe(function(e,r,t,n,a){e:for(;;){var s=i(cc,di(t),r+n*t);if(ne(s,e.A)>0)return a;var o=e,u=r,m=t,l=n+1,v=M(a,b([s]));e=o,r=u,t=m,n=l,a=v;continue e}}),da=Q(function(e,r,t,n){var a=(n.A-n.I)/t,s=g(Vh,a,e,r),o=s||1,u=i(xh,n.I,o);return P(Oh,n,u,o,0,V)}),Ah=function(e){if(e.$){var r=e.a;return g(da,!0,!1,r)}else{var r=e.a;return g(da,!0,!0,r)}},jh=$(function(e,r){return i(Ah,lc(e),{A:r.A,I:r.I})}),Dh=jh,Nh=yr(function(e,r,t,n,a,s){return{dD:a,dH:r,dI:e,as:s,dL:n,dM:t}}),Ih=function(e){return e>11?"pm":"am"},tu=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";default:return"December"}},Ee=gm,qh=function(e){var r=i(Ee,100,e);switch(r){case 11:return"th";case 12:return"th";case 13:return"th";default:var t=i(Ee,10,e);switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},nu=function(e){switch(e){case 0:return"Monday";case 1:return"Tuesday";case 2:return"Wednesday";case 3:return"Thursday";case 4:return"Friday";case 5:return"Saturday";default:return"Sunday"}},Ph=ur(Nh,tu,i(Ue,tu,wt(3)),nu,i(Ue,nu,wt(3)),Ih,qh),Sn=$(function(e,r){return hn(e/r)}),vt=function(e){var r=e;return r},Fh=w(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b;if(ne(n.bq,r)<0)return r+n.c;var s=e,o=r,u=a;e=s,r=o,t=u;continue e}else return r+e}),Rt=$(function(e,r){var t=e.a,n=e.b;return g(Fh,t,i(Sn,vt(r),6e4),n)}),Xe=$(function(e,r){return i(Ee,24,i(Sn,i(Rt,e,r),60))}),au=w(function(e,r,t){return e.dD(i(Xe,r,t))}),ls=function(e){var r=i(Sn,e,1440)+719468,t=(r>=0?r:r-146096)/146097|0,n=r-t*146097,a=(n-(n/1460|0)+(n/36524|0)-(n/146096|0))/365|0,s=n-(365*a+(a/4|0)-(a/100|0)),o=(5*s+2)/153|0,u=o+(o<10?3:-9),m=a+t*400;return{bB:s-((153*o+2)/5|0)+1,bY:u,ct:m+(u<=2?1:0)}},cs=$(function(e,r){return ls(i(Rt,e,r)).bB}),Wn=cs,Th=b([6,0,1,2,3,4,5]),pi=$(function(e,r){var t=i(Ee,7,i(Sn,i(Rt,e,r),1440));switch(t){case 0:return 3;case 1:return 4;case 2:return 5;case 3:return 6;case 4:return 0;case 5:return 1;default:return 2}}),bi=$(function(e,r){return function(t){var n=t.a;return n}(i(oe,y(0,6),St(i(Ca,function(t){var n=t.b;return ee(n,i(pi,e,r))},i(br,$(function(t,n){return y(t,n)}),Th)))))}),Rh=function(e){return i(Ee,4,e)?!1:i(Ee,100,e)?!0:!i(Ee,400,e)},Mh=$(function(e,r){switch(r){case 0:return 31;case 1:return Rh(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),mc=b([0,1,2,3,4,5,6,7,8,9,10,11]),$n=$(function(e,r){var t=ls(i(Rt,e,r)).bY;switch(t){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}}),Lh=$(function(e,r){return i(oe,y(0,0),St(i(Ca,function(t){t.a;var n=t.b;return ee(n,i($n,e,r))},i(br,$(function(t,n){return y(t,n)}),mc))))}),rn=$(function(e,r){return 1+function(t){var n=t.a;return t.b,n}(i(Lh,e,r))}),Bh=function(e){return g($e,b$,0,e)},zh=w(function(e,r,t){e:for(;;){if(e<=0)return t;if(r.b){var n=r.a,a=r.b,s=e-1,o=a,u=i(L,n,t);e=s,r=o,t=u;continue e}else return t}}),Jh=$(function(e,r){return Re(g(zh,e,r,V))}),vc=w(function(e,r,t){if(r<=0)return V;var n=y(r,t);e:for(;;){r:for(;;)if(n.b.b)if(n.b.b.b)switch(n.a){case 1:break e;case 2:var a=n.b,d=a.a,s=a.b,o=s.a;return b([d,o]);case 3:if(n.b.b.b.b){var u=n.b,d=u.a,m=u.b,o=m.a,l=m.b,v=l.a;return b([d,o,v])}else break r;default:if(n.b.b.b.b&&n.b.b.b.b.b){var c=n.b,d=c.a,p=c.b,o=p.a,f=p.b,v=f.a,_=f.b,h=_.a,E=_.b;return e>1e3?i(L,d,i(L,o,i(L,v,i(L,h,i(Jh,r-4,E))))):i(L,d,i(L,o,i(L,v,i(L,h,g(vc,e+1,r-4,E)))))}else break r}else{if(n.a===1)break e;break r}else return t;return t}var x=n.b,d=x.a;return b([d])}),Uh=$(function(e,r){return g(vc,0,e,r)}),Vn=$(function(e,r){return ls(i(Rt,e,r)).ct}),Kn=$(function(e,r){var t=i(Uh,i(rn,e,r)-1,mc),n=Bh(i(ae,Mh(i(Vn,e,r)),t));return n+i(Wn,e,r)}),iu=$(function(e,r){return i(rn,e,r)/4|0}),fr=$(function(e,r){var t=se(r),n=e-Fe(t),a=i(Ce,"",i(ae,function(s){return"0"},i(Ji,1,n)));return M(a,t)}),Hh=Bm,pa=$(function(e,r){return i(Ee,1e3,vt(r))}),Dt=$(function(e,r){return i(Ee,60,i(Rt,e,r))}),su=function(e){return e?e<=12?e:e-12:12},fn=$(function(e,r){return i(Ee,60,i(Sn,vt(r),1e3))}),Ct=_r,Wh=wn(1e3*60*60*24*365.25),Kh=$(function(e,r){return Ct(Wh*i(Vn,e,r))}),Fa=$(function(e,r){var t=i(Kh,e,r),n=i(bi,e,t),a=i(Kn,e,r);return((a+n)/7|0)+1}),ou=$(function(e,r){return se(i(Vn,e,r))}),Gh=Q(function(e,r,t,n){switch(n.$){case 0:return se(i(rn,r,t));case 1:return function(s){return M(se(s),e.as(s))}(i(rn,r,t));case 2:return i(fr,2,i(rn,r,t));case 3:return e.dH(i($n,r,t));case 4:return e.dI(i($n,r,t));case 17:return se(1+i(iu,r,t));case 18:return function(s){return M(se(s),e.as(s))}(1+i(iu,r,t));case 5:return se(i(Wn,r,t));case 6:return function(s){return M(se(s),e.as(s))}(i(Wn,r,t));case 7:return i(fr,2,i(Wn,r,t));case 8:return se(i(Kn,r,t));case 9:return function(s){return M(se(s),e.as(s))}(i(Kn,r,t));case 10:return i(fr,3,i(Kn,r,t));case 11:return se(i(bi,r,t));case 12:return function(s){return M(se(s),e.as(s))}(i(bi,r,t));case 13:return e.dL(i(pi,r,t));case 14:return e.dM(i(pi,r,t));case 19:return se(i(Fa,r,t));case 20:return function(s){return M(se(s),e.as(s))}(i(Fa,r,t));case 21:return i(fr,2,i(Fa,r,t));case 15:return i(cn,2,i(ou,r,t));case 16:return i(ou,r,t);case 22:return Zi(g(au,e,r,t));case 23:return Hh(g(au,e,r,t));case 24:return se(i(Xe,r,t));case 25:return i(fr,2,i(Xe,r,t));case 26:return se(su(i(Xe,r,t)));case 27:return i(fr,2,su(i(Xe,r,t)));case 28:return se(1+i(Xe,r,t));case 29:return i(fr,2,1+i(Xe,r,t));case 30:return se(i(Dt,r,t));case 31:return i(fr,2,i(Dt,r,t));case 32:return se(i(fn,r,t));case 33:return i(fr,2,i(fn,r,t));case 34:return se(i(pa,r,t));case 35:return i(fr,3,i(pa,r,t));default:var a=n.a;return a}}),Yh=Q(function(e,r,t,n){return i(Ce,"",i(ae,g(Gh,e,t,n),r))}),$t=Yh(Ph),Qh={$:25},ms=Qh,Xh={$:31},vs=Xh,Zh=function(e){return{$:36,a:e}},et=Zh,uu=$t(b([ms,et(":"),vs])),eg={$:35},rg=eg,tg={$:33},$c=tg,ng=$t(b([ms,et(":"),vs,et(":"),$c,et(":"),rg])),ag=$t(b([ms,et(":"),vs,et(":"),$c])),ig={$:5},sg=ig,og={$:0},ug=og,lg=$t(b([ug,et("/"),sg])),cg={$:3},mg=cg,vg=$t(b([mg])),$g={$:14},fg=$g,dg=$t(b([fg])),pg={$:16},bg=pg,hg=$t(b([bg])),gg=$(function(e,r){var t=i(oe,r.dO,r.cH);switch(t){case 0:return i(ng,e,r.dC);case 1:return i(ag,e,r.dC);case 2:return i(uu,e,r.dC);case 3:return i(uu,e,r.dC);case 4:return r.dc===7?i(dg,e,r.dC):i(lg,e,r.dC);case 5:return i(vg,e,r.dC);default:return i(hg,e,r.dC)}}),_g=gg,yg=w(function(e,r,t){var n=r;return i(n,e,t)}),Ta=yg,kg=$(function(e,r){return i(ae,wn,function(){if(e.$){var t=e.a;return F(da,!1,!1,t,r)}else{var t=e.a;return F(da,!1,!0,t,r)}}())}),Eg=$(function(e,r){return i(kg,lc(e),{A:r.A,I:r.I})}),xg=Eg,fc=function(e){return!i(Ee,4,e)&&!!i(Ee,100,e)||!i(Ee,400,e)},$s=$(function(e,r){var t=fc(e)?1:0;switch(r){case 0:return 0;case 1:return 31;case 2:return 59+t;case 3:return 90+t;case 4:return 120+t;case 5:return 151+t;case 6:return 181+t;case 7:return 212+t;case 8:return 243+t;case 9:return 273+t;case 10:return 304+t;default:return 334+t}}),tn=$(function(e,r){return hn(e/r)}),On=function(e){var r=e-1,t=i(tn,r,4)-i(tn,r,100)+i(tn,r,400);return 365*r+t},fs=$(function(e,r){switch(r){case 0:return 31;case 1:return fc(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),ds=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}},ps=function(e){var r=i(qe,1,e);switch(r){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}},Cg=w(function(e,r,t){e:for(;;){var n=i(fs,e,r),a=ds(r);if(a<12&&ne(t,n)>0){var s=e,o=ps(a+1),u=t-n;e=s,r=o,t=u;continue e}else return{bB:t,bY:r,ct:e}}}),Fn=$(function(e,r){return y(i(tn,e,r),i(Ee,r,e))}),Gn=function(e){var r=e,t=i(Fn,r,146097),n=t.a,a=t.b,s=i(Fn,a,36524),o=s.a,u=s.b,m=i(Fn,u,1461),l=m.a,v=m.b,c=i(Fn,v,365),p=c.a,f=c.b,_=f?1:0;return n*400+o*100+l*4+p+_},wg=function(e){var r=e,t=Gn(r);return{be:r-On(t),ct:t}},dc=function(e){var r=e,t=wg(r);return g(Cg,t.ct,0,t.be)},hi=w(function(e,r,t){var n=t;switch(e){case 0:return g(hi,1,12*r,n);case 1:var a=dc(n),s=12*(a.ct-1)+(ds(a.bY)-1)+r,o=ps(i(Ee,12,s)+1),u=i(tn,s,12)+1;return On(u)+i($s,u,o)+i(zr,a.bB,i(fs,u,o));case 2:return n+7*r;default:return n+r}}),pc=w(function(e,r,t){return On(e)+i($s,e,r)+g(hr,1,i(fs,e,r),t)}),rt=$(function(e,r){return g(pc,i(Vn,e,r),i($n,e,r),i(cs,e,r))}),Sg=function(e){var r=e;return r},bc=function(e){var r=Sg(e)-719163;return r*864e5},nn=Q(function(e,r,t,n){return e*36e5+r*6e4+t*1e3+n}),gi=$(function(e,r){return F(nn,i(Xe,e,r),i(Dt,e,r),i(fn,e,r),i(pa,e,r))}),Ra=$(function(e,r){var t=vt(r),n=bc(i(rt,e,r))+i(gi,e,r);return(n-t)/6e4|0}),tt=w(function(e,r,t){var n=bc(r)+t,a=i(Ra,e,Ct(n)),s=Ct(n-a*6e4),o=i(Ra,e,s);if(ee(a,o))return s;var u=Ct(n-o*6e4),m=i(Ra,e,u);return ee(o,m)?u:s}),ot=Q(function(e,r,t,n){e:for(;;)switch(e){case 15:return Ct(vt(n)+r);case 14:var a=15,s=r*1e3,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 13:var a=15,s=r*6e4,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 12:var a=15,s=r*36e5,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 11:return g(tt,t,g(hi,3,r,i(rt,t,n)),i(gi,t,n));case 2:return g(tt,t,g(hi,1,r,i(rt,t,n)),i(gi,t,n));case 0:var a=2,s=r*12,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 1:var a=2,s=r*3,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 3:var a=11,s=r*7,o=t,u=n;e=a,r=s,t=o,n=u;continue e;default:var a=11,s=r*7,o=t,u=n;e=a,r=s,t=o,n=u;continue e}}),Vg=function(e){var r=e,t=i(Ee,7,r);if(t){var n=t;return n}else return 7},Og=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;default:return 7}},Or=$(function(e,r){return i(Ee,7,Vg(r)+7-Og(e))}),lu=$(function(e,r){return On(e)+i($s,e,r)+1}),Ag=function(e){return On(e)+1},hc=i(Ue,dc,function(e){return e.bY}),jg=function(e){return(ds(e)+2)/3|0},Dg=i(Ue,hc,jg),Ng=function(e){return ps(e*3-2)},Ig=$(function(e,r){var t=r;switch(e){case 0:return Ag(Gn(r));case 1:return i(lu,Gn(r),Ng(Dg(r)));case 2:return i(lu,Gn(r),hc(r));case 3:return t-i(Or,0,r);case 4:return t-i(Or,0,r);case 5:return t-i(Or,1,r);case 6:return t-i(Or,2,r);case 7:return t-i(Or,3,r);case 8:return t-i(Or,4,r);case 9:return t-i(Or,5,r);case 10:return t-i(Or,6,r);default:return r}}),Ye=w(function(e,r,t){return g(tt,r,i(Ig,e,i(rt,r,t)),0)}),qg=w(function(e,r,t){switch(e){case 15:return t;case 14:return g(tt,r,i(rt,r,t),F(nn,i(Xe,r,t),i(Dt,r,t),i(fn,r,t),0));case 13:return g(tt,r,i(rt,r,t),F(nn,i(Xe,r,t),i(Dt,r,t),0,0));case 12:return g(tt,r,i(rt,r,t),F(nn,i(Xe,r,t),0,0,0));case 11:return g(Ye,11,r,t);case 2:return g(Ye,2,r,t);case 0:return g(Ye,0,r,t);case 1:return g(Ye,1,r,t);case 3:return g(Ye,3,r,t);case 4:return g(Ye,4,r,t);case 5:return g(Ye,5,r,t);case 6:return g(Ye,6,r,t);case 7:return g(Ye,7,r,t);case 8:return g(Ye,8,r,t);case 9:return g(Ye,9,r,t);default:return g(Ye,10,r,t)}}),ut=w(function(e,r,t){var n=g(qg,e,r,t);return ee(n,t)?t:F(ot,e,1,r,n)}),Pg=w(function(e,r,t){return r===7?g(ut,3,e,t):g(ut,11,e,t)}),Mt=$(function(e,r){var t=r.ct,n=r.bY,a=r.bB,s=r.a$,o=r.a9,u=r.bi,m=r.a8;return g(tt,e,g(pc,t,n,a),F(nn,g(hr,0,23,s),g(hr,0,59,o),g(hr,0,59,u),g(hr,0,999,m)))}),Ze=$(function(e,r){return{bB:i(cs,e,r),a$:i(Xe,e,r),a8:i(pa,e,r),a9:i(Dt,e,r),bY:i($n,e,r),bi:i(fn,e,r),ct:i(Vn,e,r)}}),Fg=w(function(e,r,t){var n=i(Ze,e,g(ut,12,e,t)),a=n.a$%r,s=i(Mt,e,n);return a?F(ot,12,r-a,e,s):s}),Tg=w(function(e,r,t){var n=i(Ze,e,g(ut,13,e,t)),a=n.a9%r,s=i(Mt,e,n);return a?F(ot,13,r-a,e,s):s}),cu=function(e){switch(e){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;case 12:return 11;default:return 11}},Yn=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}},Rg=w(function(e,r,t){var n=i(Ze,e,g(ut,2,e,t)),a=Yn(n.bY),s=(a-1)%r,o=s?a-s+r:a;return i(Mt,e,o>12?U(n,{bY:cu(o-12),ct:n.ct+1}):U(n,{bY:cu(o)}))}),Mg=w(function(e,r,t){var n=i(Ze,e,t),a=n.a8%r;return a?F(ot,15,r-a,e,t):i(Mt,e,n)}),Lg=w(function(e,r,t){var n=i(Ze,e,g(ut,14,e,t)),a=n.bi%r,s=i(Mt,e,n);return a?F(ot,14,r-a,e,s):s}),Bg=w(function(e,r,t){var n=i(Ze,e,g(ut,0,e,t)),a=n.ct%r,s=a?n.ct-a+r:n.ct;return i(Mt,e,U(n,{ct:s}))}),_i=w(function(e,r,t){switch(r){case 0:return i(Mg,e,t);case 1:return i(Lg,e,t);case 2:return i(Tg,e,t);case 3:return i(Fg,e,t);case 4:return i(Pg,e,t);case 5:return i(Rg,e,t);default:return i(Bg,e,t)}}),zg=w(function(e,r,t){var n=i(Ze,e,t),a=i(Ze,e,r);return ee(a.ct,n.ct)?ee(a.bY,n.bY)?ee(a.bB,n.bB)?ee(a.a$,n.a$)?ee(a.a9,n.a9)?ee(a.bi,n.bi)?0:1:2:3:4:5:6}),Jg=function(e){return!i(Ee,400,e)||!!i(Ee,100,e)&&!i(Ee,4,e)},Ug=$(function(e,r){switch(r){case 0:return 31;case 1:return Jg(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),Hg=Ug,Ar=vt,Wg=w(function(e,r,t){var n=ne(Ar(r),Ar(t))<0?y(i(Ze,e,r),i(Ze,e,t)):y(i(Ze,e,t),i(Ze,e,r)),a=n.a,s=n.b,o=s.a8-a.a8,u=o<0?1e3+o:o,m=s.bi-a.bi+(o<0?-1:0),l=s.a9-a.a9+(m<0?-1:0),v=s.a$-a.a$+(l<0?-1:0),c=s.bB-a.bB+(v<0?-1:0),p=c<0?i(Hg,s.ct,s.bY)+c:c,f=Yn(s.bY)-Yn(a.bY)+(c<0?-1:0),_=f<0?12+f:f,h=v<0?24+v:v,E=l<0?60+l:l,x=m<0?60+m:m,d=s.ct-a.ct+(f<0?-1:0),O=d<0?Yn(s.bY)+d:d;return{bB:p,a$:h,a8:u,a9:E,bY:_,bi:x,ct:O}}),gc=1e3,_c=gc*60,yc=_c*60,Kg=yc*24,Gg=1,kc=Oe(function(e,r,t,n,a){var s=$(function(m,l){return hn(m/l)}),o=function(m){var l=F(_i,e,r,t,n);return ne(Ar(l),Ar(a))>0?-1:i(s,i(s,Ar(a)-Ar(l),m),t)},u=function(m){var l=F(_i,e,r,t,n);return ne(Ar(l),Ar(a))>0?-1:i(s,m(g(Wg,e,l,a)),t)};switch(r){case 0:return o(Gg)+1;case 1:return o(gc)+1;case 2:return o(_c)+1;case 3:return o(yc)+1;case 4:return o(Kg)+1;case 5:return u(function(m){return m.bY+m.ct*12})+1;default:return u(function(m){return m.ct})+1}}),Yg=function(e){switch(e){case 0:return H(1);case 1:return H(2);case 2:return H(3);case 3:return H(4);case 4:return H(5);case 5:return H(6);default:return q}},Qg=function(e){switch(e){case 0:return b([1,2,5,10,20,25,50,100,200,500]);case 1:return b([1,2,5,10,15,30]);case 2:return b([1,2,5,10,15,30]);case 3:return b([1,2,3,4,6,8,12]);case 4:return b([1,2,3,7,14]);case 5:return b([1,2,3,4,6]);default:return b([1,2,5,10,20,25,50,100,200,500,1e3,1e4,1e6,1e7])}},Xg=Q(function(e,r,t,n){var a=function(s){e:for(;;){var o=Qg(s),u=i(Ca,function(f){return ne(P(kc,e,s,f,t,n),r)<1},o);$(function(f,_){return _a(f/_)});var m=St(u);if(m.$){var v=Yg(s);if(v.$)return y(6,1e8);var c=v.a,p=c;s=p;continue e}else{var l=m.a;return y(s,l)}}};return a(0)}),Zg=function(e){switch(e){case 0:return 15;case 1:return 14;case 2:return 13;case 3:return 12;case 4:return 11;case 5:return 2;default:return 0}},mu=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return 6}},e0=Q(function(e,r,t,n){var a=F(Xg,e,r,t,n),s=a.a,o=a.b,u=P(kc,e,s,o,t,n),m=F(_i,e,s,o,t),l=Zg(s),v=w(function(p,f,_){return{cH:ne(mu(_),mu(s))>0?H(_):q,a6:!p,dc:o,dC:f,dO:s,bu:e}}),c=$(function(p,f){e:for(;;)if(p.b){var _=p.a,h=p.b,E=F(ot,l,(_-1)*o,e,m),x=F(ot,l,_*o,e,m),d=g(zg,e,E,x),O=h,C=i(L,g(v,_,x,d),f);p=O,f=C;continue e}else return f});return Re(i(c,i(Ji,0,u-1),V))}),r0=w(function(e,r,t){var n=function(o){switch(o){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return 6}},a=function(o){return{cH:i(Mr,n,o.cH),a6:o.a6,dc:o.dc,dC:o.dC,dO:n(o.dO),bu:o.bu}},s=function(o){return Ct(wn(o))};return i(ae,a,F(e0,e,r,s(t.I),s(t.A)))}),t0=function(e){return $(function(r,t){return g(r0,e,r,{A:t.A,I:t.I})})},n0=t0,a0=Q(function(e,r,t,n){var a=$(function(o,u){return ae(function(m){return{aO:function(){if(t.$)return u(m);var l=t.a;return l(o(m))}(),W:o(m)}})});switch(r.$){case 0:return g(a,_r,j,g(Ta,e,Dh,n));case 1:return g(a,wo,se,g(Ta,e,xg,n));default:var s=r.a;return g(a,i(eu,i(eu,wo,vt),function(o){return o.dC}),_g(s),g(Ta,e,n0(s),n))}}),i0=function(e){return g(hr,e.I,e.A,0)},s0=function(e){var r=$(function(a,s){return F(a0,s.K,s.M,s.F,g($e,$(function(o,u){return o(u)}),a.cs,s.w))}),t=w(function(a,s,o){return s.h?U(o,{J:M(o.J,i(ae,function(u){return u.W},i(r,a,s)))}):o}),n=function(a){return i($r,e,{K:5,k:q,f:V,b:"#808BAB",l:q,g:!1,m:q,F:q,M:_h,h:!1,n:!1,w:V,p:i0,q:0,s:!1,i:-10,j:3})};return g(yh,n,t,$(function(a,s){var o=Le,u=function(m){return F(nc,a,U(o,{k:function(){var l=s.k;if(l.$===1)return H(s.g?1:0);var v=l.a;return H(v)}(),f:s.f,b:s.b,l:s.l,m:s.m,n:s.n,q:s.q,s:s.s,i:s.g?-s.i:s.i,j:s.j}),b([$a(m.aO)]),{cr:s.p(a.cr),cs:m.W})};return i(er,b([ye("elm-charts__y-labels")]),i(ae,u,i(r,a,s)))}))},o0=function(e){var r=i(oe,0,i(ti,function(n){var a=n.ag;return ph(a)},i(vr,hh,e.U))),t=i(xr,function(n){return i(ti,function(a){var s=a.ag;if(s.$===1){var o=s.a;return H({by:n,ag:o/r*100})}else return q},i(vr,n,e.U))},e.aw);return i(ce,b([W("hidden lg:block bg-neutral border border-base-200 rounded-md mt-8")]),b([i(vh,b([W("bg-base-100 p-4 border-b border-base-200")]),b([ke("DÃTAILS")])),i(ce,b([W("p-4")]),b([i(lh,b([fi(800),$h(800),Zo({cE:40,c7:40,dp:40,dN:40}),ch(b([i(oc,0,Xo),i(fh,100,Xo)]))]),b([s0(b([gh,mh(function(n){return j(n)+" %"})])),i(pb,function(n){return n.by},b([dh(30)])),g(Kp,b([ns(.25),Zo(.25)]),b([i(Ld,function(n){return n.ag},b([xt(bb),bh(.8)]))]),t)]))]))]))},u0=Ae("header"),l0=mt("target"),c0=i(u0,V,b([i(ce,b([W("flex items-center justify-between w-full py-2 px-8 mb-4 border-b border-base-200 bg-neutral")]),b([i(ce,b([W("flex items-center")]),b([i(ce,b([W("text-3xl font-bold text-primary m-2")]),b([ke("EkoFest")])),i(un,b([W("badge badge-secondary badge-outline italic")]),b([ke("beta")]))])),i(Dl,b([W("hover:text-primary cursor-pointer"),Nl("https://ekofest.github.io/publicodes-evenements"),l0("_blank")]),b([ke("Consulter le modÃ¨le de calcul â§")]))]))])),m0=$(function(e,r){var t=i(vr,r,e);if(t.$)return r;var n=t.a;return i(oe,r,n.cl)}),v0="resultats",$0=function(e){if(e.$)return ke("Calcul en cours");var r=e.a.ag;return ke(jl(r))},f0=function(e){return ke(" "+i(oe,"",e.dO))},d0=function(e){var r=i(xr,function(t){var n=t.a,a=t.b,s=cl(n);if(s.b&&s.b.b&&!s.b.b.b){var o=s.a;return s.b,ee(o,v0)?H(y(n,a)):q}else return q},at(e.S));return i(ce,b([W("stats stats-vertical border w-full rounded-md bg-neutral")]),i(ae,function(t){var n=t.a,a=t.b;return i(ce,b([W("stat")]),b([i(ce,b([W("stat-title")]),b([ke(i(m0,e.S,n))])),i(ce,b([W("stat-value text-primary")]),b([$0(i(vr,n,e.U))])),i(ce,b([W("stat-desc text-primary")]),b([f0(a)]))]))},r))},p0=function(e){return i(ce,V,b([c0,Jf(e.S)?i(ce,b([W("p-4")]),b([Lo(e.an),i(ce,b([W("prose")]),b([ke("Chargement...")]))])):i(ce,b([W("flex flex-col-reverse lg:grid lg:grid-cols-3")]),b([i(ce,b([W("p-4 lg:pl-8 lg:pr-4 lg:col-span-2")]),b([i(Hf,b([W("flex flex-wrap bg-neutral rounded-t-lg border-t border-x border-base-200 p-2 sticky top-0")]),qd(e.aw)),i(Pn,Nd,e)])),i(Pn,Lo,e.an),i(ce,b([W("flex flex-col p-4 lg:pl-4 lg:col-span-1 lg:pr-8 ")]),b([i(Pn,d0,e),i(Pn,o0,e)]))]))]))},b0=H$({c3:Cf,dy:Nf,dP:zf,dR:p0});const h0={Main:{init:b0(on)(0)}};var g0=Object.create,bs=Object.defineProperty,_0=Object.getOwnPropertyDescriptor,Ec=Object.getOwnPropertyNames,y0=Object.getPrototypeOf,k0=Object.prototype.hasOwnProperty,xc=(e,r)=>function(){return r||(0,e[Ec(e)[0]])((r={exports:{}}).exports,r),r.exports},E0=(e,r)=>{for(var t in r)bs(e,t,{get:r[t],enumerable:!0})},x0=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Ec(r))!k0.call(e,a)&&a!==t&&bs(e,a,{get:()=>r[a],enumerable:!(n=_0(r,a))||n.enumerable});return e},Cc=(e,r,t)=>(t=e!=null?g0(y0(e)):{},x0(r||!e||!e.__esModule?bs(t,"default",{value:e,enumerable:!0}):t,e)),C0=xc({"../../node_modules/nearley/lib/nearley.js"(e,r){(function(t,n){typeof r=="object"&&r.exports?r.exports=n():t.nearley=n()})(e,function(){function t(v,c,p){return this.id=++t.highestId,this.name=v,this.symbols=c,this.postprocess=p,this}t.highestId=0,t.prototype.toString=function(v){var c=typeof v>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,v).map(l).join(" ")+" â "+this.symbols.slice(v).map(l).join(" ");return this.name+" â "+c};function n(v,c,p,f){this.rule=v,this.dot=c,this.reference=p,this.data=[],this.wantedBy=f,this.isComplete=this.dot===v.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(v){var c=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=v,c.isComplete&&(c.data=c.build(),c.right=void 0),c},n.prototype.build=function(){var v=[],c=this;do v.push(c.right.data),c=c.left;while(c.left);return v.reverse(),v},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,u.fail))};function a(v,c){this.grammar=v,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}a.prototype.process=function(v){for(var c=this.states,p=this.wants,f=this.completed,_=0;_<c.length;_++){var h=c[_];if(h.isComplete){if(h.finish(),h.data!==u.fail){for(var E=h.wantedBy,x=E.length;x--;){var d=E[x];this.complete(d,h)}if(h.reference===this.index){var O=h.rule.name;(this.completed[O]=this.completed[O]||[]).push(h)}}}else{var O=h.rule.symbols[h.dot];if(typeof O!="string"){this.scannable.push(h);continue}if(p[O]){if(p[O].push(h),f.hasOwnProperty(O))for(var C=f[O],x=0;x<C.length;x++){var S=C[x];this.complete(h,S)}}else p[O]=[h],this.predict(O)}}},a.prototype.predict=function(v){for(var c=this.grammar.byName[v]||[],p=0;p<c.length;p++){var f=c[p],_=this.wants[v],h=new n(f,0,this.index,_);this.states.push(h)}},a.prototype.complete=function(v,c){var p=v.nextState(c);this.states.push(p)};function s(v,c){this.rules=v,this.start=c||this.rules[0].name;var p=this.byName={};this.rules.forEach(function(f){p.hasOwnProperty(f.name)||(p[f.name]=[]),p[f.name].push(f)})}s.fromCompiled=function(f,c){var p=f.Lexer;f.ParserStart&&(c=f.ParserStart,f=f.ParserRules);var f=f.map(function(h){return new t(h.name,h.symbols,h.postprocess)}),_=new s(f,c);return _.lexer=p,_};function o(){this.reset("")}o.prototype.reset=function(v,c){this.buffer=v,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var v=this.buffer[this.index++];return v===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:v}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(v,c){var p=this.buffer;if(typeof p=="string"){var f=p.split(`
`).slice(Math.max(0,this.line-5),this.line),_=p.indexOf(`
`,this.index);_===-1&&(_=p.length);var h=this.index-this.lastLineBreak,E=String(this.line).length;return c+=" at line "+this.line+" col "+h+`:

`,c+=f.map(function(d,O){return x(this.line-f.length+O+1,E)+" "+d},this).join(`
`),c+=`
`+x("",E+h)+`^
`,c}else return c+" at index "+(this.index-1);function x(d,O){var C=String(d);return Array(O-C.length+1).join(" ")+C}};function u(v,c,p){if(v instanceof s)var f=v,p=c;else var f=s.fromCompiled(v,c);this.grammar=f,this.options={keepHistory:!1,lexer:f.lexer||new o};for(var _ in p||{})this.options[_]=p[_];this.lexer=this.options.lexer,this.lexerState=void 0;var h=new a(f,0);this.table=[h],h.wants[f.start]=[],h.predict(f.start),h.process(),this.current=0}u.fail={},u.prototype.feed=function(v){var c=this.lexer;c.reset(v,this.lexerState);for(var p;;){try{if(p=c.next(),!p)break}catch(ie){var E=new a(this.grammar,this.current+1);this.table.push(E);var f=new Error(this.reportLexerError(ie));throw f.offset=this.current,f.token=ie.token,f}var _=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var h=this.current+1,E=new a(this.grammar,h);this.table.push(E);for(var x=p.text!==void 0?p.text:p.value,d=c.constructor===o?p.value:p,O=_.scannable,C=O.length;C--;){var S=O[C],X=S.rule.symbols[S.dot];if(X.test?X.test(d):X.type?X.type===p.type:X.literal===x){var be=S.nextState({data:d,token:p,isToken:!0,reference:h-1});E.states.push(be)}}if(E.process(),E.states.length===0){var f=new Error(this.reportError(p));throw f.offset=this.current,f.token=p,f}this.options.keepHistory&&(_.lexerState=c.save()),this.current++}return _&&(this.lexerState=c.save()),this.results=this.finish(),this},u.prototype.reportLexerError=function(v){var c,p,f=v.token;return f?(c="input "+JSON.stringify(f.text[0])+" (lexer error)",p=this.lexer.formatError(f,"Syntax error")):(c="input (lexer error)",p=v.message),this.reportErrorCommon(p,c)},u.prototype.reportError=function(v){var c=(v.type?v.type+" token: ":"")+JSON.stringify(v.value!==void 0?v.value:v),p=this.lexer.formatError(v,"Syntax error");return this.reportErrorCommon(p,c)},u.prototype.reportErrorCommon=function(v,c){var p=[];p.push(v);var f=this.table.length-2,_=this.table[f],h=_.states.filter(function(x){var d=x.rule.symbols[x.dot];return d&&typeof d!="string"});if(h.length===0)p.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(_.states,p);else{p.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var E=h.map(function(x){return this.buildFirstStateStack(x,[])||[x]},this);E.forEach(function(x){var d=x[0],O=d.rule.symbols[d.dot],C=this.getSymbolDisplay(O);p.push("A "+C+" based on:"),this.displayStateStack(x,p)},this)}return p.push(""),p.join(`
`)},u.prototype.displayStateStack=function(v,c){for(var p,f=0,_=0;_<v.length;_++){var h=v[_],E=h.rule.toString(h.dot);E===p?f++:(f>0&&c.push("    ^ "+f+" more lines identical to this"),f=0,c.push("    "+E)),p=E}},u.prototype.getSymbolDisplay=function(v){return m(v)},u.prototype.buildFirstStateStack=function(v,c){if(c.indexOf(v)!==-1)return null;if(v.wantedBy.length===0)return[v];var p=v.wantedBy[0],f=[v].concat(c),_=this.buildFirstStateStack(p,f);return _===null?null:[v].concat(_)},u.prototype.save=function(){var v=this.table[this.current];return v.lexerState=this.lexerState,v},u.prototype.restore=function(v){var c=v.index;this.current=c,this.table[c]=v,this.table.splice(c+1),this.lexerState=v.lexerState,this.results=this.finish()},u.prototype.rewind=function(v){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[v])},u.prototype.finish=function(){var v=[],c=this.grammar.start,p=this.table[this.table.length-1];return p.states.forEach(function(f){f.rule.name===c&&f.dot===f.rule.symbols.length&&f.reference===0&&f.data!==u.fail&&v.push(f)}),v.map(function(f){return f.data})};function m(v){var c=typeof v;if(c==="string")return v;if(c==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return"character matching "+v;if(v.type)return v.type+" token";if(v.test)return"token matching "+String(v.test);throw new Error("Unknown symbol type: "+v)}}function l(v){var c=typeof v;if(c==="string")return v;if(c==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return v.toString();if(v.type)return"%"+v.type;if(v.test)return"<"+String(v.test)+">";throw new Error("Unknown symbol type: "+v)}}return{Parser:u,Grammar:s,Rule:t}})}}),w0=xc({"../../node_modules/moo/moo.js"(e,r){(function(t,n){typeof define=="function"&&define.amd?define([],n):typeof r=="object"&&r.exports?r.exports=n():t.moo=n()})(e,function(){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,a=typeof new RegExp().sticky=="boolean";function s(k){return k&&n.call(k)==="[object RegExp]"}function o(k){return k&&typeof k=="object"&&!s(k)&&!Array.isArray(k)}function u(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function m(k){var A=new RegExp("|"+k);return A.exec("").length-1}function l(k){return"("+k+")"}function v(k){if(!k.length)return"(?!)";var A=k.map(function(D){return"(?:"+D+")"}).join("|");return"(?:"+A+")"}function c(k){if(typeof k=="string")return"(?:"+u(k)+")";if(s(k)){if(k.ignoreCase)throw new Error("RegExp /i flag not allowed");if(k.global)throw new Error("RegExp /g flag is implied");if(k.sticky)throw new Error("RegExp /y flag is implied");if(k.multiline)throw new Error("RegExp /m flag is implied");return k.source}else throw new Error("Not a pattern: "+k)}function p(k,A){return k.length>A?k:Array(A-k.length+1).join(" ")+k}function f(k,A){for(var D=k.length,N=0;;){var J=k.lastIndexOf(`
`,D-1);if(J===-1||(N++,D=J,N===A)||D===0)break}var I=N<A?0:D+1;return k.substring(I).split(`
`)}function _(k){for(var A=Object.getOwnPropertyNames(k),D=[],N=0;N<A.length;N++){var J=A[N],I=k[J],R=[].concat(I);if(J==="include"){for(var Z=0;Z<R.length;Z++)D.push({include:R[Z]});continue}var G=[];R.forEach(function(z){o(z)?(G.length&&D.push(E(J,G)),D.push(E(J,z)),G=[]):G.push(z)}),G.length&&D.push(E(J,G))}return D}function h(k){for(var A=[],D=0;D<k.length;D++){var N=k[D];if(N.include){for(var J=[].concat(N.include),I=0;I<J.length;I++)A.push({include:J[I]});continue}if(!N.type)throw new Error("Rule has no type: "+JSON.stringify(N));A.push(E(N.type,N))}return A}function E(k,A){if(o(A)||(A={match:A}),A.include)throw new Error("Matching rules cannot also include states");var D={defaultType:k,lineBreaks:!!A.error||!!A.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var N in A)t.call(A,N)&&(D[N]=A[N]);if(typeof D.type=="string"&&k!==D.type)throw new Error("Type transform cannot be a string (type '"+D.type+"' for token '"+k+"')");var J=D.match;return D.match=Array.isArray(J)?J:J?[J]:[],D.match.sort(function(I,R){return s(I)&&s(R)?0:s(R)?-1:s(I)?1:R.length-I.length}),D}function x(k){return Array.isArray(k)?h(k):_(k)}var d=E("error",{lineBreaks:!0,shouldThrow:!0});function O(k,A){for(var D=null,N=Object.create(null),J=!0,I=null,R=[],Z=[],G=0;G<k.length;G++)k[G].fallback&&(J=!1);for(var G=0;G<k.length;G++){var z=k[G];if(z.include)throw new Error("Inheritance is not allowed in stateless lexers");if(z.error||z.fallback){if(D)throw!z.fallback==!D.fallback?new Error("Multiple "+(z.fallback?"fallback":"error")+" rules not allowed (for token '"+z.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+z.defaultType+"')");D=z}var he=z.match.slice();if(J)for(;he.length&&typeof he[0]=="string"&&he[0].length===1;){var We=he.shift();N[We.charCodeAt(0)]=z}if(z.pop||z.push||z.next){if(!A)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+z.defaultType+"')");if(z.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+z.defaultType+"')")}if(he.length!==0){J=!1,R.push(z);for(var Ke=0;Ke<he.length;Ke++){var Ve=he[Ke];if(s(Ve)){if(I===null)I=Ve.unicode;else if(I!==Ve.unicode&&z.fallback===!1)throw new Error("If one rule is /u then all must be")}}var ue=v(he.map(c)),ge=new RegExp(ue);if(ge.test(""))throw new Error("RegExp matches empty string: "+ge);var Ge=m(ue);if(Ge>0)throw new Error("RegExp has capture groups: "+ge+`
Use (?: â¦ ) instead`);if(!z.lineBreaks&&ge.test(`
`))throw new Error("Rule should declare lineBreaks: "+ge);Z.push(l(ue))}}var tr=D&&D.fallback,Vr=a&&!tr?"ym":"gm",Gr=a||tr?"":"|";I===!0&&(Vr+="u");var Nn=new RegExp(v(Z)+Gr,Vr);return{regexp:Nn,groups:R,fast:N,error:D||d}}function C(k){var A=O(x(k));return new ie({start:A},"start")}function S(k,A,D){var N=k&&(k.push||k.next);if(N&&!D[N])throw new Error("Missing state '"+N+"' (in token '"+k.defaultType+"' of state '"+A+"')");if(k&&k.pop&&+k.pop!=1)throw new Error("pop must be 1 (in token '"+k.defaultType+"' of state '"+A+"')")}function X(k,A){var D=k.$all?x(k.$all):[];delete k.$all;var N=Object.getOwnPropertyNames(k);A||(A=N[0]);for(var J=Object.create(null),I=0;I<N.length;I++){var R=N[I];J[R]=x(k[R]).concat(D)}for(var I=0;I<N.length;I++)for(var R=N[I],Z=J[R],G=Object.create(null),z=0;z<Z.length;z++){var he=Z[z];if(he.include){var We=[z,1];if(he.include!==R&&!G[he.include]){G[he.include]=!0;var Ke=J[he.include];if(!Ke)throw new Error("Cannot include nonexistent state '"+he.include+"' (in state '"+R+"')");for(var Ve=0;Ve<Ke.length;Ve++){var ue=Ke[Ve];Z.indexOf(ue)===-1&&We.push(ue)}}Z.splice.apply(Z,We),z--}}for(var ge=Object.create(null),I=0;I<N.length;I++){var R=N[I];ge[R]=O(J[R],!0)}for(var I=0;I<N.length;I++){for(var Ge=N[I],tr=ge[Ge],Vr=tr.groups,z=0;z<Vr.length;z++)S(Vr[z],Ge,ge);for(var Gr=Object.getOwnPropertyNames(tr.fast),z=0;z<Gr.length;z++)S(tr.fast[Gr[z]],Ge,ge)}return new ie(ge,A)}function be(k){for(var A=typeof Map<"u",D=A?new Map:Object.create(null),N=Object.getOwnPropertyNames(k),J=0;J<N.length;J++){var I=N[J],R=k[I],Z=Array.isArray(R)?R:[R];Z.forEach(function(G){if(typeof G!="string")throw new Error("keyword must be string (in keyword '"+I+"')");A?D.set(G,I):D[G]=I})}return function(G){return A?D.get(G):D[G]}}var ie=function(k,A){this.startState=A,this.states=k,this.buffer="",this.stack=[],this.reset()};ie.prototype.reset=function(k,A){return this.buffer=k||"",this.index=0,this.line=A?A.line:1,this.col=A?A.col:1,this.queuedToken=A?A.queuedToken:null,this.queuedText=A?A.queuedText:"",this.queuedThrow=A?A.queuedThrow:null,this.setState(A?A.state:this.startState),this.stack=A&&A.stack?A.stack.slice():[],this},ie.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},ie.prototype.setState=function(k){if(!(!k||this.state===k)){this.state=k;var A=this.states[k];this.groups=A.groups,this.error=A.error,this.re=A.regexp,this.fast=A.fast}},ie.prototype.popState=function(){this.setState(this.stack.pop())},ie.prototype.pushState=function(k){this.stack.push(this.state),this.setState(k)};var me=a?function(k,A){return k.exec(A)}:function(k,A){var D=k.exec(A);return D[0].length===0?null:D};ie.prototype._getGroup=function(k){for(var A=this.groups.length,D=0;D<A;D++)if(k[D+1]!==void 0)return this.groups[D];throw new Error("Cannot find token type for matched text")};function He(){return this.value}if(ie.prototype.next=function(){var k=this.index;if(this.queuedGroup){var A=this._token(this.queuedGroup,this.queuedText,k);return this.queuedGroup=null,this.queuedText="",A}var D=this.buffer;if(k!==D.length){var R=this.fast[D.charCodeAt(k)];if(R)return this._token(R,D.charAt(k),k);var N=this.re;N.lastIndex=k;var J=me(N,D),I=this.error;if(J==null)return this._token(I,D.slice(k,D.length),k);var R=this._getGroup(J),Z=J[0];return I.fallback&&J.index!==k?(this.queuedGroup=R,this.queuedText=Z,this._token(I,D.slice(k,J.index),k)):this._token(R,Z,k)}},ie.prototype._token=function(k,A,D){var N=0;if(k.lineBreaks){var J=/\n/g,I=1;if(A===`
`)N=1;else for(;J.exec(A);)N++,I=J.lastIndex}var R={type:typeof k.type=="function"&&k.type(A)||k.defaultType,value:typeof k.value=="function"?k.value(A):A,text:A,toString:He,offset:D,lineBreaks:N,line:this.line,col:this.col},Z=A.length;if(this.index+=Z,this.line+=N,N!==0?this.col=Z-I+1:this.col+=Z,k.shouldThrow){var G=new Error(this.formatError(R,"invalid syntax"));throw G}return k.pop?this.popState():k.push?this.pushState(k.push):k.next&&this.setState(k.next),R},typeof Symbol<"u"&&Symbol.iterator){var Pe=function(k){this.lexer=k};Pe.prototype.next=function(){var k=this.lexer.next();return{value:k,done:!k}},Pe.prototype[Symbol.iterator]=function(){return this},ie.prototype[Symbol.iterator]=function(){return new Pe(this)}}return ie.prototype.formatError=function(k,A){if(k==null)var D=this.buffer.slice(this.index),k={text:D,offset:this.index,lineBreaks:D.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var N=2,J=Math.max(k.line-N,1),I=k.line+N,R=String(I).length,Z=f(this.buffer,this.line-k.line+N+1).slice(0,5),G=[];G.push(A+" at line "+k.line+" col "+k.col+":"),G.push("");for(var z=0;z<Z.length;z++){var he=Z[z],We=J+z;G.push(p(String(We),R)+"  "+he),We===k.line&&G.push(p("",R+k.col+1)+"^")}return G.join(`
`)},ie.prototype.clone=function(){return new ie(this.states,this.state)},ie.prototype.has=function(k){return!0},{compile:C,states:X,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:be}})}}),K=class extends Error{constructor(r,t,n,a){super(hs(r,t,n,a));fe(this,"name");fe(this,"info");this.name=r,this.info=n}},hs=(e,r,t,n)=>{const a={SyntaxError:"Erreur syntaxique",EvaluationError:"Erreur d'Ã©valuation",UnknownRule:"RÃ¨gle inconnue",PrivateRule:"RÃ¨gle privÃ©e"},s=/error/i.test(e);return`
[ ${a[e]??e} ]`+(t&&"dottedName"in t&&t.dottedName?.length?`
â¡ï¸  Dans la rÃ¨gle "${t.dottedName}"`:"")+`
${s?"âï¸":"â ï¸"}  ${r}`+(n?`
`+(s?"    ":"â¹ï¸  ")+n.message:"")},An=class extends K{constructor(e){super("InternalError",`
Erreur interne du moteur.

Cette erreur est le signe d'un bug dans publicodes. Pour nous aider Ã  le rÃ©soudre, vous pouvez copier ce texte dans un nouveau ticket : https://github.com/betagouv/mon-entreprise/issues/new.

payload:
${JSON.stringify(e,null,2)}
`,e)}},S0=class extends An{constructor(e){super(e)}};function wa(e,r,t,n){e.warn(hs("Avertissement",r,t,n))}function vu(e,r){e.warn(hs("Avertissement",`Cette rÃ¨gle est tagguÃ©e comme experimentale. 

Cela veut dire qu'elle peut Ãªtre modifiÃ©e, renommÃ©e, ou supprimÃ©e sans qu'il n'y ait de changement de version majeure dans l'API.
`,{dottedName:r}))}function $u(e,r,t){if(e.has(r)){e.get(r).add(t);return}e.set(r,new Set([t]))}function V0(e,r){return Object.entries(r).reduce((t,[n,a])=>({...t,[n]:[...t[n]??[],...a]}),e)}var Nt=e=>{const r={};for(const t in e)r[t]=e[t];return r};function ba(e,r=!0){function t(n){const a=e(n,t);return a===!1?n:a===void 0?yi(t,n):r?a:yi(t,a)}return t}function wc(e){function r(n){switch(e(n,r)){case"continue":yi(t,n);return;case"stop":return}}const t=n=>(r(n),n);return r}function O0(e,r){const t={};for(const n in r)t[n]=e(r[n]);return t}var yi=(e,r)=>{switch(r=A0(e,r),r.nodeKind){case"rule":return j0(e,r);case"reference":case"constant":return r;case"arrondi":return M0(e,r);case"simplifier unitÃ©":case"variable manquante":case"est non applicable":case"est non dÃ©fini":return N0(e,r);case"barÃ¨me":case"taux progressif":case"grille":return q0(e,r);case"une possibilitÃ©":return P0(e,r);case"durÃ©e":return T0(e,r);case"rÃ©soudre rÃ©fÃ©rence circulaire":return L0(e,r);case"inversion":return R0(e,r);case"operation":return F0(e,r);case"recalcul":return z0(e,r);case"unitÃ©":return J0(e,r);case"variations":return U0(e,r);case"replacementRule":return D0(e,r);case"texte":return B0(e,r);case"condition":return H0(e,r);default:throw new S0(r)}},A0=(e,r)=>{if(!("sourceMap"in r)||!r.sourceMap||!r.sourceMap.args)return r;const t=r.sourceMap,n={};for(const a in t.args){const s=t.args[a];n[a]=Array.isArray(s)?s.map(o=>e(o)):e(s)}return{...r,sourceMap:{...t,args:n}}},j0=(e,r)=>{const t=Nt(r);t.suggestions={};for(const n in r.suggestions)t.suggestions[n]=e(r.suggestions[n]);return t.replacements=r.replacements.map(e),t.explanation={ruleDisabledByItsParent:r.explanation.ruleDisabledByItsParent,nullableParent:r.explanation.nullableParent?e(r.explanation.nullableParent):void 0,parents:r.explanation.parents.map(e),valeur:e(r.explanation.valeur)},t},D0=(e,r)=>({...r,definitionRule:e(r.definitionRule),replacedReference:e(r.replacedReference),replacementNode:e(r.replacementNode),whiteListedNames:r.whiteListedNames.map(e),blackListedNames:r.blackListedNames.map(e)}),N0=(e,r)=>({...r,explanation:e(r.explanation)});function I0(e,r){return r.map(t=>({...t,...t.plafond&&{plafond:e(t.plafond)},..."montant"in t&&{montant:e(t.montant)},..."taux"in t&&{taux:e(t.taux)}}))}var q0=(e,r)=>({...r,explanation:{assiette:e(r.explanation.assiette),multiplicateur:e(r.explanation.multiplicateur),tranches:I0(e,r.explanation.tranches)}}),P0=(e,r)=>({...r,explanation:r.explanation.map(e)}),F0=(e,r)=>{const t=Nt(r);return t.explanation=[e(r.explanation[0]),e(r.explanation[1])],t},T0=(e,r)=>({...r,explanation:{depuis:e(r.explanation.depuis),"jusqu'Ã ":e(r.explanation["jusqu'Ã "])}}),R0=(e,r)=>({...r,explanation:{...r.explanation,inversionCandidates:r.explanation.inversionCandidates.map(e)}}),M0=(e,r)=>({...r,explanation:{valeur:e(r.explanation.valeur),arrondi:e(r.explanation.arrondi)}}),L0=(e,r)=>({...r,explanation:{...r.explanation,valeur:e(r.explanation.valeur)}}),B0=(e,r)=>({...r,explanation:r.explanation.map(t=>typeof t=="string"?t:e(t))}),z0=(e,r)=>({...r,explanation:{...r.explanation,amendedSituation:r.explanation.amendedSituation.map(([t,n])=>[e(t),e(n)]),recalcul:r.explanation.recalculNode&&e(r.explanation.recalculNode)}}),J0=(e,r)=>{const t=Nt(r);return t.explanation=e(r.explanation),t},U0=(e,r)=>({...r,explanation:r.explanation.map(({condition:t,consequence:n})=>({condition:e(t),consequence:n&&e(n)}))}),H0=(e,r)=>{const t=Nt(r);return t.explanation={si:e(r.explanation.si),alors:e(r.explanation.alors),sinon:e(r.explanation.sinon)},t},an={constant:e=>e};function xe(e,r){if(an??(an={}),an[e])throw new K("EvaluationError",`Multiple evaluation functions registered for the nodeKind \x1B[4m${e}`,{dottedName:""});an[e]=r}var fu={isNullable:void 0,type:void 0};function W0(e,r,t){function n(s){if(!s||typeof s!="object")return fu;if(t.has(s))return t.get(s);t.set(s,fu);const o=a(s);return t.set(s,o),o}function a(s){switch(s.nodeKind){case"barÃ¨me":case"durÃ©e":case"grille":case"taux progressif":return{isNullable:!1,type:"number"};case"est non dÃ©fini":case"est non applicable":return{isNullable:!1,type:"boolean"};case"constant":return{isNullable:s.isNullable??s.nodeValue===null,type:s.type};case"operation":return{isNullable:["<","<=",">",">=","/","*"].includes(s.operationKind)?n(s.explanation[0]).isNullable||n(s.explanation[1]).isNullable:s.operationKind==="-"?n(s.explanation[0]).isNullable:!1,type:["<","<=",">",">=","=","!=","et","ou"].includes(s.operationKind)?"boolean":"number"};case"inversion":case"recalcul":case"replacementRule":case"rÃ©soudre rÃ©fÃ©rence circulaire":return{isNullable:!1,type:"number"};case"texte":case"une possibilitÃ©":return{isNullable:!1,type:"string"};case"rule":case"arrondi":return n(s.explanation.valeur);case"unitÃ©":case"simplifier unitÃ©":case"variable manquante":return n(s.explanation);case"condition":return{isNullable:[s.explanation.si,s.explanation.alors,s.explanation.sinon].some(u=>n(u).isNullable),type:n(s.explanation.alors).type??n(s.explanation.sinon).type};case"variations":const o=s.explanation.map(({consequence:u})=>n(u));return{isNullable:o.some(u=>u.isNullable),type:o.map(u=>u.type).find(u=>u!==void 0)};case"reference":return n(r[s.dottedName])}}return e.forEach(s=>{const o=r[s];n(o),o.explanation.parents.forEach(n)}),t}function Er(e,r,t){let n,a;function s(o,u){n??(n=B(t,dn({dottedName:"INLINE_MECANISM"}))),a??(a={});for(const v in r)"par dÃ©faut"in r[v]&&(a[v]=B(r[v]["par dÃ©faut"],dn({})));Object.keys(r).length===1&&"valeur"in r&&(o={valeur:o});const m={};for(const v in o)m[v]=B(o[v],u);const l=ba(v=>{if(v.nodeKind!=="reference"||!(v.name in r))return;const c=v.name;if(c in m)return m[c];if(c in a)return a[c];throw new K("SyntaxError",`Il manque la clÃ© '${c} dans le mÃ©canisme ${e}`,{dottedName:c})})(n);return l.sourceMap={mecanismName:e,args:m},l}return s.nom=e,Object.assign(s,"name",{value:`parse${Sc(e)}Inline`})}function Lt(e,r,t){function n(a,s){Object.keys(r).length===1&&"valeur"in r&&(a={valeur:a});const o={};for(const m in a){const l=a[m];o[m]=Array.isArray(l)?l.map(v=>B(v,s)):B(l,s)}const u=B(t(o),s);return u.sourceMap={mecanismName:e,args:o},u}return n.nom=e,Object.assign(n,"name",{value:`parse${Sc(e)}Inline`})}function Sc(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,r=>r.toUpperCase()).replace(/\s+/g,"")}var Kr={nodeKind:"constant",nodeValue:null,missingVariables:{},type:void 0,isNullable:!0},Vc={nodeKind:"constant",nodeValue:void 0,missingVariables:{},type:void 0,isNullable:!1},ha={...Vc,type:"number"},K0=Er("abattement",{abattement:{},valeur:{}},{"-":["valeur","abattement"],plancher:0}),G0=Er("applicable si",{"applicable si":{},valeur:{}},{condition:{si:"applicable si != non",alors:"valeur",sinon:Kr}}),Y0=e=>"missingVariables"in e?e.missingVariables:{},Oc=(e={})=>Object.fromEntries(Object.entries(e).map(([r,t])=>[r,t+1])),lt=(e={},r={})=>Object.fromEntries([...Object.keys(e),...Object.keys(r)].map(t=>[t,(e[t]??0)+(r[t]??0)])),rr=e=>e.map(Y0).reduce(lt,{}),Sr=e=>({nodeValue:e,type:typeof e,isDefault:!0,nodeKind:"constant"}),Q0=(e,r,t)=>{const n={};for(const a in e){const s=e[a];if(r[a]==null&&!s)throw new K("EngineError",`Il manque une clÃ© '${a}' dans ${JSON.stringify(r)} `,{});const o=r[a]!=null?B(r[a],t):s;n[a]=o}return n},Xr=(e,r=t=>t)=>{const[t,...n]=e.split("/").map(o=>o.trim()),a=o=>Z0(o.split(".").filter(Boolean).map(u=>r(u)));return{numerators:a(t),denominators:n.flatMap(o=>a(o))}},X0=/(\d+)(?!.*[A-Za-z])/g;function Ac(e){let r={};return e.forEach(t=>{const n=t.match(X0);if(n!=null){const a=n[0],s=t.split(a)[0];r[s]=(r[s]??0)+ +a}else r[t]=(r[t]??0)+1}),r}function Z0(e){let r=Ac(e);return Object.entries(r).flatMap(([t,n])=>Array(n).fill(t))}function e1(e){let r=Ac(e);return Object.entries(r).map(([t,n])=>n>1?`${t}${n}`:t)}var Tn=(e,r,t=n=>n)=>e1(e.map(n=>t(n,r))).join("."),du=2;function or(e,r=du,t=n=>n){if(e===null||typeof e!="object")return typeof e=="string"?t(e,r):e;const n=Sa(e),{numerators:a=[],denominators:s=[]}=n,o=a.length>0,u=s.length>0;return!o&&!u?"":o&&!u?Tn(a,r,t):!o&&u?`/${Tn(s,1,t)}`:`${Tn(a,du,t)} / ${Tn(s,1,t)}`}var sn={numerators:[],denominators:[]},jr=(e,r)=>{if(e==="/"){if(r.length!==2)throw new K("InternalError","Infer units of a division with units.length !== 2)",{});return jr("*",[r[0]||sn,{numerators:(r[1]||sn).denominators,denominators:(r[1]||sn).numerators}])}const t=r.filter(Boolean);if(t.length<=1)return t[0];if(e==="*")return Sa({numerators:t.flatMap(n=>n?.numerators??[]),denominators:t.flatMap(n=>n?.denominators??[])});if(e==="-"||e==="+")return r.find(n=>n)},jc=(e,r)=>Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every((t,n)=>e[n]===r[n]):e===r,pu=(e,r=jc)=>t=>{const n=t.findIndex(a=>r(a,e));return t.filter((a,s)=>s!==n)},Sa=(e,r=jc)=>[...e.numerators,...e.denominators].reduce(({numerators:n,denominators:a},s)=>n.find(o=>r(s,o))&&a.find(o=>r(s,o))?{numerators:pu(s,r)(n),denominators:pu(s,r)(a)}:{numerators:n,denominators:a},e),Qn={"mois/an":12,"jour/an":365,"jour/mois":365/12,"trimestre/an":4,"mois/trimestre":3,"jour/trimestre":365/12*3,"â¬/kâ¬":10**3,"g/kg":10**3,"mg/g":10**3,"mg/kg":10**6,"m/km":10**3,"cm/m":10**2,"mm/cm":10**1,"mm/m":10**3,"cm/km":10**5,"mm/km":10**6};function bu(e,r){return Qn[`${r}/${e}`]||Qn[`${e}/${r}`]&&1/Qn[`${e}/${r}`]}function ki(e,r){let t=100**(r.filter(n=>n==="%").length-e.filter(n=>n==="%").length);return[t]=e.reduce(([n,a],s)=>{const o=a.findIndex(m=>!!bu(s,m)),u=bu(s,a[o])||1;return[n*u,[...a.slice(0,o+1),...a.slice(o+1)]]},[t,r]),t}var hu={"kW.h":"kWh","mn / h":"noeud"};function r1(e,r){return!e||!r?!1:e===r||e===hu[r]||r===hu[e]}function jn(e,r,t){const n=or(e),a=or(r);if(!r1(n,a)&&!n1(e,r))throw new K("EngineError",`Impossible de convertir l'unitÃ© '${n}' en '${a}'`,{});if(!t||e===void 0)return t;const[s,o]=gu(e||sn),[u,m]=gu(r||sn);return Ic(t*o/m*ki(s.numerators,u.numerators)*ki(u.denominators,s.denominators))}var Dc=t1(Qn);function t1(e){return Object.keys(e).reduce((r,t)=>{const[n,a]=t.split("/"),s=r.findIndex(u=>u.has(n)),o=r.findIndex(u=>u.has(a));if(s>-1&&o>-1&&s!==o)throw new K("EngineError",`Invalid ratio ${t}`,{});return s===-1&&o===-1?r.push(new Set([n,a])):s>-1?r[s].add(a):o>-1&&r[o].add(n),r},[])}function Nc(e,r){return e===r||Dc.some(t=>t.has(e)&&t.has(r))}function Ic(e){return+e.toFixed(16)}function qc(e){const{numerators:r,denominators:t}=Sa(e,Nc);return r.length&&r.every(n=>n==="%")?{numerators:["%"],denominators:t}:Pc({numerators:r,denominators:t})}function gu(e,r=1){const t=ki(e.numerators,e.denominators);return[Sa(Pc(e),Nc),r&&Ic(r*t)]}var Pc=e=>({numerators:e.numerators.filter(r=>r!=="%"),denominators:e.denominators.filter(r=>r!=="%")});function n1(e,r){if(e==null||r==null)return!0;const t=l=>l.reduce((v,c)=>{const p=Dc.findIndex(_=>_.has(c)),f=p===-1?c:""+p;return{...v,[f]:1+(v[f]??0)}},{}),[n,a,s,o]=[e.numerators,e.denominators,r.numerators,r.denominators].map(t),u=l=>[...new Set(l)],m=[n,a,s,o].map(Object.keys).flat();return u(m).every(l=>(n[l]||0)-(a[l]||0)===(s[l]||0)-(o[l]||0)||l==="%")}function _u(e,r){return+e.toFixed(r)}var a1=function(e){const r=Bc(this.evaluateNode(e.explanation.valeur)),t=r.nodeValue;let n=e.explanation.arrondi;if(t!==!1&&(n=this.evaluateNode(n),typeof n.nodeValue=="number"&&!or(n.unit)?.match(/dÃ©cimales?/)))throw new K("EvaluationError",`L'unitÃ© ${or(n.unit)} de l'arrondi est inconnu. Vous devez utiliser l'unitÃ© âdÃ©cimalesâ`,{dottedName:this.cache._meta.evaluationRuleStack[0]});return{...e,nodeValue:typeof r.nodeValue!="number"||!("nodeValue"in n)?r.nodeValue:typeof n.nodeValue=="number"?_u(r.nodeValue,n.nodeValue):n.nodeValue===!0?_u(r.nodeValue,0):n.nodeValue===void 0?void 0:r.nodeValue,explanation:{valeur:r,arrondi:n},missingVariables:rr([r,n]),unit:r.unit}};function Va(e,r){return{explanation:{valeur:B(e.valeur,r),arrondi:B(e.arrondi,r)},nodeKind:Va.nom}}Va.nom="arrondi";xe(Va.nom,a1);function Fc(e,r){return Object.entries(e.avec).forEach(([n,a])=>{B({nom:n,...a==null?{}:typeof a!="object"||"nodeKind"in a?{valeur:a}:a},r)}),B(e.valeur,r)}Fc.nom="avec";var gs=(e,r)=>e.map((t,n)=>{if(!t.plafond&&n>e.length)throw new K("SyntaxError",`La tranche nÂ°${n} du barÃ¨me n'a pas de plafond prÃ©cisÃ©. Seule la derniÃ¨re tranche peut ne pas Ãªtre plafonnÃ©e`,{dottedName:""});return{...t,...t.taux!==void 0?{taux:B(t.taux,r)}:{},...t.montant!==void 0?{montant:B(t.montant,r)}:{},plafond:"plafond"in t?B(t.plafond,r):{nodeValue:1/0,nodeKind:"constant",type:"number",isNullable:!1}}});function _s({multiplicateur:e,assiette:r,parsedTranches:t}){return t.reduce(([n,a],s,o)=>{if(a)return[[...n,{...s,isAfterActive:!0}],a];const u=this.evaluateNode(s.plafond),m=n[o-1]?n[o-1].plafond:{nodeValue:0};let l=u.nodeValue===void 0||e.nodeValue===void 0?void 0:u.nodeValue*e.nodeValue;try{l=l===1/0||l===0?l:jn(jr("*",[u.unit,e.unit]),r.unit,l)}catch(_){wa(this.context.logger,`L'unitÃ© du plafond de la tranche nÂ°${o+1}  n'est pas compatible avec celle l'assiette`,{dottedName:this.cache._meta.evaluationRuleStack[0]},_)}const v=n[o-1]?n[o-1].plafondValue:0,c=v===void 0||r.nodeValue===void 0?void 0:v>r.nodeValue,p=[u,r,e,m];if(p.some(_=>_.nodeValue===void 0))return[[...n,{...s,plafond:u,plafondValue:l,plancherValue:v,nodeValue:void 0,isActive:void 0,isAfterActive:c,missingVariables:rr(p)}],!1];if(n[o-1]&&v&&l<=v)throw new K("EvaluationError",`Le plafond de la tranche nÂ°${o+1} a une valeur infÃ©rieure Ã  celui de la tranche prÃ©cÃ©dente`,{dottedName:this.cache._meta.evaluationRuleStack[0]});const f={...s,plafond:u,plancherValue:v,plafondValue:l,isAfterActive:c,isActive:r.nodeValue>=v&&r.nodeValue<l};return[[...n,f],f.isActive]},[[],!1])[0]}function i1(e,r){return{explanation:{assiette:B(e.assiette,r),multiplicateur:e.multiplicateur?B(e.multiplicateur,r):Sr(1),tranches:gs(e.tranches,r)},nodeKind:"barÃ¨me"}}function s1(e,r,t){return e.map(n=>{if(n.isAfterActive)return{...n,nodeValue:0};const a=t(n.taux),s=rr([a,n]);return[r.nodeValue,a.nodeValue,n.plafondValue,n.plancherValue].some(o=>o===void 0)?{...n,taux:a,nodeValue:void 0,missingVariables:s}:{...n,taux:a,..."unit"in r&&{unit:r.unit},nodeValue:(Math.min(r.nodeValue,n.plafondValue)-n.plancherValue)*jn(a.unit,Xr(""),a.nodeValue),missingVariables:s}})}var o1=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Le multiplicateur ne peut pas Ãªtre nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});const a=s1(_s.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}),t,r),s=a.reduce((o,{nodeValue:u})=>u==null?void 0:o+u,0);return{...e,nodeValue:s,missingVariables:rr([t,n,...a]),explanation:{assiette:t,multiplicateur:n,tranches:a},unit:t.unit}};xe("barÃ¨me",o1);var u1=(e,r,t)=>{const{composantes:n,...a}=r,s=B({somme:n.map(o=>{const{attributs:u,...m}=o;return{...u,valeur:{[e]:{...a,...m}}}})},t);return{...s,sourceMap:{args:{},...s.sourceMap,mecanismName:"composantes"}}},l1=function(e){let r;const t=this.evaluateNode(e.explanation.si);let n=e.explanation.alors,a=e.explanation.sinon;if("unit"in t)throw new K("EvaluationError","La condition doit Ãªtre de type boolÃ©en",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(t.nodeValue===!0)n=this.evaluateNode(e.explanation.alors),n.isActive=!0,r=n;else if(t.nodeValue===!1)a=this.evaluateNode(e.explanation.sinon),r=a;else if(t.nodeValue===null)r=t;else if(t.nodeValue===void 0)a=this.evaluateNode(e.explanation.sinon),n=this.evaluateNode(e.explanation.alors),r={...t,missingVariables:rr([a,n])};else throw new K("EvaluationError","La condition doit Ãªtre de type boolÃ©en",{dottedName:this.cache._meta.evaluationRuleStack[0]});const s=r.unit??n.unit;return{...r,missingVariables:lt(Oc(t.missingVariables),r.missingVariables),...s!=null?{unit:s}:{},...e,explanation:{si:t,alors:n,sinon:a}}};function Tc(e,r){return{explanation:{si:B(e.si,r),alors:B(e.alors,r),sinon:B(e.sinon,r)},nodeKind:"condition"}}Tc.nom="condition";xe("condition",l1);function Rc(e){let[r,t,n]=e.split("/");return n||([r,t,n]=["01",r,t]),Mc(+n,+t,+r)}var Ma=e=>+e<10?`0${e}`:""+e;function Mc(e,r,t){const n=new Date(+e,+r-1,+t);if(!+n||n.getDate()!==+t)throw new K("SyntaxError",`La date ${t}/${r}/${e} n'est pas valide`,{dottedName:""});return`${Ma(t)}/${Ma(r)}/${Ma(e)}`}function Ei(e){const[r,t,n]=Rc(e).split("/"),a=new Date(+n,+t-1,+r);return a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),a}function c1(e){return Mc(e.getFullYear(),e.getMonth()+1,e.getDate())}var yu=c1(new Date),m1={depuis:Sr(yu),"jusqu'Ã ":Sr(yu)},v1=function(e){const r=this.evaluateNode(e.explanation.depuis),t=this.evaluateNode(e.explanation["jusqu'Ã "]);let n;if([r,t].some(({nodeValue:a})=>a===void 0))n=void 0;else{const[a,s]=[r.nodeValue,t.nodeValue].map(Ei);n=Math.max(0,Math.round((s.getTime()-a.getTime())/(1e3*60*60*24)))}return{...e,missingVariables:rr([r,t]),nodeValue:n,explanation:{depuis:r,"jusqu'Ã ":t}}},$1=(e,r)=>({explanation:Q0(m1,e,r),unit:Xr("jour"),nodeKind:"durÃ©e"});xe("durÃ©e",v1);function Lc(e,r){return{explanation:B(e,r),nodeKind:"est non dÃ©fini"}}Lc.nom="est non dÃ©fini";var f1=Er("est dÃ©fini",{valeur:{}},{"=":[{"est non dÃ©fini":"valeur"},"non"]}),d1=Er("est applicable",{valeur:{}},{"=":[{"est non applicable":"valeur"},"non"]}),p1=function(e){const r=this.evaluateNode(e.explanation);let t=!1;return r.nodeValue===void 0&&(t=!0),{...e,nodeValue:t,missingVariables:r.missingVariables,explanation:r}};xe("est non dÃ©fini",p1);function Bc(e){if(!e.unit)return e;const r=qc(e.unit);return nt(r,e)}function nt(e,r){return{...r,nodeValue:r.unit&&typeof r.nodeValue=="number"?jn(r.unit,e,r.nodeValue):r.nodeValue,unit:e}}var La=({style:e,maximumFractionDigits:r=2,minimumFractionDigits:t=0,language:n})=>a=>{const s=e==="currency"&&r>=2&&t===0&&!Number.isInteger(a)?2:t;return Intl.NumberFormat(n,{style:e,currency:"EUR",maximumFractionDigits:r,minimumFractionDigits:s}).format(a)};function b1({maximumFractionDigits:e,minimumFractionDigits:r,language:t,formatUnit:n,unit:a,nodeValue:s}){if(typeof s!="number")return s;const o=a?or(a,s,n):void 0;switch(o){case"â¬":return La({style:"currency",maximumFractionDigits:e,minimumFractionDigits:r,language:t})(s);case"%":return La({style:"percent",maximumFractionDigits:e,language:t})(s/100);default:return La({style:"decimal",minimumFractionDigits:r,maximumFractionDigits:e,language:t})(s)+(typeof o=="string"?`Â ${o}`:"")}}function h1(e){return e&&e[0].toUpperCase()+e.slice(1)}var g1={fr:{true:"oui",false:"non"},en:{true:"yes",false:"no"}};function _1(e,{language:r="fr",displayedUnit:t,formatUnit:n,precision:a=2}={}){let s=typeof e=="number"||typeof e>"u"||e===null?e:e.nodeValue;if(typeof s=="number"&&Number.isNaN(s))return"Erreur dans le calcul du nombre";if(s===void 0)return"Pas encore dÃ©fini";if(s===null)return"Non applicable";if(typeof s=="string")return s.replace("\\n",`
`);if(typeof s=="object")return s.nom;if(typeof s=="boolean")return g1[r][s];if(typeof s=="number"){let o=typeof e=="number"||typeof e>"u"||!("unit"in e)?void 0:e.unit;if(o){const u=Bc({unit:o,nodeValue:s});o=u.unit,s=u.nodeValue}return b1({minimumFractionDigits:0,maximumFractionDigits:a,language:r,formatUnit:n,nodeValue:s,unit:t??o}).trim()}}var y1={};E0(y1,{contextNameToDottedName:()=>xi,cyclicDependencies:()=>O1,decodeRuleName:()=>N1,disambiguateReference:()=>Hc,disambiguateReferenceNode:()=>wi,encodeRuleName:()=>D1,findCommonAncestor:()=>Uc,getChildrenRules:()=>I1,isAccessible:()=>Oa,isExperimental:()=>Ci,nameLeaf:()=>zc,ruleParent:()=>Jc,ruleParents:()=>Dn,ruleWithDedicatedDocumentationPage:()=>q1,updateReferencesMapsFromReferenceNode:()=>ks});function Bt(e,r){return e!=null&&Object.prototype.hasOwnProperty.call(e,r)}function ku(e){return function(...r){return e}}var k1="\0",Eu="",xu=(e,r)=>{e[r]?e[r]++:e[r]=1},Cu=(e,r)=>{--e[r]||delete e[r]},Kt=(e,r,t,n)=>{let a=""+r,s=""+t;if(!e&&a>s){const o=a;a=s,s=o}return a+Eu+s+Eu+(n===void 0?k1:n)},E1=(e,r,t,n)=>{let a=""+r,s=""+t;if(!e&&a>s){const u=a;a=s,s=u}const o={v:a,w:s};return n&&(o.name=n),o},Ba=(e,r)=>Kt(e,r.v,r.w,r.name),x1=class{constructor(e={}){fe(this,"_nodeCount",0);fe(this,"_edgeCount",0);fe(this,"_isDirected");fe(this,"_label");fe(this,"_defaultNodeLabelFn");fe(this,"_defaultEdgeLabelFn");fe(this,"_nodes");fe(this,"_in");fe(this,"_preds");fe(this,"_out");fe(this,"_sucs");fe(this,"_edgeObjs");fe(this,"_edgeLabels");this._isDirected=Bt(e,"directed")?e.directed:!0,this._label=void 0,this._defaultNodeLabelFn=ku(void 0),this._defaultEdgeLabelFn=ku(void 0),this._nodes={},this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}setGraph(e){return this._label=e,this}graph(){return this._label}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}setNode(e,r=void 0){return Bt(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}setNodes(e,r){return e.forEach(t=>{r!==void 0?this.setNode(t,r):this.setNode(t)}),this}node(e){return this._nodes[e]}hasNode(e){return Bt(this._nodes,e)}successors(e){const r=this._sucs[e];if(r)return Object.keys(r)}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setEdge(e,r,t=void 0,n=void 0){e=""+e,r=""+r;const a=Kt(this._isDirected,e,r,n);if(Bt(this._edgeLabels,a))return t!==void 0&&(this._edgeLabels[a]=t),this;this.setNode(e),this.setNode(r),this._edgeLabels[a]=t!==void 0?t:this._defaultEdgeLabelFn(e,r,n);const s=E1(this._isDirected,e,r,n);return e=s.v,r=s.w,Object.freeze(s),this._edgeObjs[a]=s,xu(this._preds[r],e),xu(this._sucs[e],r),this._in[r][a]=s,this._out[e][a]=s,this._edgeCount++,this}edge(e,r,t){const n=arguments.length===1?Ba(this._isDirected,arguments[0]):Kt(this._isDirected,e,r,t);return this._edgeLabels[n]}hasEdge(e,r,t){const n=arguments.length===1?Ba(this._isDirected,arguments[0]):Kt(this._isDirected,e,r,t);return Bt(this._edgeLabels,n)}removeEdge(e,r,t){const n=arguments.length===1?Ba(this._isDirected,arguments[0]):Kt(this._isDirected,e,r,t),a=this._edgeObjs[n];return a&&(e=a.v,r=a.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Cu(this._preds[r],e),Cu(this._sucs[e],r),delete this._in[r][n],delete this._out[e][n],this._edgeCount--),this}outEdges(e,r=void 0){const t=this._out[e];if(t){const n=Object.values(t);return r===void 0?n:n.filter(function(a){return a.w===r})}}};function C1(e){let r=0;const t=[],n={},a=[];function s(o){const u=n[o]={onStack:!0,lowlink:r,index:r++};if(t.push(o),e.successors(o).forEach(function(m){Object.prototype.hasOwnProperty.call(n,m)?n[m].onStack&&(u.lowlink=Math.min(u.lowlink,n[m].index)):(s(m),u.lowlink=Math.min(u.lowlink,n[m].lowlink))}),u.lowlink===u.index){const m=[];let l;do l=t.pop(),n[l].onStack=!1,m.push(l);while(o!==l);a.push(m)}}return e.nodes().forEach(function(o){Object.prototype.hasOwnProperty.call(n,o)||s(o)}),a}function w1(e){return C1(e).filter(function(r){return r.length>1||r.length===1&&e.hasEdge(r[0],r[0])})}function S1(e){const r=new x1;return[...e.entries()].forEach(([t,n])=>{n.forEach(a=>{r.setEdge(t,a)})}),r}function V1(e,r){function*t(s){let o=s;for(;;)yield r[o++%r.length]}const n=[];for(let s=0;s<r.length;s++){const o=[];let u;for(const m of t(s))if(u===void 0)o.push(m),u=m;else if(e.get(u)?.has(m)){if(o.includes(m)){o.splice(0,o.lastIndexOf(m));break}o.push(m),u=m}n.push(o)}return n.reduce((s,o)=>o.length>s.length?s:o)}function O1(e){const{referencesMaps:r}=Xn(e),t=S1(r.referencesIn),a=w1(t).map(u=>u.reverse()),s=a.map(u=>V1(r.referencesIn,u)),o=a.map((u,m)=>j1(t,u,s[m]));return[s,o]}var A1=(e,r,t)=>{for(let n=0;n<e.length+1;n++)if(r===e[n]&&t===e[(n+1)%e.length])return!0;return!1};function j1(e,r,t){const n=new Set;return r.forEach(a=>{e.outEdges(a).filter(({w:s})=>r.includes(s)).forEach(({v:s,w:o})=>{n.add(`"${s}" -> "${o}"`+(A1(t,s,o)?" [color=red]":""))})}),`digraph Cycle {
	${[...n].join(`;
	`)};
}`}var ct=e=>e.split(" . "),ys=e=>e.join(" . "),zc=e=>ct(e).slice(-1)?.[0],D1=e=>e?.replace(/\s\.\s/g,"/").replace(/-/g,"â").replace(/\s/g,"-"),N1=e=>e.replace(/\//g," . ").replace(/-/g," ").replace(/\u2011/g,"-"),xi=e=>e.endsWith("$SITUATION")?Jc(e):e,Jc=e=>ys(ct(e).slice(0,-1));function Dn(e){return ct(e).slice(0,-1).map((r,t,n)=>ys(n.slice(0,t+1))).reverse()}var I1=(e,r)=>Object.keys(e).filter(n=>n.startsWith(r)&&ct(n).length===ct(r).length+1);function Uc(e,r){const t=ct(e),n=ct(r),a=t.findIndex((s,o)=>n[o]!==s);return a===-1?e:ys(t.slice(0,a))}function Oa(e,r,t){if(!(t in e))throw new K("InternalError",`La rÃ¨gle "${t}" n'existe pas`,{dottedName:t});const n=Uc(r,t),a=[t,...Dn(t),""];return a.slice(0,Math.max(a.indexOf(n)-1,0)).every(o=>!(o in e)||e[o].private===!1)}function Ci(e,r){if(!(r in e))throw new K("InternalError",`La rÃ¨gle "${r}" n'existe pas`,{dottedName:r});return[r,...Dn(r)].some(n=>n in e&&e[n].rawNode?.experimental==="oui")}function Hc(e,r="",t){const a=[r,...Dn(r),""].map(o=>o?o+" . "+t:t).sort((o,u)=>o===r?1:u===r?-1:0).filter(o=>o in e),s=a.find(o=>Oa(e,r,o));if(!a.length)throw new K("SyntaxError",`La rÃ©fÃ©rence "${t}" est introuvable.
VÃ©rifiez que l'orthographe et l'espace de nom sont corrects`,{dottedName:xi(r)});if(!s)throw new K("SyntaxError",`La rÃ¨gle "${a[0]}" n'est pas accessible depuis "${r}".
Cela vient du fait qu'elle est privÃ©e ou qu'un de ses parent est privÃ©`,{dottedName:xi(r)});return s}function q1(e){return e.virtualRule!==!0&&e.type!=="groupe"&&e.type!=="texte"&&e.type!=="paragraphe"&&e.type!=="notification"}function ks(e,r,t){e.nodeKind==="reference"&&($u(r.referencesIn,t??e.contextDottedName,e.dottedName),$u(r.rulesThatUse,e.dottedName,t??e.contextDottedName))}function wi(e,r){if(e.nodeKind==="reference")return e.dottedName||(e.dottedName=Hc(r,e.contextDottedName,e.name),e.title=r[e.dottedName].title,e.acronym=r[e.dottedName].rawNode.acronyme),e}var P1=0,Rn={};function Wc(e,r){return e?(Array.isArray(e)?e:[e]).map(t=>{typeof t=="string"&&(t={rÃ¨gle:t});const n=B(t.rÃ¨gle,r),a=B(t.par??r.dottedName,r),[s,o]=[t.dans??[],t["sauf dans"]??[]].map(u=>Array.isArray(u)?u:[u]).map(u=>u.map(m=>B(m,r)));return{nodeKind:"replacementRule",rawNode:t,definitionRule:B(r.dottedName,r),replacedReference:n,replacementNode:a,whiteListedNames:s,blackListedNames:o,remplacementRuleId:P1++}}):[]}function F1(e,r){return Wc(e,r).map(t=>({...t,replacementNode:Kr}))}function T1(e){const r={};for(const t in e){const n=e[t];for(const a of n.replacements){if(!a.replacedReference.dottedName)throw new An(a);const s=a.replacedReference.dottedName;r[s]=[...r[s]??[],a]}}return r}function R1({newRules:e,previousReplacements:r,parsedRules:t,referencesMaps:n,logger:a}){const s=T1(e),o=new Set([]);for(const c in s){const p=n.rulesThatUse.get(c)??[];for(const f of p)o.add(f)}const u=new Set(Object.keys(e).filter(c=>[...n.referencesIn.get(c)??new Set].some(p=>(r[p]??[]).length))),m=V0(r,s);if(!u.size&&!o.size)return[t,m];const l=wu(r,n),v=wu(s,n);return u.forEach(c=>{t[c]=l(t[c])}),o.forEach(c=>{t[c]=v(t[c])}),[t,m]}function wu(e,r,t){return ba((n,a)=>{if(n.nodeKind==="replacementRule"||n.nodeKind==="inversion"||n.nodeKind==="une possibilitÃ©")return!1;if(n.nodeKind==="recalcul")return{...n,explanation:{...n.explanation,recalculNode:a(n.explanation.recalculNode),amendedSituation:n.explanation.amendedSituation.map(([s,o])=>[s,a(o)])}};if(n.nodeKind==="reference"){if(!n.dottedName)throw new An(n);const s=M1(n,e[n.dottedName]??[]);return wc(o=>(ks(o,r,n.contextDottedName),"continue"))(s),s}})}function M1(e,r,t){const n=r.filter(({definitionRule:s})=>s.dottedName!==e.contextDottedName).filter(({whiteListedNames:s})=>!s.length||s.some(o=>e.contextDottedName.startsWith(o.dottedName))).filter(({blackListedNames:s})=>!s.length||s.every(o=>!e.contextDottedName.startsWith(o.dottedName))).sort((s,o)=>{const u=+!!o.whiteListedNames.length-+!!s.whiteListedNames.length,m=+!!o.blackListedNames.length-+!!s.blackListedNames.length;return u||m});if(!n.length)return e;n.length>1;const a=n.map(s=>s.remplacementRuleId).join("-");return Rn[a]??(Rn[a]={nodeKind:"variations",sourceMap:{mecanismName:"replacement"},rawNode:e.rawNode,explanation:[...n.map(s=>({condition:s.definitionRule,consequence:s.replacementNode})),{condition:Sr(!0),consequence:e}]}),Rn[a]}function L1(e,r){const t=!!(e.privÃ©==="oui"||e.nom.startsWith("[privÃ©] ")),n=e.nom.replace(/^\[privÃ©\] /,""),a=[r.dottedName,n].filter(Boolean).join(" . "),s=zc(a),o=h1(e.titre??s);if(r.parsedRules[a])throw new K("EvaluationError",`La rÃ©fÃ©rence '${a}' a dÃ©jÃ  Ã©tÃ© dÃ©finie`,{dottedName:a});const u={};for(const c in e)R_.includes(c)&&(u[c]=e[c]);"formule"in e&&(u.valeur=e.formule),!t&&!a.endsWith("$SITUATION")&&(u["dans la situation"]=`${a} . $SITUATION`,u.avec={...u.avec??{},"[privÃ©] $SITUATION":{...Vc,isNullable:e["possiblement non applicable"]==="oui"}},u["par dÃ©faut"]!=null&&(u["par dÃ©faut"]={valeur:u["par dÃ©faut"],"variable manquante":a}));const m={...r,dottedName:a};r.parsedRules[a]=void 0;const l={valeur:B(u,m),parents:Dn(a).map(c=>B(c,m)).map(c=>(c.dottedName=c.name,c))},v={};if(e.suggestions)for(const c in e.suggestions)v[c]=B(e.suggestions[c],m);return r.parsedRules[a]={dottedName:a,replacements:[...F1(e["rend non applicable"],m),...Wc(e.remplace,m)],title:o,private:t,suggestions:v,nodeKind:"rule",explanation:l,rawNode:e,virtualRule:!!r.dottedName},r.dottedName?B(n,r):r.parsedRules[a]}xe("rule",function(r){const{ruleDisabledByItsParent:t,nullableParent:n,parentMissingVariables:a}=Kc(this,r);let s={...r.explanation.valeur,nodeValue:null,missingVariables:{}};return t||(this.cache._meta.evaluationRuleStack.filter(u=>u===r.dottedName).length>1?s={nodeValue:void 0}:(this.cache._meta.evaluationRuleStack.unshift(r.dottedName),s=this.evaluateNode(r.explanation.valeur),this.cache._meta.evaluationRuleStack.shift())),s.missingVariables??(s.missingVariables={}),B1(this,r,s),{...s,missingVariables:lt(s.missingVariables,a),...r,explanation:{parents:r.explanation.parents,valeur:s,nullableParent:n,ruleDisabledByItsParent:t}}});function B1(e,r,t){r.private===!0||!Oa(e.context.parsedRules,"",r.dottedName)||t.nodeValue===void 0&&!Object.keys(t.missingVariables).length&&(t.missingVariables[r.dottedName]=1)}function Kc(e,r){if(r.private)return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};const t=e.context.nodesTypes,n=r.explanation.parents.find(s=>t.get(s)?.isNullable||t.get(s)?.type==="boolean");if(!n)return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};if(!e.cache._meta.parentRuleStack.includes(r.dottedName)){e.cache._meta.parentRuleStack.unshift(r.dottedName);let s=Sr(!1);if(t.get(n)?.isNullable&&(s=e.evaluateNode({nodeKind:"est non applicable",explanation:n})),s.nodeValue!==!0&&t.get(n)?.type==="boolean"&&(s=e.evaluateNode({nodeKind:"operation",operator:"=",operationKind:"=",explanation:[n,Sr(!1)]})),e.cache._meta.parentRuleStack.shift(),s.nodeValue===!0)return{ruleDisabledByItsParent:!0,parentMissingVariables:s.missingVariables??{},nullableParent:n}}let a={};if(t.get(n)?.type==="boolean"){const s=e.evaluateNode(n);return a=s.missingVariables??{},{ruleDisabledByItsParent:s.nodeValue===!1,parentMissingVariables:a,nullableParent:n}}return{ruleDisabledByItsParent:!1,parentMissingVariables:a,nullableParent:n}}function Gc(e,r){return{explanation:B(e,r),nodeKind:"est non applicable"}}Gc.nom="est non applicable";var Mn=e=>({nodeKind:"est non applicable",explanation:e}),z1=function(e){const r=e.explanation;if(this.context.nodesTypes.get(r)?.isNullable===!1&&r.nodeKind!=="rule")return{...e,nodeValue:!1,missingVariables:{}};if(this.cache.nodes.has(r)&&this.cache.nodes.get(r)!==void 0)return{...e,nodeValue:this.cache.nodes.get(r)?.nodeValue===null,missingVariables:this.cache.nodes.get(r)?.missingVariables??{}};switch(r.nodeKind){case"rule":const{ruleDisabledByItsParent:n,parentMissingVariables:a}=Kc(this,r);if(n)return{...e,nodeValue:!0,missingVariables:a};const s=this.evaluateNode(Mn(r.explanation.valeur)),o=lt(a,s.missingVariables);return s.nodeValue===!1&&this.context.nodesTypes.get(this.context.parsedRules[`${r.dottedName} . $SITUATION`])?.isNullable&&!Object.keys(s.missingVariables).length&&(o[r.dottedName]=1),{...e,nodeValue:s.nodeValue,missingVariables:o};case"reference":if(!r.dottedName)throw new K("InternalError","Missing dottedName",{});return{...this.evaluateNode(Mn(this.context.parsedRules[r.dottedName])),...e};case"condition":return{...this.evaluateNode({...r,explanation:{si:r.explanation.si,alors:Mn(r.explanation.alors),sinon:Mn(r.explanation.sinon)}}),...e}}const t=this.evaluateNode(r);return{...e,nodeValue:t.nodeValue===void 0?void 0:t.nodeValue===null,missingVariables:t.missingVariables}};xe("est non applicable",z1);function J1(e,r){return{explanation:{assiette:B(e.assiette,r),multiplicateur:e.multiplicateur?B(e.multiplicateur,r):Sr(1),tranches:gs(e.tranches,r)},nodeKind:"grille"}}var U1=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Le multiplicateur ne peut pas Ãªtre nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});const a=_s.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}).map(m=>{if(m.isActive===!1)return m;const l=r(m.montant);return{...m,montant:l,nodeValue:l.nodeValue,unit:l.unit,missingVariables:rr([l,m])}});let s;const o=a.find(m=>m.isActive);o?s=[o]:a[a.length-1].isAfterActive===!1?s=[{nodeValue:!1}]:s=a.filter(m=>m.isActive===void 0);const u=s[0]?s[0].isActive===void 0?void 0:s[0].nodeValue:!1;return{...e,nodeValue:u,missingVariables:rr([t,n,...s]),explanation:{...e.explanation,assiette:t,multiplicateur:n,tranches:a},unit:s[0]?.unit??void 0}};xe("grille",U1);function Yc(e,r,t,n=0,a=100,s=0){let o=r,u=t,m=o,l=e(o),v=e(u),c=l,p,f,_,h,E,x;for(;a-- >0;){if(_=u-o,Math.abs(c)<Math.abs(v)&&(o=u,u=m,m=o,l=v,v=c,c=l),p=1e-15*Math.abs(u)+n/2,f=(m-u)/2,Math.abs(f)<=p||v===0)return u;if(Math.abs(_)>=p&&Math.abs(l)>Math.abs(v)){let d,O;const C=m-u;o===m?(d=v/l,h=C*d,E=1-d):(E=l/c,d=v/c,O=v/l,h=O*(C*E*(E-d)-(u-o)*(d-1)),E=(E-1)*(d-1)*(O-1)),h>0?E=-E:h=-h,h<.75*C*E-Math.abs(p*E)/2&&h<Math.abs(_*E/2)&&(f=h/E)}if(Math.abs(f)<p&&(f=f>0?p:-p),o=u,l=v,u+=f,v=e(u),(v>0&&c>0||v<0&&c<0)&&(m=o,c=l),Math.abs(v)<n)return u;Math.abs(v)<s&&(x=u)}return x}var H1=function(e){const r=this.shallowCopy();if(this.cache._meta.evaluationRuleStack.slice(1).includes(e.explanation.ruleToInverse))return{...ha,...e};r.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],r.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const t=e.explanation.inversionCandidates.find(x=>{if(this.cache._meta.evaluationRuleStack.includes(x.dottedName))return!1;const d=r.evaluateNode(r.context.parsedRules[`${x.dottedName} . $SITUATION`]);return typeof d.nodeValue=="number"&&!(x.dottedName in d.missingVariables)});if(t===void 0)return{...e,nodeValue:void 0,missingVariables:{...Object.fromEntries(e.explanation.inversionCandidates.map(x=>[x.dottedName,1])),[e.explanation.ruleToInverse]:1}};const n=r.evaluateNode(t);let a=0;r.setSituation({[t.dottedName]:ha},{keepPreviousSituation:!0});let s;const o=x=>(a++,r.setSituation({[e.explanation.ruleToInverse]:{nodeValue:x,nodeKind:"constant",type:"number",unit:n.unit}},{keepPreviousSituation:!0}),s=r.evaluateNode(t),s),u=n.nodeValue;let m;const l=u,c=o(l).nodeValue,p=c>u?.9:1.2,f=c!==void 0?l*u*p/c:2e3,h=o(f).nodeValue,E=this.context.inversionMaxIterations??10;if(c!==void 0||h!==void 0){const x=X=>(X===l?c:X===f?h:o(X).nodeValue)-u,C=h!==void 0&&h<u&&(h>c||c>u)?f:c!==void 0&&c<u&&(c>h||h>u)?l:-1e6,S=h!==void 0&&h>u&&(h<c||c<u)?f:c!==void 0&&c>u&&(c<h||h<u)?l:1e8;m=Yc(x,C,S,.1,E,1)}return m==null&&(this.cache.inversionFail=!0),(s.traversedVariables??[]).forEach(x=>this.cache._meta.traversedVariablesStack[0].add(x)),{...e,nodeValue:m,unit:n.unit,explanation:{...e.explanation,inversionGoal:t,numberOfIteration:a},missingVariables:s.missingVariables}},W1=(e,r)=>{if(!e.avec)throw new K("SyntaxError","Une formule d'inversion doit prÃ©ciser _avec_ quoi on peut inverser la variable",{dottedName:r.dottedName});return{explanation:{ruleToInverse:r.dottedName,inversionCandidates:e.avec.map(t=>({...B(t,r)}))},nodeKind:"inversion"}};xe("inversion",H1);var K1=Lt("le maximum de",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{">":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privÃ©] $INTERNAL valeur":t,"[privÃ©] $INTERNAL acc":r}}),Kr)),G1=Lt("le minimum de",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{"<":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privÃ©] $INTERNAL valeur":t,"[privÃ©] $INTERNAL acc":r}}),Kr));function Si(e){return e.reverse().reduce((r,t)=>({"+":[t,r]}),Kr)}var Y1=Lt("somme",{valeur:{type:"liste"}},({valeur:e})=>Si([...e])),Q1=Lt("moyenne",{valeur:{type:"liste"}},({valeur:e})=>{const r=[...e];return{"/":[Si(r),Si(r.map(X1))]}});function X1(e){return{"applicable si":{"est applicable":e},valeur:1}}var Z1=Er("non applicable si",{"non applicable si":{},valeur:{}},{condition:{si:"non applicable si = non",alors:"valeur",sinon:Kr}}),e_=(e,r)=>(Array.isArray(e)&&(e={possibilitÃ©s:e}),{...e,explanation:e.possibilitÃ©s.map(t=>B(t,r)),context:r.dottedName,nodeKind:"une possibilitÃ©"});xe("une possibilitÃ©",e=>({...e,missingVariables:{[e.context]:1},nodeValue:void 0}));var Qc={"*":[(e,r)=>e*r,"Ã"],"/":[(e,r)=>e/r,"â"],"+":[(e,r)=>e+r],"-":[(e,r)=>e-r,"â"],"<":[(e,r)=>e<r],"<=":[(e,r)=>e<=r,"â¤"],">":[(e,r)=>e>r],">=":[(e,r)=>e>=r,"â¥"],"=":[(e,r)=>(e??!1)===(r??!1)],"!=":[(e,r)=>(e??!1)!==(r??!1),"â "],et:[(e,r)=>(e??!1)&&(r??!1)],ou:[(e,r)=>(e??!1)||(r??!1)]},r_=(e,r)=>(t,n)=>{const a=t.map(s=>B(s,n));return{...t,nodeKind:"operation",operationKind:e,operator:r||e,explanation:a}},t_=function(e){let r=this.evaluateNode(e.explanation[0]),t={...e,missingVariables:{}};if(r.nodeValue===null&&["<",">","<=",">=","/","*","-","et"].includes(e.operationKind)||r.nodeValue===0&&["/","*"].includes(e.operationKind)||r.nodeValue===!1&&e.operationKind==="et"||r.nodeValue===!0&&e.operationKind==="ou")return{...t,nodeValue:e.operationKind==="et"?!1:r.nodeValue,missingVariables:r.missingVariables};let n=this.evaluateNode(e.explanation[1]);if(t.explanation=[r,n],e.operationKind==="/"&&n.nodeValue===0)throw new K("EvaluationError","Division by zero",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(n.nodeValue===null&&["<",">","<=",">=","/","*","et"].includes(e.operationKind)||n.nodeValue===0&&["*"].includes(e.operationKind)||n.nodeValue===!1&&e.operationKind==="et"||n.nodeValue===!0&&e.operationKind==="ou")return{...t,nodeValue:e.operationKind==="et"?!1:n.nodeValue,missingVariables:n.missingVariables};t.missingVariables=rr([r,n]),(r.nodeValue===void 0||n.nodeValue===void 0)&&(t={...t,nodeValue:void 0});const a=["+","-"].includes(e.operationKind)&&or(n.unit)==="%"&&or(r.unit)!=="%";if(!("nodeValue"in t)&&!["/","*"].includes(e.operationKind)&&!a)try{r.unit&&"unit"in n?n=nt(r.unit,n):n.unit&&(r=nt(n.unit,r))}catch(m){wa(this.context.logger,`Dans l'expression '${e.operationKind}', la partie gauche (unitÃ©: ${or(r.unit)}) n'est pas compatible avec la partie droite (unitÃ©: ${or(n.unit)})`,{dottedName:this.cache._meta.evaluationRuleStack[0]},m)}const s=Qc[e.operationKind][0],o=r.nodeValue,u=n.nodeValue;if(t.nodeValue="nodeValue"in t?t.nodeValue:["<",">","<=",">=","*","/"].includes(e.operationKind)&&n.nodeValue===null?null:[o,u].every(m=>typeof m=="string"&&m.match?.(/^[\d]{2}\/[\d]{2}\/[\d]{4}$/))?s(Ei(o),Ei(u)):s(o,u),e.operationKind==="*"&&jr("*",[r.unit,n.unit])?.numerators.includes("%")){let m=jr("*",[r.unit,n.unit]);const l=t.nodeValue;return{...t,nodeValue:typeof l=="number"?l/100:l,unit:jr("*",[m,{numerators:[],denominators:["%"]}])}}if(a){let m=jr("*",[r.unit,n.unit]);return{...t,nodeValue:typeof r.nodeValue=="number"&&typeof n.nodeValue=="number"?r.nodeValue*(1+n.nodeValue/100*(e.operationKind==="-"?-1:1)):t.nodeValue,unit:jr("*",[m,{numerators:[],denominators:["%"]}])}}return e.operationKind==="*"||e.operationKind==="/"||e.operationKind==="-"||e.operationKind==="+"?{...t,unit:jr(e.operationKind,[r.unit,n.unit])}:t};xe("operation",t_);var n_=Object.fromEntries(Object.entries(Qc).map(([e,[r,t]])=>[e,r_(e,t)])),a_=n_,i_=Er("par dÃ©faut",{"par dÃ©faut":{},valeur:{}},{condition:{si:{"est non dÃ©fini":"valeur"},alors:"par dÃ©faut",sinon:"valeur"}}),s_=Er("plafond",{plafond:{},valeur:{}},{condition:{si:{et:["plafond != non","valeur > plafond"]},alors:"plafond",sinon:"valeur"}}),o_=Er("plancher",{plancher:{},valeur:{}},{condition:{si:{et:["plancher != non","valeur < plancher"]},alors:"plancher",sinon:"valeur"}}),Su=Er("produit",{assiette:{},taux:{"par dÃ©faut":"100%"},facteur:{"par dÃ©faut":1},plafond:{"par dÃ©faut":Kr}},{"*":[{"*":["taux","facteur"]},{valeur:"assiette",plafond:"plafond"}],"simplifier l'unitÃ©":"oui"}),u_=function(e){if(this.cache._meta.currentRecalcul===e.explanation.recalculNode)return{...Kr,...e};const r=Object.fromEntries(e.explanation.amendedSituation.filter(([a,s])=>{const o=this.evaluateNode(a),u=this.evaluateNode(s);return o.nodeValue!==u.nodeValue||or(o.unit)!==or(u.unit)}).map(([a,s])=>[a.dottedName,s]));let t=this;Object.keys(r).length&&(t=this.shallowCopy().setSituation(r,{keepPreviousSituation:!0}),t.subEngineId=this.subEngines.length,Object.values(r).forEach(a=>t.cache.nodes.set(a,this.evaluate(a))),this.subEngines.push(t)),t.cache._meta.currentRecalcul=e.explanation.recalculNode;const n=t.evaluateNode(e.explanation.recalculNode);return delete t.cache._meta.currentRecalcul,{...e,nodeValue:n.nodeValue,explanation:{...e.explanation,recalcul:n,subEngineId:t.subEngineId},missingVariables:n.missingVariables,..."unit"in n&&{unit:n.unit}}},l_=(e,r)=>{const t=Object.keys(e.avec).map(a=>[B(a,r),B(e.avec[a],r)]);return{explanation:{recalculNode:B(e.rÃ¨gle??r.dottedName,r),amendedSituation:t},nodeKind:"recalcul"}};xe("recalcul",u_);var c_=function(e){if(this.cache._meta.evaluationRuleStack.slice(1).includes(e.explanation.ruleToSolve))return{...ha,...e};let r=0;const t=this.shallowCopy();t.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],t.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const n=this.context.inversionMaxIterations??25,a=c=>(r++,t.setSituation({[e.explanation.ruleToSolve]:{...ha,nodeValue:c}},{keepPreviousSituation:!0}),t.evaluateNode(e.explanation.valeur)),s=Symbol("inversion failed");let o=s;const u=1;let m=a(u);const l=m.nodeValue,v=m.unit;return l!==void 0&&(o=Yc(_=>_===u?l-u:(m=a(_),m.nodeValue-_),-1e6,1e8,.5,n,2)),o===s&&(o=void 0,this.cache.inversionFail=!0),o!==void 0&&(m=a(o)),{...e,unit:v,nodeValue:o,explanation:{...e.explanation,valeur:m,numberOfIterations:r},missingVariables:m.missingVariables}};function Xc(e,r){return{explanation:{ruleToSolve:r.dottedName,valeur:B(e.valeur,r)},nodeKind:"rÃ©soudre rÃ©fÃ©rence circulaire"}}Xc.nom="rÃ©soudre la rÃ©fÃ©rence circulaire";xe("rÃ©soudre rÃ©fÃ©rence circulaire",c_);function Zc(e,r){return{explanation:B(e.valeur,r),nodeKind:"simplifier unitÃ©"}}Zc.nom="simplifier l'unitÃ©";xe("simplifier unitÃ©",function(r){const t=this.evaluateNode(r.explanation),n=t.nodeValue,a={...t,...r,explanation:t};if(n==null)return a;if(!t.unit)return{...a,unit:t.unit};const s=qc(t.unit);return{...a,nodeValue:typeof n=="number"?jn(t.unit,s,n):n,unit:s}});var m_=Er("dans la situation",{valeur:{},"dans la situation":{}},{condition:{si:{"est non dÃ©fini":"dans la situation"},alors:"valeur",sinon:"dans la situation"}});function v_(e,r){return{explanation:{assiette:B(e.assiette,r),multiplicateur:e.multiplicateur?B(e.multiplicateur,r):Sr(1),tranches:gs(e.tranches,r)},nodeKind:"taux progressif"}}var $_=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Division by zero",{dottedName:""});const a=_s.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}),s={...e,explanation:{tranches:a,assiette:t,multiplicateur:n},unit:Xr("%")},o=a[a.length-1];if(a.every(({isActive:d})=>d===!1)||o.isActive&&o.plafond.nodeValue===1/0){const d=nt(Xr("%"),r(o.taux)),{nodeValue:O,missingVariables:C}=d;return o.taux=d,o.nodeValue=O,o.missingVariables=C,{...s,nodeValue:O,missingVariables:C}}if(a.every(({isActive:d})=>d!==!0)||typeof t.nodeValue!="number")return{...s,nodeValue:void 0,missingVariables:rr(a)};const u=a.findIndex(({isActive:d})=>d===!0),m=a[u];m.taux=nt(Xr("%"),r(m.taux));const l=a[u-1];l&&(l.taux=nt(Xr("%"),r(l.taux)),l.isActive=!0);const v=l?l.taux:m.taux,c=[v,m.taux];if(c.some(d=>d.nodeValue===void 0))return m.nodeValue=void 0,{...s,nodeValue:void 0,missingVariables:rr(c)};const p=v.nodeValue,f=m.taux.nodeValue,_=m.plancherValue,h=m.plafondValue,E=(f-p)/(h-_),x=p+(t.nodeValue-_)*E;return m.nodeValue=x,{...s,nodeValue:x,missingVariables:{}}};xe("taux progressif",$_);var Es="texte";function Vi(e,r){const t=[];let n=0;for(const{0:a,index:s}of e.matchAll(/{{(.|\n)*?}}/g)){const o=a.slice(2,-2).trim(),u=B(o,r);t.push(e.substring(n,s),u),n=(s??0)+a.length}return t.push(e.slice(n)),{nodeKind:Es,explanation:t}}Vi.nom=Es;xe(Es,function(r){const t=r.explanation.map(n=>typeof n=="string"?n:this.evaluateNode(n));return{...r,explanation:t,missingVariables:rr(r.explanation.filter(n=>typeof n!="string")),nodeValue:t.map(n=>typeof n=="string"?n:_1(n)).join("")}});var f_=Lt("toutes ces conditions",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({et:[r,t]}),"oui")),d_=Lt("une de ces conditions",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({ou:[r,t]}),"non"));function Aa(e,r){const t=B(e.valeur,r),n=Xr(e.unitÃ©,r.getUnitKey);return{explanation:t,unit:n,nodeKind:Aa.nom}}Aa.nom="unitÃ©";xe(Aa.nom,function(r){const t=this.evaluateNode(r.explanation);let n=t.nodeValue;if(n!==null&&"unit"in r)try{n=jn(t.unit,r.unit,t.nodeValue)}catch(a){wa(this.context.logger,"Erreur lors de la conversion d'unitÃ© explicite",{dottedName:this.cache._meta.evaluationRuleStack[0]},a)}return{...r,nodeValue:n,explanation:t,missingVariables:t.missingVariables}});function ja(e,r){return{missingVariable:e["variable manquante"],nodeKind:ja.nom,explanation:B(e.valeur,r)}}ja.nom="variable manquante";xe(ja.nom,function(r){const t=this.evaluateNode(r.explanation),n=Object.values(t.missingVariables).reduce((a,s)=>a>s?a:s,0);return{...r,nodeValue:t.nodeValue,unit:t.unit,explanation:t,missingVariables:lt(t.missingVariables,{[r.missingVariable]:n+1})}});var p_=(e,r,t)=>{if(e==="valeur")return B(r,t);const{variations:n,...a}=r;return B({variations:n.map(({alors:o,sinon:u,si:m})=>{const{attributs:l,...v}=o??u;return{[o!==void 0?"alors":"sinon"]:{...l,[e]:{...a,...v}},...m!==void 0&&{si:m}}})},t)};function b_(e,r){return{explanation:e.map(({si:n,alors:a,sinon:s})=>s!==void 0?{consequence:B(s,r),condition:Sr(!0)}:{consequence:B(a,r),condition:B(n,r)}),nodeKind:"variations"}}var h_=function(e){const[r,t,n]=e.explanation.reduce(([a,s,o,u],{condition:m,consequence:l},v)=>{if(u===!0)return[a,[...s,{condition:m,consequence:l}],o,u];const c=this.evaluateNode(m),p=u===void 0?u:!u&&(c.nodeValue===void 0?void 0:c.nodeValue!==!1&&c.nodeValue!==null);if(p===!1||p===null)return[a,[...s,{condition:c,consequence:l}],o,u];let f;if(c.nodeValue!==!1&&c.nodeValue!==null&&(f=this.evaluateNode(l),o))try{f=nt(o,f)}catch(_){wa(this.context.logger,`L'unitÃ© de la branche nÂ° ${v+1} du mÃ©canisme 'variations' n'est pas compatible avec celle d'une branche prÃ©cÃ©dente`,{dottedName:this.cache._meta.evaluationRuleStack[0]},_)}return[p&&f?.nodeValue,[...s,{condition:c,consequence:f??l}],o||f?.unit,u||p]},[null,[],void 0,!1]);return{...e,nodeValue:r,...n!==void 0&&{unit:n},explanation:t,missingVariables:t.reduce((a,{condition:s,consequence:o})=>lt(a,lt(Oc(s.missingVariables),"nodeValue"in s&&s.nodeValue!==!1&&s.nodeValue!==null?o.missingVariables:{})),{})}};xe("variations",h_);var g_=Cc(C0(),1),Ln=([e,,r,,t])=>({[r.value.toLowerCase()]:[e,t]}),__=([e,,r])=>({[e]:[gt([{value:"0"}]),r]}),y_=({value:e})=>({variable:e}),Vu=([{value:e}])=>{console.log(e)},gt=([{value:e}])=>({constant:{type:"number",nodeValue:parseFloat(e)}}),k_=e=>({...gt(e),unitÃ©:e[2].value}),Ou=([{value:e}])=>({constant:{type:"date",nodeValue:Rc(e)}}),za=([{value:e}])=>({constant:{type:"boolean",nodeValue:e==="oui"}}),Au=([{value:e}])=>({constant:{type:"string",nodeValue:e.slice(1,-1)}}),E_=Cc(w0(),1);function de(e){return e[0]}var x_="(?:(?:0?[1-9]|[12][0-9]|3[01])\\/)?(?:0?[1-9]|1[012])\\/\\d{4}",C_="[a-zA-ZÃ-Å¿â¬$%]",w_="[a-zA-ZÃ-Å¿0-9',Â°]",Oi=`${C_}(?:[-']?${w_}+)*`,S_="-?(?:[1-9][0-9]+|[0-9])(?:\\.[0-9]+)?",te=E_.default.compile({"(":"(",")":")","[":"[","]":"]",comparison:[">","<",">=","<=","=","!="],date:new RegExp(x_),boolean:["oui","non"],number:new RegExp(S_),word:new RegExp(Oi),string:[/'.*'/,/".*"/],JSONObject:/{.*}/,additionSubstraction:/[\+-]/,multiplicationDivision:["*","/"],dot:" . ",".":".",space:{match:/[\s]+/,lineBreaks:!0}}),Gt=e=>({value:e.map(r=>r&&r.value).join("")}),Bn=([e,r])=>Array.isArray(r)?Gt([e,...r]):e,V_=te,O_=[{name:"main",symbols:["Comparison"],postprocess:de},{name:"main",symbols:["NumericValue"],postprocess:de},{name:"main",symbols:["Date"],postprocess:de},{name:"main",symbols:["NonNumericTerminal"],postprocess:de},{name:"main",symbols:["JSONObject"],postprocess:de},{name:"NumericValue",symbols:["AdditionSubstraction"],postprocess:de},{name:"NumericValue",symbols:["Negation"],postprocess:de},{name:"NumericTerminal",symbols:["Variable"],postprocess:de},{name:"NumericTerminal",symbols:["number"],postprocess:de},{name:"Negation",symbols:[{literal:"-"},te.has("space")?{type:"space"}:space,"Parentheses"],postprocess:__},{name:"Parentheses",symbols:[{literal:"("},te.has("space")?{type:"space"}:space,"NumericValue",te.has("space")?{type:"space"}:space,{literal:")"}],postprocess:([,,e])=>e},{name:"Parentheses",symbols:[{literal:"("},"NumericValue",{literal:")"}],postprocess:([,e])=>e},{name:"Parentheses",symbols:["NumericTerminal"],postprocess:de},{name:"Date",symbols:["Variable"],postprocess:de},{name:"Date",symbols:[te.has("date")?{type:"date"}:Ou],postprocess:Ou},{name:"Comparison",symbols:["Comparable",te.has("space")?{type:"space"}:space,te.has("comparison")?{type:"comparison"}:comparison,te.has("space")?{type:"space"}:space,"Comparable"],postprocess:Ln},{name:"Comparison",symbols:["Date",te.has("space")?{type:"space"}:space,te.has("comparison")?{type:"comparison"}:comparison,te.has("space")?{type:"space"}:space,"Date"],postprocess:Ln},{name:"Comparable$subexpression$1",symbols:["AdditionSubstraction"]},{name:"Comparable$subexpression$1",symbols:["NonNumericTerminal"]},{name:"Comparable",symbols:["Comparable$subexpression$1"],postprocess:([[e]])=>e},{name:"NonNumericTerminal",symbols:[te.has("boolean")?{type:"boolean"}:za],postprocess:za},{name:"NonNumericTerminal",symbols:[te.has("string")?{type:"string"}:Au],postprocess:Au},{name:"Variable$ebnf$1",symbols:[]},{name:"Variable$ebnf$1$subexpression$1",symbols:[te.has("dot")?{type:"dot"}:dot,"Words"],postprocess:Gt},{name:"Variable$ebnf$1",symbols:["Variable$ebnf$1","Variable$ebnf$1$subexpression$1"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Variable",symbols:["Words","Variable$ebnf$1"],postprocess:e=>y_(Bn(e))},{name:"Words$ebnf$1$subexpression$1$ebnf$1",symbols:[te.has("space")?{type:"space"}:space],postprocess:de},{name:"Words$ebnf$1$subexpression$1$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Words$ebnf$1$subexpression$1",symbols:["Words$ebnf$1$subexpression$1$ebnf$1","WordOrNumber"],postprocess:Gt},{name:"Words$ebnf$1",symbols:["Words$ebnf$1$subexpression$1"]},{name:"Words$ebnf$1$subexpression$2$ebnf$1",symbols:[te.has("space")?{type:"space"}:space],postprocess:de},{name:"Words$ebnf$1$subexpression$2$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Words$ebnf$1$subexpression$2",symbols:["Words$ebnf$1$subexpression$2$ebnf$1","WordOrNumber"],postprocess:Gt},{name:"Words$ebnf$1",symbols:["Words$ebnf$1","Words$ebnf$1$subexpression$2"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Words",symbols:["WordOrKeyword","Words$ebnf$1"],postprocess:Bn},{name:"Words",symbols:[te.has("word")?{type:"word"}:Oi],postprocess:de},{name:"WordOrKeyword",symbols:[te.has("word")?{type:"word"}:Oi],postprocess:de},{name:"WordOrKeyword",symbols:[te.has("boolean")?{type:"boolean"}:za],postprocess:de},{name:"WordOrNumber",symbols:["WordOrKeyword"],postprocess:de},{name:"WordOrNumber",symbols:[te.has("number")?{type:"number"}:gt],postprocess:de},{name:"UnitDenominator$ebnf$1$subexpression$1",symbols:[te.has("space")?{type:"space"}:space]},{name:"UnitDenominator$ebnf$1",symbols:["UnitDenominator$ebnf$1$subexpression$1"],postprocess:de},{name:"UnitDenominator$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"UnitDenominator",symbols:["UnitDenominator$ebnf$1",{literal:"/"},"Words"],postprocess:Gt},{name:"UnitNumerator$ebnf$1$subexpression$1",symbols:[{literal:"."},"Words"]},{name:"UnitNumerator$ebnf$1",symbols:["UnitNumerator$ebnf$1$subexpression$1"],postprocess:de},{name:"UnitNumerator$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"UnitNumerator",symbols:["Words","UnitNumerator$ebnf$1"],postprocess:Bn},{name:"Unit$ebnf$1",symbols:["UnitNumerator"],postprocess:de},{name:"Unit$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Unit$ebnf$2",symbols:[]},{name:"Unit$ebnf$2",symbols:["Unit$ebnf$2","UnitDenominator"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Unit",symbols:["Unit$ebnf$1","Unit$ebnf$2"],postprocess:Bn},{name:"AdditionSubstraction",symbols:["AdditionSubstraction",te.has("space")?{type:"space"}:space,te.has("additionSubstraction")?{type:"additionSubstraction"}:additionSubstraction,te.has("space")?{type:"space"}:space,"MultiplicationDivision"],postprocess:Ln},{name:"AdditionSubstraction",symbols:["MultiplicationDivision"],postprocess:de},{name:"MultiplicationDivision",symbols:["MultiplicationDivision",te.has("space")?{type:"space"}:space,te.has("multiplicationDivision")?{type:"multiplicationDivision"}:multiplicationDivision,te.has("space")?{type:"space"}:space,"Parentheses"],postprocess:Ln},{name:"MultiplicationDivision",symbols:["Parentheses"],postprocess:de},{name:"number",symbols:[te.has("number")?{type:"number"}:gt],postprocess:gt},{name:"number$ebnf$1$subexpression$1",symbols:[te.has("space")?{type:"space"}:space]},{name:"number$ebnf$1",symbols:["number$ebnf$1$subexpression$1"],postprocess:de},{name:"number$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"number",symbols:[te.has("number")?{type:"number"}:gt,"number$ebnf$1","Unit"],postprocess:k_},{name:"JSONObject",symbols:[te.has("JSONObject")?{type:"JSONObject"}:Vu],postprocess:Vu}],A_="main",j_={Lexer:V_,ParserRules:O_,ParserStart:A_},{Grammar:D_,Parser:N_}=g_.default,I_=D_.fromCompiled(j_),Ai=new N_(I_),q_=Ai.save();function P_(e,r){const t=(e+"").replace(/\s*\n\s*/g," ").trim();try{Ai.restore(q_);const[n]=Ai.feed(t).results;if(n==null)throw new K("InternalError",`
Un problÃ¨me est survenu lors du parsing de l'expression \`${t}\` :

	le parseur Nearley n'a pas rÃ©ussi Ã  parser l'expression.
`,{dottedName:r});return n}catch(n){throw n instanceof K?n:new K("SyntaxError",`\`${t}\` n'est pas une expression valide`,{dottedName:r},n)}}function F_(e,r){if(!r.dottedName)throw new An({message:"Une rÃ©fÃ©rence ne peut pas exister en dehors d'une rÃ¨gle (`context.dottedName` est vide)",context:r});return{nodeKind:"reference",name:e,contextDottedName:r.dottedName}}xe("reference",function(r){if(!r.dottedName)throw new An(r);const t=this.evaluateNode(this.context.parsedRules[r.dottedName]);return delete t.sourceMap,{...t,...r}});function B(e,r){if(e==null)throw new K("SyntaxError",`
	Une des valeurs de la formule est vide.
	VÃ©rifiez que tous les champs Ã  droite des deux points sont remplis`,{dottedName:r.dottedName});if(typeof e=="boolean")throw new K("SyntaxError",`
Les valeurs boolÃ©ennes true / false ne sont acceptÃ©es.
Utilisez leur contrepartie franÃ§aise : 'oui' / 'non'`,{dottedName:r.dottedName});const t=typeof e=="object"?e:P_(e,r.dottedName);return"nodeKind"in t?t:"nom"in t?L1(t,r):{...T_(t,r),rawNode:e}}function ju(e,r){if(Array.isArray(e))throw new K("SyntaxError",`
Il manque le nom du mÃ©canisme pour le tableau : [${e.map(o=>`'${o}'`).join(", ")}]
Les mÃ©canisme possibles sont : 'somme', 'le maximum de', 'le minimum de', 'toutes ces conditions', 'une de ces conditions'.
		`,{dottedName:r.dottedName});const t=Object.keys(e);if(t.length>1)throw new K("SyntaxError",`
Les mÃ©canismes suivants se situent au mÃªme niveau : ${t.map(o=>`'${o}'`).join(", ")}
Cela vient probablement d'une erreur dans l'indentation
	`,{dottedName:r.dottedName});if(t.length===0)return{nodeKind:"constant",nodeValue:void 0};const n=t[0],a=e[n],s=rm[n];if(!s)throw new K("SyntaxError",`Le mÃ©canisme "${n}" est inconnu.

VÃ©rifiez qu'il n'y ait pas d'erreur dans l'orthographe du nom.`,{dottedName:r.dottedName});try{return a?.composantes?u1(n,a,r):a?.variations&&Object.values(a).length>1?p_(n,a,r):s(a,r)}catch(o){throw o instanceof K?o:new K("SyntaxError",n?`â¡ï¸ Dans le mÃ©canisme ${n}
${o.message}`:o.message,{dottedName:r.dottedName})}}var em=[ja,Fc,G0,Z1,Va,Aa,Zc,o_,s_,i_,m_,Xc,K0];function T_(e,r){const t=em.find(s=>s.nom in e);if(!t)return ju(e,r);const{[t.nom]:n,...a}=e;return ju({[t.nom]:{valeur:a,[t.nom]:n}},r)}var rm={...a_,...em.reduce((e,r)=>({[r.nom]:r,...e}),{}),"inversion numÃ©rique":W1,"le maximum de":K1,"le minimum de":G1,"taux progressif":v_,"toutes ces conditions":f_,"est non dÃ©fini":Lc,"est non applicable":Gc,"est applicable":d1,"est dÃ©fini":f1,"une de ces conditions":d_,"une possibilitÃ©":e_,condition:Tc,barÃ¨me:i1,durÃ©e:$1,grille:J1,multiplication:Su,produit:Su,recalcul:l_,somme:Y1,moyenne:Q1,[Vi.nom]:Vi,valeur:B,variable:F_,variations:b_,constant:e=>({type:e.type,fullPrecision:!0,isNullable:e.nodeValue==null,missingVariables:{},nodeValue:e.nodeValue,nodeKind:"constant"})},R_=Object.keys(rm);function dn(e){return{dottedName:"",logger:console,getUnitKey:r=>r,parsedRules:{},referencesMaps:{referencesIn:new Map,rulesThatUse:new Map},nodesTypes:new WeakMap,rulesReplacements:{},...e}}function Ja(e){return{...e,parsedRules:{...e.parsedRules},referencesMaps:{referencesIn:new Map(e.referencesMaps.referencesIn),rulesThatUse:new Map(e.referencesMaps.rulesThatUse)}}}function Xn(e,r=dn({})){if(typeof e=="string")throw new K("EngineError","Publicodes does not parse yaml rule sets itself anymore. Please provide a parsed js object. E.g. the `eemeli/yaml` package.",{});let t=Nt(e);const n=dn(r);let a=n.parsedRules;n.parsedRules={};for(const v in t){let c=t[v];if((typeof c=="string"||typeof c=="number")&&(c={valeur:`${c}`}),typeof c!="object")throw new K("SyntaxError",`Rule ${v} is incorrectly written. Please give it a proper value.`,{dottedName:v});const p=Nt(c);p.nom=v,B(p,n)}let s={};for(const v in a)s[v]=a[v];for(const v in n.parsedRules)s[v]=n.parsedRules[v];let[o,u]=M_(s,n.parsedRules,n.referencesMaps),m;[s,m]=R1({parsedRules:s,newRules:o,referencesMaps:u,previousReplacements:n.rulesReplacements,logger:n.logger});const l=W0(Object.keys(o),s,n.nodesTypes);return{parsedRules:s,nodesTypes:l,referencesMaps:u,rulesReplacements:m}}function M_(e,r,t){const n=ba(o=>wi(o,e)),a=ba(o=>{const u=wi(o,e);return u&&ks(u,t),u});return[O0(o=>o.nodeKind==="replacementRule"?n(o):a(o),r),t]}var zn=()=>({_meta:{evaluationRuleStack:[],parentRuleStack:[],traversedVariablesStack:[]},nodes:new Map}),L_=class tm{constructor(r={},t={}){fe(this,"baseContext");fe(this,"context");fe(this,"publicParsedRules");fe(this,"cache",zn());fe(this,"subEngines",[]);fe(this,"subEngineId");fe(this,"checkExperimentalRule",wc(r=>(r.nodeKind==="reference"&&Ci(this.context.parsedRules,r.dottedName)&&vu(this.baseContext.logger,r.dottedName),"continue")));const n={dottedName:"",...t};this.baseContext=dn({...n,...Xn(r,n)}),this.context=this.baseContext,this.publicParsedRules={};for(const a in this.baseContext.parsedRules){const s=this.baseContext.parsedRules[a];!s.private&&Oa(this.baseContext.parsedRules,"",a)&&(this.publicParsedRules[a]=s)}}resetCache(){this.cache=zn()}setSituation(r={},t={}){this.resetCache();const n=t.keepPreviousSituation??!1;Object.keys(r).forEach(o=>{if(!(o in this.baseContext.parsedRules))throw new K("EvaluationError",`Erreur lors de la mise Ã  jour de la situation : ${o} n'existe pas dans la base de rÃ¨gle.`,{dottedName:o});if(this.baseContext.parsedRules[o].private)throw new K("EvaluationError",`Erreur lors de la mise Ã  jour de la situation : ${o} est une rÃ¨gle privÃ©e (il n'est pas possible de modifier une rÃ¨gle privÃ©e).`,{dottedName:o})});const a=Object.fromEntries(Object.entries(r).map(([o,u])=>[`[privÃ©] ${o} . $SITUATION`,u&&typeof u=="object"&&"nodeKind"in u?{valeur:u}:u])),s=Ja(this.baseContext);try{this.context={...this.baseContext,...Xn(a,n?this.context:this.baseContext)}}catch(o){throw this.baseContext=s,o}return this.baseContext=s,Object.keys(r).forEach(o=>{Ci(this.context.parsedRules,o)&&vu(this.baseContext.logger,o),this.checkExperimentalRule(this.context.parsedRules[`${o} . $SITUATION`])}),this}inversionFail(){return!!this.cache.inversionFail}getRule(r){if(!(r in this.baseContext.parsedRules))throw new K("UnknownRule",`La rÃ¨gle '${r}' n'existe pas`,{dottedName:r});if(!(r in this.publicParsedRules))throw new K("PrivateRule",`La rÃ¨gle ${r} est une rÃ¨gle privÃ©e.`,{dottedName:r});return this.publicParsedRules[r]}getParsedRules(){return this.publicParsedRules}evaluate(r){const t=this.cache.nodes.get(r);if(t)return t;this.context={...this.context,...Xn({"[privÃ©] $EVALUATION":r&&typeof r=="object"&&"nodeKind"in r?{valeur:r}:r},this.context)},this.checkExperimentalRule(this.context.parsedRules.$EVALUATION),this.cache._meta=zn()._meta;const n=this.evaluateNode(this.context.parsedRules.$EVALUATION.explanation.valeur);return this.cache.nodes.set(r,n),n}evaluateNode(r){const t=this.cache.nodes.get(r);if(t!==void 0)return t.traversedVariables?.forEach(s=>this.cache._meta.traversedVariablesStack[0]?.add(s)),t;if(!an[r.nodeKind])throw new K("EvaluationError",`Unknown "nodeKind": ${r.nodeKind}`,{dottedName:""});const n=this.cache._meta.traversedVariablesStack.length===0||r.nodeKind==="rule";n&&this.cache._meta.traversedVariablesStack.unshift(new Set),r.nodeKind==="reference"&&r.dottedName&&r.dottedName in this.publicParsedRules&&this.cache._meta.traversedVariablesStack[0].add(r.dottedName);const a=an[r.nodeKind].call(this,r);return n&&(a.traversedVariables=Array.from(this.cache._meta.traversedVariablesStack.shift()??[]),this.cache._meta.traversedVariablesStack.length>0&&a.traversedVariables.forEach(s=>{this.cache._meta.traversedVariablesStack[0].add(s)})),this.cache.nodes.set(r,a),a}shallowCopy(){const r=new tm;return r.baseContext=Ja(this.baseContext),r.context=Ja(this.context),r.publicParsedRules=this.publicParsedRules,r.cache={...zn(),nodes:new Map(this.cache.nodes)},r}};class B_ extends L_{constructor(t,n){super(t);fe(this,"elmApp");this.elmApp=n}setSituation(t,n){return this.elmApp.ports.situationUpdated.send(null),super.setSituation(t,n)}evaluateAll(t){const n=t.map(a=>{const s=super.evaluate(a);return[a,{nodeValue:s.nodeValue??null,isNullable:s?.isNullable??!1,missingVariables:Object.keys(s.missingVariables)}]});return this.elmApp.ports.evaluatedRules.send(n),n}}const z_={titre:"Alimentation",formule:{somme:["repas","petits dÃ©jeuners","boissons","ecocups","dÃ©chets","artistes"]},unitÃ©:"kgCO2e",note:`A ajouter dans une V2 ?
  - Part de nourriture bio sur l'ensemble des repas
  - Part de nourriture de saison sur l'ensemble des repas
  - Part de nourriture locale sur l'ensemble des repas
  - Prise en compte du gaspillage ?
`},J_={titre:"Communication",formule:{somme:["merchandising","textile bÃ©nÃ©voles","numÃ©rique","impressions"]},unitÃ©:"kgCO2e"},U_=null,H_={titre:"Infrastructures",formule:{somme:["bÃ¢timents","scÃ©nographie","toilettes"]},unitÃ©:"kgCO2e"},W_={titre:"RÃ©sultats"},K_={titre:"Transport",formule:{somme:["public","artistes"]},unitÃ©:"kgCO2e"},G_=null,Y_=null,nm={alimentation:z_,"alimentation . artistes":{titre:"Alimentation des artistes",formule:{somme:["repas","petits dÃ©jeuners","eau en bouteille"]},note:`Par dÃ©faut, on considÃ¨re que les artistes consomment un repas sur place, un petit dÃ©jeuner s'ils sont hÃ©bergÃ©s.
`},"alimentation . artistes . repas":{formule:{recalcul:{rÃ¨gle:"alimentation . repas",avec:{"informations . nombre de repas total":"informations . nombre artistes * 1 repas","alimentation . repas . proposition":"alimentation . artistes . repas . type"}}}},"alimentation . artistes . repas . type":{titre:"RÃ©gime alimentaire des artistes",question:"Quelle type de rÃ©gime alimentaire prÃ©voyez-vous pour les artistes ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["vÃ©gÃ©talien","vÃ©gÃ©tarien","mixte vÃ©gÃ© viande","viande uniquement"]}},"par dÃ©faut":"'mixte vÃ©gÃ© viande'"},"alimentation . artistes . repas . type . vÃ©gÃ©talien":{titre:"Uniquement vÃ©gan"},"alimentation . artistes . repas . type . vÃ©gÃ©tarien":{titre:"Uniquement vÃ©gÃ©tarien"},"alimentation . artistes . repas . type . mixte vÃ©gÃ© viande":{titre:"Mixte vÃ©gÃ©tarien / viande"},"alimentation . artistes . repas . type . viande uniquement":{titre:"Uniquement carnÃ©"},"alimentation . artistes . petits dÃ©jeuners":{"applicable si":"hÃ©bergement . artistes . prÃ©sent",formule:{recalcul:{rÃ¨gle:"alimentation . petits dÃ©jeuners",avec:{"alimentation . petits dÃ©jeuners . nombre":"informations . nombre artistes * 1 repas"}}}},"alimentation . artistes . eau en bouteille":{"applicable si":"prÃ©sent",formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte",note:`On fait l'hypothÃ¨se que les artistes consomment de l'eau en bouteille.
Si eau en bouteille: 0.27 kgCO2e/l
`},"alimentation . artistes . eau en bouteille . prÃ©sent":{titre:"Eau en bouteille pour les artistes",question:"Allez-vous prÃ©voir de l'eau en bouteille pour les artistes ?","par dÃ©faut":"oui"},"alimentation . artistes . eau en bouteille . quantitÃ©":{formule:"0.5 l * informations . nombre artistes"},"nosgestesclimat . alimentation . boisson . tasse de cafÃ©":{titre:"Empreinte d'une tasse de cafÃ©",formule:"empreinte cafÃ© moulu * quantitÃ© cafÃ© par tasse",unitÃ©:"kgCO2e/tasse",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de cafÃ© . empreinte cafÃ© moulu":{formule:10.09,unitÃ©:"kgCO2e/kg",note:"Facteur d'Ã©mission issu d'[Agibalyse, cafÃ© moulu](https://agribalyse.ademe.fr/app/aliments/18003#Caf%C3%A9,_moulu).",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de cafÃ© . quantitÃ© cafÃ© par tasse":{formule:.012,unitÃ©:"kg/tasse",note:"on fait l'hypothÃ¨se qu'une tasse de cafÃ© contient en moyenne 12 grammes de cafÃ© moulu.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ©":{titre:"Empreinte d'une tasse de thÃ©",formule:"empreinte thÃ© infusÃ© sans consommation * quantitÃ© thÃ© par tasse",unitÃ©:"kgCO2e/tasse",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . empreinte thÃ© infusÃ© sans consommation":{formule:"empreinte thÃ© infusÃ© * (1 - part consommation empreinte thÃ© infusÃ©)",unitÃ©:"kgCO2e/kg",note:`Pour l'empreinte d'une tasse de cafÃ© ou chocolat chaud, la part liÃ©e Ã  la consommation (chauffage de l'eau notamment) n'est pas prise en compte dans le facteur d'Ã©mission
ce qui n'est pas le cas du facteur d'Ã©mission du thÃ© issu d'Agribalyse. Si la boisson est bue Ã  domicile, la consommation est dÃ©jÃ  incluse dans la facture Ã©lectrique du logement.
En revanche, si elle est prise dans un cafÃ©, l'empreinte de la consommation doit Ãªtre ajoutÃ©e.
Nous faisons le choix de ne pas inclure la consommation dans les boissons chaudes
(la part liÃ©e Ã  la consommation Ã©tant nÃ©gligeable pour le cafÃ© et chocolat chaud devant les grains de cafÃ© ou le cacao)
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . quantitÃ© thÃ© par tasse":{formule:.25,unitÃ©:"kg/tasse",note:"On fait l'hypothÃ¨se qu'une tasse de thÃ© fait en moyenne 250 grammes.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . empreinte thÃ© infusÃ©":{formule:.04,unitÃ©:"kgCO2e/kg",note:"Facteur d'Ã©mission issu d'[Agibalyse, thÃ© infusÃ© non sucrÃ©](https://agribalyse.ademe.fr/app/aliments/18020#Th%C3%A9_infus%C3%A9,_non_sucr%C3%A9).",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thÃ© . part consommation empreinte thÃ© infusÃ©":{formule:"25%",note:`Selon la dÃ©composition issu d'[Agibalyse, thÃ© infusÃ© non sucrÃ©](https://agribalyse.ademe.fr/app/aliments/18020#Th%C3%A9_infus%C3%A9,_non_sucr%C3%A9),
la part de consommation dans le facteur d'Ã©mission du thÃ© reprÃ©sente 25%.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur":{formule:{moyenne:["facteur sodas","facteur jus de fruits"]},note:"Cette valeur est bien sÃ»r trÃ¨s approximative.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur sodas":{formule:.51,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, Cola, sucrÃ©](https://agribalyse.ademe.fr/app/aliments/18037#Cola,_sucr%C3%A9,_avec_%C3%A9dulcorants), 0.51 kgCO2e/kg. On considÃ¨re que la masse volumique est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur jus de fruits":{formule:.91,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, Jus multifruit, pur jus, standard](https://agribalyse.ademe.fr/app/aliments/2069#Jus_multifruit,_%C3%A0_base_de_concentr%C3%A9,_standard), 0.91 kgCO2e/kg. On considÃ¨re que la masse volumique est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur":{formule:{moyenne:["facteur biÃ¨re","facteur vin","facteur cocktail"]},note:"Le vin n'a pas la mÃªme empreinte que la biÃ¨re au litre, c'est une grosse simplification.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur biÃ¨re":{formule:1.12,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, biÃ¨re coeur de marchÃ©](https://agribalyse.ademe.fr/app/aliments/5001#Bi%C3%A8re_%22coeur_de_march%C3%A9%22_(4-5%C2%B0_alcool)), 1.12 kgCO2e/kg. On considÃ¨re que la masse volumique de la biÃ¨re est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur vin":{formule:1.22,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, vin blanc sec](https://agribalyse.ademe.fr/app/aliments/5215#Vin_blanc_sec), 1.22 kgCO2e/kg. On considÃ¨re que la masse volumique du vin est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur cocktail":{formule:.91,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agribalyse, cocktail base rhum](https://agribalyse.ademe.fr/app/aliments/1012#Cocktail_%C3%A0_base_de_rhum), 0.91 kgCO2e/kg. On considÃ¨re que la masse volumique d'un cocktail est de 1kg/l.",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte":{formule:.27,unitÃ©:"kgCO2e/l",note:"Facteur d'Ã©mission issu d'[Agibalyse, eau embouteillÃ©e de source](https://agribalyse.ademe.fr/app/aliments/18430#Eau_embouteillÃ©e_de_source).",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"alimentation . boissons":{titre:"Boissons",formule:{somme:["froide","chaude"]}},"alimentation . boissons . froide":{formule:{somme:["eau","eau en bouteille bÃ©nÃ©voles","soft","alcool"]},note:"On fait l'hypothÃ¨se que les boissons ne sont pas servies en bouteilles individuelles."},"alimentation . boissons . froide . eau":{formule:"quantitÃ© * empreinte",note:"On fait l'hypothÃ¨se de fontaine Ã  eau."},"alimentation . boissons . froide . eau . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . eau . quantitÃ© par jour":{formule:"0.5 l * informations . nombre de personnes par jour"},"alimentation . boissons . froide . eau . empreinte":{formule:62e-5,unitÃ©:"kgCO2e/l",note:`Facteur d'Ã©mission issu de la base empreinte "Eau potable, mix de provenances".
Si eau en bouteille: 0.27 kgCO2e/l
`},"alimentation . boissons . froide . eau en bouteille bÃ©nÃ©voles":{"applicable si":"eau en bouteille bÃ©nÃ©voles prÃ©sent",formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte"},"alimentation . boissons . froide . eau en bouteille bÃ©nÃ©voles prÃ©sent":{titre:"Eau en bouteille pour les Ã©quipes",question:"Allez-vous prÃ©voir de l'eau en bouteille pour les Ã©quipes ?","par dÃ©faut":"oui"},"alimentation . boissons . froide . eau en bouteille bÃ©nÃ©voles . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . eau en bouteille bÃ©nÃ©voles . quantitÃ© par jour":{formule:"0.5 l/jour * informations . nombre de bÃ©nÃ©voles"},"alimentation . boissons . froide . soft":{formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . sucrÃ©es . facteur",note:`A priori, le facteur d'Ã©mission d'agribalyse considÃ¨re bien une part d'emballage qui correspond Ã  la bouteille. 
On suppose que ce sont des grands formats.
`},"alimentation . boissons . froide . soft . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . soft . quantitÃ© par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour"},"alimentation . boissons . froide . soft . quantitÃ© par jour et par personne":{titre:'QuantitÃ© de boissons "soft" par personne et par jour',question:'Quelle quantitÃ© de boissons "soft" est consommÃ©e par personne et par jour ?',"par dÃ©faut":.5,unitÃ©:"l"},"alimentation . boissons . froide . alcool":{formule:"quantitÃ© * nosgestesclimat . alimentation . boisson . alcool . facteur",note:`On considÃ¨re ici une moyenne de plusieurs types d'alcool dont le facteur d'Ã©mission est nÃ©anmoins trÃ¨s proche.
On pourrait imaginer sÃ©parer la biÃ¨re du reste ouo considÃ©rer seulement la biÃ¨re.
`},"alimentation . boissons . froide . alcool . quantitÃ©":{formule:"quantitÃ© par jour * informations . nombre de jours"},"alimentation . boissons . froide . alcool . quantitÃ© par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour"},"alimentation . boissons . froide . alcool . quantitÃ© par jour et par personne":{titre:"QuantitÃ© d'alcool par personne et par jour",question:"Quelle quantitÃ© d'alcool est consommÃ©e par personne et par jour ?","par dÃ©faut":.5,unitÃ©:"l"},"alimentation . boissons . chaude":{formule:{somme:["cafÃ©","thÃ©"]}},"alimentation . boissons . chaude . cafÃ©":{formule:"nombre * nosgestesclimat . alimentation . boisson . tasse de cafÃ©"},"alimentation . boissons . chaude . cafÃ© . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . boissons . chaude . cafÃ© . nombre par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour",note:"On fait l'hypothÃ¨se qu'en moyenne, la consommation sera de 1 cafÃ© par personne et par jour."},"alimentation . boissons . chaude . cafÃ© . quantitÃ© par jour et par personne":{titre:"Tasses de cafÃ© par personne et par jour",question:"Quelle quantitÃ© de cafÃ© est consommÃ©e par personne et par jour ?","par dÃ©faut":1,unitÃ©:"tasse"},"alimentation . boissons . chaude . thÃ©":{formule:"nombre * nosgestesclimat . alimentation . boisson . tasse de thÃ©"},"alimentation . boissons . chaude . thÃ© . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . boissons . chaude . thÃ© . nombre par jour":{formule:"quantitÃ© par jour et par personne * informations . nombre de personnes par jour",note:"On fait l'hypothÃ¨se qu'en moyenne, la consommation sera de 1 thÃ© pour 10 personnes par jour."},"alimentation . boissons . chaude . thÃ© . quantitÃ© par jour et par personne":{titre:"Tasses de thÃ© par personne et par jour",question:"Quelle quantitÃ© de thÃ© est consommÃ©e par personne et par jour ?","par dÃ©faut":"10% * 1 tasse",unitÃ©:"tasse"},"alimentation . dÃ©chets":{formule:{somme:["gobelets * surplus","couverts * surplus","assiettes * surplus"]},unitÃ©:"kgCO2e",note:`DerriÃ¨re la production des dÃ©chets, se cache ici une production et non seulement la comptabilitÃ© de l'empreinte de la fin de vie des dÃ©chets 
finalement assez dÃ©risoire. On a donc ici ce que contiendront les poubelles et qui sont des Ã©lÃ©ments directement issus du festival
(vaisselle en cartons, papier).
`},"alimentation . dÃ©chets . surplus":{formule:"110%",note:`L'objectif ici est d'avoir une idÃ©e de l'impact du reste des dÃ©chets du festival en aplicant un facteur correctif (dÃ©fini arbitrairement)
qui a l'avantage de tenir compte des pratiques du festival.
`},"alimentation . dÃ©chets . recyclage":{titre:"Mise en place du tri sÃ©lectif",question:"Allez-vous mettre en place un tri sÃ©lectif et un recyclage des dÃ©chets ?","par dÃ©faut":"non"},"alimentation . dÃ©chets . gobelets":{"non applicable si":"ecocups prÃ©sent",formule:"2 gobelet * informations . nombre de jours * informations . nombre de personnes par jour * empreinte",unitÃ©:"kgCO2e",note:"On considÃ¨re 2 gobelets par personne par jour."},"alimentation . dÃ©chets . gobelets . empreinte":{formule:{variations:[{si:'gobelets . type = "plastique"',alors:"type . plastique . poids * empreinte plastique par kg"},{si:'gobelets . type = "carton"',alors:"type . carton . poids * empreinte carton par kg"}]},unitÃ©:"kgCO2e/gobelet"},"alimentation . dÃ©chets . gobelets . type":{titre:"Type de gobelets",question:"Quel type de gobelets allez-vous utiliser ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["plastique","carton"]}},"par dÃ©faut":"'plastique'"},"alimentation . dÃ©chets . gobelets . type . plastique":{titre:"Plastique jetable"},"alimentation . dÃ©chets . gobelets . type . plastique . poids":{formule:.01,unitÃ©:"kg/gobelet"},"alimentation . dÃ©chets . gobelets . type . carton":null,"alimentation . dÃ©chets . gobelets . type . carton . poids":{formule:.01,unitÃ©:"kg/gobelet",note:"On considÃ¨re 10g par gobelet."},"alimentation . dÃ©chets . couverts":{formule:"2 couvert/repas * informations . nombre de jours * informations . nombre de repas par jour * empreinte",unitÃ©:"kgCO2e"},"alimentation . dÃ©chets . couverts . empreinte":{formule:{variations:[{si:'couverts . type = "plastique"',alors:"type . plastique . poids * empreinte plastique par kg"},{si:'couverts . type = "bois"',alors:"type . bois . poids * empreinte bois par kg"}]},unitÃ©:"kgCO2e/couvert"},"alimentation . dÃ©chets . couverts . type":{titre:"Type de couverts",question:"Quel type de couverts allez-vous utiliser ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["plastique","bois"]}},"par dÃ©faut":"'plastique'"},"alimentation . dÃ©chets . couverts . type . plastique":{titre:"Plastique jetable"},"alimentation . dÃ©chets . couverts . type . plastique . poids":{formule:.002,unitÃ©:"kg/couvert"},"alimentation . dÃ©chets . couverts . type . bois":null,"alimentation . dÃ©chets . couverts . type . bois . poids":{formule:.002,unitÃ©:"kg/couvert",note:"On considÃ¨re 2g par couvert."},"alimentation . dÃ©chets . assiettes":{formule:"1 assiette/repas * informations . nombre de jours * informations . nombre de repas par jour * empreinte",unitÃ©:"kgCO2e"},"alimentation . dÃ©chets . assiettes . empreinte":{formule:{variations:[{si:'assiettes . type = "plastique"',alors:"type . plastique . poids * empreinte plastique par kg"},{si:'assiettes . type = "carton"',alors:"type . carton . poids * empreinte carton par kg"}]},unitÃ©:"kgCO2e/assiette"},"alimentation . dÃ©chets . assiettes . type":{titre:"Type d'assiettes",question:"Quel type de gobelets allez-vous utiliser ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["plastique","carton"]}},"par dÃ©faut":"'plastique'"},"alimentation . dÃ©chets . assiettes . type . plastique":{titre:"Plastique jetable"},"alimentation . dÃ©chets . assiettes . type . plastique . poids":{formule:.005,unitÃ©:"kg/assiette"},"alimentation . dÃ©chets . assiettes . type . carton":null,"alimentation . dÃ©chets . assiettes . type . carton . poids":{formule:.005,unitÃ©:"kg/assiette",note:"On considÃ¨re 10g par assiette."},"alimentation . dÃ©chets . empreinte plastique par kg":{formule:"fabrication + fin de vie",unitÃ©:"kgCO2e/kg",note:`On considÃ¨re du platisque polypropylÃ¨ne (PP) neuf et l'impact fin de vie.
`},"alimentation . dÃ©chets . empreinte plastique par kg . fabrication":{formule:2,unitÃ©:"kgCO2e/kg",note:`On considÃ¨re du platisque polypropylÃ¨ne (PP) neuf.
FE issus de la base empreinte (PP - polypropylÃ¨ne)
`},"alimentation . dÃ©chets . empreinte plastique par kg . fin de vie":{formule:{variations:[{si:"recyclage",alors:"fin de vie recyclage"},{sinon:"fin de vie non recyclÃ©"}]},unitÃ©:"kgCO2e/kg"},"alimentation . dÃ©chets . empreinte plastique par kg . fin de vie recyclage":{formule:.434,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Plastique rigide PP bouteilles/Recyclage - Impacts)
`},"alimentation . dÃ©chets . empreinte plastique par kg . fin de vie non recyclÃ©":{formule:2.77,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Plastique pÃ©trosourcÃ© PP/IncinÃ©ration - Impacts)
`},"alimentation . dÃ©chets . empreinte carton par kg":{formule:"fabrication + fin de vie",unitÃ©:"kgCO2e/kg",note:`On considÃ¨re que le carton est recyclÃ© (hypothÃ¨se conservatrice, contrairement Ã  ce qu'on peut penser, 
le carton recyclÃ© est plus impactant que le carton neuf).
`},"alimentation . dÃ©chets . empreinte carton par kg . fabrication":{formule:.67,unitÃ©:"kgCO2e/kg",note:`On considÃ¨re que le carton est recyclÃ© (hypothÃ¨se conservatrice, contrairement Ã  ce qu'on peut penser, 
le carton recyclÃ© est plus impactant que le carton neuf).

FE issus de la base empreinte (Carton/recyclÃ©)
`},"alimentation . dÃ©chets . empreinte carton par kg . fin de vie":{formule:{variations:[{si:"recyclage",alors:"fin de vie recyclage"},{sinon:"fin de vie non recyclÃ©"}]},unitÃ©:"kgCO2e/kg"},"alimentation . dÃ©chets . empreinte carton par kg . fin de vie recyclage":{formule:.992,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Carton/Recyclage - Impacts)
`},"alimentation . dÃ©chets . empreinte carton par kg . fin de vie non recyclÃ©":{formule:.12,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Carton/IncinÃ©ration - Impacts)
`},"alimentation . dÃ©chets . empreinte bois par kg":{formule:"fabrication + fin de vie",unitÃ©:"kgCO2e/kg",note:`On considÃ¨re que le carton est recyclÃ© (hypothÃ¨se conservatrice, contrairement Ã  ce qu'on peut penser, 
le carton recyclÃ© est plus impactant que le carton neuf).
`},"alimentation . dÃ©chets . empreinte bois par kg . fabrication":{formule:.67,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Carton/recyclÃ©)
`},"alimentation . dÃ©chets . empreinte bois par kg . fin de vie":{formule:{variations:[{si:"recyclage",alors:"fin de vie recyclage"},{sinon:"fin de vie non recyclÃ©"}]},unitÃ©:"kgCO2e/kg"},"alimentation . dÃ©chets . empreinte bois par kg . fin de vie recyclage":{formule:.992,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Carton/Recyclage - Impacts)
`},"alimentation . dÃ©chets . empreinte bois par kg . fin de vie non recyclÃ©":{formule:.12,unitÃ©:"kgCO2e/kg",note:`FE issus de la base empreinte (Emballages/Carton/IncinÃ©ration - Impacts)
`},"alimentation . ecocups":{"applicable si":"ecocups prÃ©sent",formule:"1 ecocup.jour * informations . nombre de personnes par jour * empreinte / amortissement",unitÃ©:"kgCO2e"},"alimentation . ecocups prÃ©sent":{titre:"Utilisation d'ecocups",question:"Allez-vous utiliser des ecocups pour l'Ã©vÃ©nement ?","par dÃ©faut":"oui"},"alimentation . ecocups . rÃ©utilisation":{titre:"RÃ©utilisation des ecocups",question:"Est-il prÃ©vu de rÃ©utiliser les ecocups pour une autre Ã©dition ?","par dÃ©faut":"non"},"alimentation . ecocups . amortissement":{formule:{variations:[{si:"ecocups . rÃ©utilisation",alors:3},{sinon:1}]},note:"On considÃ¨re que les ecocups servirons sur 3 Ã©ditions."},"alimentation . ecocups . empreinte":{formule:"poids * dÃ©chets . empreinte plastique par kg",unitÃ©:"kgCO2e/ecocup"},"alimentation . ecocups . poids":{formule:.03,unitÃ©:"kg/ecocup"},"nosgestesclimat . alimentation . petit dÃ©jeuner . continental":{titre:"Continental",formule:.289,unitÃ©:"kgCO2e/repas",description:`
> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le \`@incubateur-ademe/nosgestesclimat\`.


Petit dÃ©jeuner avec pain, viennoiserie, beurre, confiture et un fruit.

Voici le menu type utilisÃ© pour notre calcul.

| IngrÃ©dients     | Qte (g) | Kcal  | ProtÃ©ines (g) | Lipides (g) | gCO2e /g | gCO2e |
| --------------- | ------- | ----- | ------------- | ----------- | -------- | ----- |
| Pain            | 50      | 132,5 | 4,5           | 1,6         | 0,67     | 33,5  |
| Vienoiserie     | 50      | 203   | 4             | 10,5        | 1,7      | 85    |
| Beurre demi-sel | 10      | 71,7  | 0,09          | 8,1         | 7,82     | 78,2  |
| Confiture       | 20      | 27,8  | 0,04          | 0,01        | 1,42     | 28,4  |
| Orange          | 100     | 47    | 0,9           | 0,1         | 0,64     | 64    |
| Total           | 230     | 482   | 9,53          | 20,31       |          | 289,1 |
`},"alimentation . petits dÃ©jeuners":{titre:"Petits dÃ©jeuners","applicable si":"petits dÃ©jeuners prÃ©sent",formule:"nombre * nosgestesclimat . alimentation . petit dÃ©jeuner . continental",note:"On considÃ¨re le petits dÃ©jeuner continental de Nos Gestes Climat"},"alimentation . petits dÃ©jeuners prÃ©sent":{titre:"Petits dÃ©jeuners sur l'Ã©vÃ©nement",question:"Proposez-vous des petits dÃ©jeuners sur place ?","par dÃ©faut":"oui"},"alimentation . petits dÃ©jeuners . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . petits dÃ©jeuners . nombre par jour":{formule:"1 repas * informations . nombre de personnes par jour"},"nosgestesclimat . alimentation . plats . vÃ©gÃ©talien . empreinte":{titre:"Empreinte d'un repas vÃ©gÃ©talien",formule:.785,unitÃ©:"kgCO2e/repas",note:`Pour l'instant, en l'absence de repas type vÃ©gÃ©talien dans la [base carbone](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm),
nous prenons l'empreinte du repas vÃ©gÃ©tarien, dans lequel nous substituons les 2 Åufs par du tofu et des noix dans l'entrÃ©e qui devient alors une salade,
en gardant approximativement les mÃªmes quantitÃ©s de calories et de protÃ©ines.

> Note : on peut se demander pourquoi la recette fait mention d'une omelette aux oignons sans inclure les oignons. NÃ©gligeables ? Nous les avons ajoutÃ©s.

Notons finalement que le tofu considÃ©rÃ© ici pourrait Ãªtre remplacÃ© par du soja franÃ§ais et une fabrication du tofu franÃ§aise dÃ©carbonÃ©e, notamment pour Ã©viter la dÃ©forestation et rÃ©duire encore plus les Ã©missions, donnant lieu Ã  un rÃ©gime vÃ©gÃ©talien local. Voir [ce papier](https://www.nature.com/articles/s43016-020-0106-x) Ã  ce propos du soja et de la dÃ©forestation.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . vÃ©gÃ©tarien . empreinte":{titre:"Empreinte d'un repas vÃ©gÃ©tarien",formule:1.115,unitÃ©:"kgCO2e/repas",note:`C'est le "Repas vÃ©gÃ©tarien 1" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), [actualisÃ© avec les facteurs d'Ã©mission Agribalyse](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424).

> Note : on peut se demander pourquoi la recette fait mention d'une omelette aux oignons sans inclure les oignons. NÃ©gligeables ? Nous les avons ajoutÃ©.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . viande 1 . empreinte":{titre:"Empreinte d'un repas de type viande 1 (poulet, porc, fromage)",formule:2.098,unitÃ©:"kgCO2e/repas",note:`C'est le "Repas classique 1 (avec poulet)" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), actualisÃ© avec les facteurs d'Ã©mission Agribalyse.

Le facteur d'Ã©mission associÃ© Ã  l'ingrÃ©dient principal (ici le la piÃ¨ce de volaille ou porc) correspond Ã  une moyenne de facteurs d'Ã©missions associÃ©s au porc (piÃ¨ce de viande et charcuterie), poulet, dinde, canard d'Agribalyse.
Cette moyenne est pondÃ©rÃ©e selon les consommations rÃ©elles des FranÃ§ais par type de viande animale.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1200865486) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . viande 2 . empreinte":{titre:"Empreinte d'un repas de type viande 2 (bÅuf, veau, agneau)",formule:5.51,unitÃ©:"kgCO2e/repas",note:`C'est le "Repas classique 2 (avec bÅuf)" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), actualisÃ© avec les facteurs d'Ã©mission Agribalyse.

Le facteur d'Ã©mission associÃ© Ã  l'ingrÃ©dient principal (ici le la piÃ¨ce de viande rouge) correspond Ã  une moyenne de facteurs d'Ã©missions associÃ©s au bÅuf, agneau, veau d'Agribalyse.
Cette moyenne est pondÃ©rÃ©e selon les consommations rÃ©elles des FranÃ§ais par type de viande animale.

ð§® Le calcul dÃ©taillÃ© est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1200865486) sous forme de tableur.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"alimentation . repas":{titre:"Repas",formule:{somme:["vÃ©gÃ©talien","vÃ©gÃ©tarien","viande 1","viande 2"]}},"alimentation . repas . vÃ©gÃ©talien":{formule:"nombre * nosgestesclimat . alimentation . plats . vÃ©gÃ©talien . empreinte"},"alimentation . repas . vÃ©gÃ©talien . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . vÃ©gÃ©talien . proportion":{formule:{variations:[{si:"proposition = 'vÃ©gÃ©talien'",alors:"100%"},{sinon:"0%"}]}},"alimentation . repas . vÃ©gÃ©tarien":{formule:"nombre * nosgestesclimat . alimentation . plats . vÃ©gÃ©tarien . empreinte"},"alimentation . repas . vÃ©gÃ©tarien . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . vÃ©gÃ©tarien . proportion":{formule:{variations:[{si:"proposition = 'vÃ©gÃ©tarien'",alors:"100%"},{si:"proposition = 'mixte vÃ©gÃ© viande'",alors:"proposition . mixte vÃ©gÃ© viande . proportion vÃ©gÃ©tarien"},{sinon:"0%"}]}},"alimentation . repas . viande 1":{formule:"nombre * nosgestesclimat . alimentation . plats . viande 1 . empreinte"},"alimentation . repas . viande 1 . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . viande 1 . proportion":{formule:{variations:[{si:"proposition = 'viande uniquement'",alors:"proposition . choix viande . proportion viande 1"},{si:"proposition = 'mixte vÃ©gÃ© viande'",alors:"proposition . choix viande . proportion viande 1 * proposition . mixte vÃ©gÃ© viande . proportion viande"},{sinon:"0%"}]}},"alimentation . repas . viande 2":{formule:"nombre * nosgestesclimat . alimentation . plats . viande 2 . empreinte"},"alimentation . repas . viande 2 . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . viande 2 . proportion":{formule:{variations:[{si:"proposition = 'viande uniquement'",alors:"proposition . choix viande . proportion viande 2"},{si:"proposition = 'mixte vÃ©gÃ© viande'",alors:"proposition . choix viande . proportion viande 2 * proposition . mixte vÃ©gÃ© viande . proportion viande"},{sinon:"0%"}]}},"alimentation . repas . proposition":{titre:"RÃ©gime des repas proposÃ©s",question:"Quelle type de rÃ©gime alimentaire prÃ©voyez-vous ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["vÃ©gÃ©talien","vÃ©gÃ©tarien","mixte vÃ©gÃ© viande","viande uniquement"]}},"par dÃ©faut":"'mixte vÃ©gÃ© viande'"},"alimentation . repas . proposition . vÃ©gÃ©talien":{titre:"Uniquement vÃ©gan"},"alimentation . repas . proposition . vÃ©gÃ©tarien":{titre:"Uniquement vÃ©gÃ©tarien"},"alimentation . repas . proposition . mixte vÃ©gÃ© viande":{titre:"Mixte vÃ©gÃ©tarien / viande"},"alimentation . repas . proposition . viande uniquement":{titre:"Uniquement carnÃ©"},"alimentation . repas . proposition . mixte vÃ©gÃ© viande . proportion vÃ©gÃ©tarien":{"applicable si":"proposition = 'mixte vÃ©gÃ© viande'",titre:"Proportion de repas vÃ©gÃ©tariens",question:"Comment allez-vous rÃ©partir les rÃ©gimes proposÃ©s ?","par dÃ©faut":"50%",unitÃ©:"%"},"alimentation . repas . proposition . mixte vÃ©gÃ© viande . proportion viande":{"applicable si":"proposition = 'mixte vÃ©gÃ© viande'",formule:"100% - proportion vÃ©gÃ©tarien",unitÃ©:"%"},"alimentation . repas . proposition . choix viande":{"applicable si":{"une de ces conditions":["proposition = 'mixte vÃ©gÃ© viande'","proposition = 'viande uniquement'"]},titre:"Choix de viande",question:"Proposerez-vous de la viande blanche ou viande rouge ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["viande 1","viande 2","les deux"]}},"par dÃ©faut":"'les deux'"},"alimentation . repas . proposition . choix viande . viande 1":{titre:"Viande blanche"},"alimentation . repas . proposition . choix viande . viande 2":{titre:"Viande rouge"},"alimentation . repas . proposition . choix viande . les deux":{titre:"Les 2"},"alimentation . repas . proposition . choix viande . proportion viande 1":{formule:{variations:[{si:"choix viande = 'viande 1'",alors:"100%"},{si:"choix viande = 'les deux'",alors:"50%"},{sinon:"0%"}]}},"alimentation . repas . proposition . choix viande . proportion viande 2":{formule:{variations:[{si:"choix viande = 'viande 2'",alors:"100%"},{si:"choix viande = 'les deux'",alors:"50%"},{sinon:"0%"}]}},"commun . intensitÃ© Ã©lectricitÃ©":{titre:"IntensitÃ© carbone du mix Ã©lectrique franÃ§ais",description:`
> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [\`@incubateur-ademe/publicodes-commun\`](https://github.com/incubateur-ademe/publicodes-commun).


IntensitÃ© moyenne, tous types de consommations confondues, annÃ©e 2022.`,formule:.052,unitÃ©:"kgCO2e/kWh",note:`Ici, on parle du mix Ã©lectrique de consommation. 
Le chiffre est issu de la Base Empreinte (ElectricitÃ©/2022 - mix moyen/consommation) dont la mÃ©thodologie est dÃ©crite dans la [documentation](https://prod-basecarbonesolo.ademe-dri.fr/documentation/UPLOAD_DOC_FR/).
La v2.6 de MicMac donnait une valeur de 12.4gCO2e/kWh pour les fournisseurs d'Ã©lectricitÃ© "verte", mais cette valeur semble correspondre Ã  un calcul thÃ©orique sur l'annÃ©e, et non pas Ã  un calcul rÃ©el, minute par minute.
`},"commun . mois par an":{titre:"Nombre de mois par an",formule:12,unitÃ©:"mois",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . semaines par an":{titre:"Nombre de semaines par an",formule:52,unitÃ©:"semaine",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . jours par semaine":{titre:"Nombre de jours par semaine",formule:7,unitÃ©:"jour/semaine",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . jours par an":{titre:"Nombre de jours par an",formule:365,unitÃ©:"jour",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},communication:J_,"communication . impressions":{titre:"Impressions",formule:0,unitÃ©:"kgCO2e",note:"A venir"},"communication . merchandising":{titre:"Merchandising",formule:{somme:["textile","plastique"]},unitÃ©:"kgCO2e",note:`Pour cette modÃ©lisation, nous nous inspirons de l'Ã©tude [DÃ©carbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf)
en estimant le chiffre d'affaires rÃ©alisÃ© grÃ¢ce au merchandising rÃ©parti sur diffÃ©rents produits textiles (t-shirts et sweat shirts) 
mais Ã©galement des produits dÃ©rivÃ©s "plastiques".

D'aprÃ¨s [le baromÃ¨tre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
sur les consommations et les achats des festivaliers, le panier moyen pour du merch est de 4â¬ par jour et par personne.

Dans une V2, il s'agira d'affiner l'empreinte carbone associÃ©e aux produits vendu en passant par des FE "physiques"
et en incluant des variations selon l'approvisionnement des produits.
`},"communication . merchandising . surplus production":{formule:"110%",note:`On estime que 10% le surplus de production.
`},"communication . merchandising . chiffre d affaires":{formule:"informations . nombre de festivaliers * merchandising . panier moyen par jour et par personne",unitÃ©:"â¬",note:`D'aprÃ¨s [le baromÃ¨tre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
sur les consommations et les achats des festivaliers, le panier moyen pour du merch est de 4â¬ par jour et par personne.
`},"communication . merchandising . chiffre d affaires . part textile":{formule:"70%"},"communication . merchandising . chiffre d affaires . part plastique":{formule:"30%"},"communication . merchandising . panier moyen par jour et par personne":{formule:4,unitÃ©:"â¬",note:`D'aprÃ¨s [le baromÃ¨tre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
`},"communication . merchandising . textile":{formule:"surplus production * chiffre d affaires . part textile * chiffre d affaires * ratio monÃ©taire",unitÃ©:"kgCO2e"},"communication . merchandising . textile . ratio monÃ©taire":{formule:"ratio monÃ©taire HT / 1.2 â¬/â¬HT",unitÃ©:"kgCO2e/â¬"},"communication . merchandising . textile . ratio monÃ©taire HT":{formule:.6,unitÃ©:"kgCO2e/â¬HT",note:`Facteur d'Ã©mission issu de la base empreinte "Service/Textile et habillement".
`},"communication . merchandising . plastique":{formule:"surplus production * chiffre d affaires . part plastique * chiffre d affaires * ratio monÃ©taire",unitÃ©:"kgCO2e"},"communication . merchandising . plastique . ratio monÃ©taire":{formule:"ratio monÃ©taire HT / 1.2 â¬/â¬HT",unitÃ©:"kgCO2e/â¬"},"communication . merchandising . plastique . ratio monÃ©taire HT":{formule:.8,unitÃ©:"kgCO2e/â¬HT",note:`Facteur d'Ã©mission issu de la base empreinte "Service/Textile et habillement".
`},"communication . numÃ©rique":{titre:"NumÃ©rique",formule:0,unitÃ©:"kgCO2e",note:"A venir"},"nosgestesclimat . divers . textile . t-shirt . empreinte":{formule:5.35,unitÃ©:"kgCO2e",note:"moyenne de l'empreinte des t-shirts en coton et en polyester de la Base Carbone",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . divers . textile . sweat . empreinte":{formule:27.4,unitÃ©:"kgCO2e",note:"empreinte d'un sweat de la Base Carbone",description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"communication . textile bÃ©nÃ©voles":{titre:"Textile bÃ©nÃ©voles",formule:{variations:[{si:'textile bÃ©nÃ©voles . type = "t shirt"',alors:"informations . nombre de bÃ©nÃ©voles * nosgestesclimat . divers . textile . t-shirt . empreinte / amortissement"},{si:'textile bÃ©nÃ©voles . type = "sweat"',alors:"informations . nombre de bÃ©nÃ©voles * nosgestesclimat . divers . textile . sweat . empreinte / amortissement"},{si:'textile bÃ©nÃ©voles . type = "aucun"',alors:0}]},unitÃ©:"kgCO2e"},"communication . textile bÃ©nÃ©voles . type":{titre:"VÃªtements pour les Ã©quipes et bÃ©nÃ©voles",question:"PrÃ©voyez-vous des vÃªtements pour votre Ã©quipe ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["t shirt","sweat","aucun"]}},"par dÃ©faut":"'t shirt'"},"communication . textile bÃ©nÃ©voles . type . t shirt":{titre:"T-shirt"},"communication . textile bÃ©nÃ©voles . type . sweat":{titre:"Sweat"},"communication . textile bÃ©nÃ©voles . type . aucun":{titre:"Non, aucun vÃªtement"},"communication . textile bÃ©nÃ©voles . amortissement":{formule:{variations:[{si:"textile bÃ©nÃ©voles . rÃ©utilisation",alors:2},{sinon:1}]}},"communication . textile bÃ©nÃ©voles . rÃ©utilisation":{titre:"RÃ©utilisation des vÃªtements pour une autre Ã©dition",question:"Est-il prÃ©vu de rÃ©utiliser les vÃªtements pour une autre Ã©dition ?","par dÃ©faut":"non"},"nosgestesclimat . logement . chauffage . gaz . facteur d'Ã©mission base carbone":{titre:"IntensitÃ© carbone gaz naturel",valeur:.221,unitÃ©:"kgCO2e/kWh",note:`Il s'agit de kgCO2e/kWh *PCS*.

On raisonne en PCS (Pouvoir Calorifique SupÃ©rieur) et non en PCI (Pouvoir Calorifique InfÃ©rieur), car le PCS est utilisÃ© en tant que coefficient de conversion dans les factures pour convertir le volume de gaz utilisÃ© en kWh : 
on fait l'hypothÃ¨se que la chaudiÃ¨re gaz rÃ©cupÃ¨re bien la chaleur latente de condensation.

Base Carbone Gaz naturel - 2022/mix moyen/consommation
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},Ã©nergie:{titre:"Ãnergie",formule:{somme:["Ã©lectricitÃ©","autre","groupes Ã©lectrogÃ¨nes"]},unitÃ©:"kgCO2e"},"Ã©nergie . consommation par dÃ©faut":{formule:"0.6 kWh * informations . nombre de festivaliers",unitÃ©:"kWh",note:`Selon l'Ã©tude [DÃ©carbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf):
il est tout Ã  fait pertinent d'utiliser lâ[Ã©tude dâENERIS](https://www.ressource0.com/wp-content/uploads/2012/09/guideSpectacle-vivant1.pdf) produite en 2011 
qui propose une consommation Ã©lectrique de 0,6 KWh par festivalier en moyenne.
`},"Ã©nergie . Ã©lectricitÃ©":{formule:"consommation * commun . intensitÃ© Ã©lectricitÃ©",unitÃ©:"kgCO2e"},"Ã©nergie . Ã©lectricitÃ© . consommation":{titre:"Consommation d'Ã©lectricitÃ© totale",question:"Quelle est votre consommation d'Ã©lectricitÃ© pour l'Ã©vÃ©nement ?",unitÃ©:"kWh","par dÃ©faut":{variations:[{si:{"toutes ces conditions":["autre prÃ©sent","groupes Ã©lectrogÃ¨nes prÃ©sent"]},alors:"consommation par dÃ©faut / 4"},{si:{"toutes ces conditions":["autre prÃ©sent = non","groupes Ã©lectrogÃ¨nes prÃ©sent"]},alors:"consommation par dÃ©faut / 2"},{sinon:"consommation par dÃ©faut"}]}},"Ã©nergie . autre":{"applicable si":"autre prÃ©sent",formule:{somme:["gaz","fioul"]},unitÃ©:"kgCO2e"},"Ã©nergie . autre prÃ©sent":{titre:"Utilisation d'une autre source d'Ã©nergie",question:"Utilisez-vous une autre source d'Ã©nergie pour l'Ã©vÃ©nement (gaz, fioul) ?","par dÃ©faut":"non"},"Ã©nergie . autre . gaz":{formule:"consommation * nosgestesclimat . logement . chauffage . gaz . facteur d'Ã©mission base carbone",unitÃ©:"kgCO2e"},"Ã©nergie . autre . gaz . consommation":{titre:"Consommation de gaz totale",question:"Quelle est votre consommation de gaz pour l'Ã©vÃ©nement ?",unitÃ©:"kWh","par dÃ©faut":{variations:[{si:"groupes Ã©lectrogÃ¨nes prÃ©sent",alors:"consommation par dÃ©faut / 4"},{sinon:"consommation par dÃ©faut / 2"}]}},"Ã©nergie . autre . fioul":{formule:"consommation * empreinte",unitÃ©:"kgCO2e"},"Ã©nergie . autre . fioul . consommation":{titre:"Consommation de fioul totale",question:"Quelle est votre consommation de fioul pour l'Ã©vÃ©nement ?",unitÃ©:"kWh","par dÃ©faut":"consommation par dÃ©faut / 4"},"Ã©nergie . autre . fioul . empreinte":{formule:.303,unitÃ©:"kgCO2e/kWh",note:`Facteur d'Ã©mission issu de la base empreinte "Fioul domestique" (kgCO2e/kWhPCS).
`},"Ã©nergie . groupes Ã©lectrogÃ¨nes":{"applicable si":"groupes Ã©lectrogÃ¨nes prÃ©sent",formule:"nombre * empreinte par jour * informations . nombre de jours",unitÃ©:"kgCO2e",note:`On fait l'hypothÃ¨se que la puissance d'un groupe Ã©lectrogÃ¨ne utilisÃ© est de 10kW.
On estime qu'un groupe Ã©lectrogÃ¨ne de cette puissance consomme 4l/h.

Dans un second temps, il s'agira de d'Ã©valuer l'empreinte du groupe Ã©lectrogÃ¨ne directement 
via le type de carburant consommÃ© et la consommation rÃ©elle.
`},"Ã©nergie . groupes Ã©lectrogÃ¨nes prÃ©sent":{titre:"Utilisation de groupes Ã©lectrogÃ¨nes",question:"Allez-vous utiliser des groupes Ã©lectrogÃ¨nes pour l'Ã©vÃ©nement ?","par dÃ©faut":"oui"},"Ã©nergie . groupes Ã©lectrogÃ¨nes . nombre":{titre:"Nombre de groupes Ã©lectrogÃ¨nes",question:"Combien de groupes Ã©lectrogÃ¨nes prÃ©voyez-vous d'utiliser ?","par dÃ©faut":{variations:[{si:"autre prÃ©sent",alors:"consommation par dÃ©faut / 4 / production"},{sinon:"consommation par dÃ©faut / 2 / production"}]}},"Ã©nergie . groupes Ã©lectrogÃ¨nes . production":{formule:"10kW * 24 h/jour * 0.75 * informations . nombre de jours",unitÃ©:"kWh"},"Ã©nergie . groupes Ã©lectrogÃ¨nes . empreinte par jour":{formule:"0.75 * consommation carburant * empreinte carburant * 24 h/jour",note:"On considÃ¨re qu'un groupe Ã©lectrogÃ¨ne est utilisÃ© 75% de la journÃ©e Ã  pleine puissance.",unitÃ©:"kgCO2e/jour"},"Ã©nergie . groupes Ã©lectrogÃ¨nes . consommation carburant":{formule:4,unitÃ©:"l/h"},"Ã©nergie . groupes Ã©lectrogÃ¨nes . empreinte carburant":{formule:2.7,unitÃ©:"kgCO2e/l",note:`Facteur d'Ã©mission issu de la base empreinte "Essence".
`},"hÃ©bergement . artistes":{titre:"HÃ©bergement des artistes","applicable si":"prÃ©sent",formule:"informations . nombre de nuits artistes * nosgestesclimat . logement . vacances . empreinte hotel par nuit",unitÃ©:"kgCO2e"},"hÃ©bergement . artistes . prÃ©sent":{titre:"HÃ©bergement des artistes",question:"Prenez-vous en charge l'hÃ©bergement en hÃ´tel des artistes du festival ?","par dÃ©faut":"oui"},"nosgestesclimat . logement . vacances . camping . empreinte par nuit":{formule:1.4,unitÃ©:"kgCO2e/nuit",note:`Ces donnÃ©es sont issues de la proposition de rÃ©fÃ©rentiel ADEME pour l'hÃ´tellerie de plein air, Ã©tude effectuÃ©e sur 13 campings de l'HÃ©rault conjointement entre Betterfly Tourism et l'ADEME.
Les donnÃ©es sont fournies par Betterfly Tourism et datent de juin 2021. La moyenne de l'empreinte par nuitÃ©e sur les 13 campings Ã©tudiÃ©s est de 1,4 kg Ã©qCO2.
Le rÃ©fÃ©rentiel ADEME est prÃ©sent dans la base Impacts depuis mai 2023.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"hÃ©bergement . camping":{"non applicable si":'prÃ©sent = "aucun"',formule:"nombre de nuits camping * nosgestesclimat . logement . vacances . camping . empreinte par nuit",unitÃ©:"kgCO2e"},"hÃ©bergement . camping . prÃ©sent":{titre:"HÃ©bergement en camping",question:"Prenez-vous en charge l'hÃ©bergement en camping des participants, bÃ©nÃ©voles ou organisateurs du festival ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["participants et organisateurs","organisateurs","aucun"]}},"par dÃ©faut":"'aucun'"},"hÃ©bergement . camping . prÃ©sent . participants et organisateurs":{titre:"Oui, pour tous le monde"},"hÃ©bergement . camping . prÃ©sent . organisateurs":{titre:"Uniquement pour les organisateurs et bÃ©nÃ©voles"},"hÃ©bergement . camping . prÃ©sent . aucun":{titre:"Non, pas d'hÃ©bergement en hÃ´tel"},"hÃ©bergement . camping . nombre de nuits camping":{formule:{variations:[{si:'prÃ©sent = "participants et organisateurs"',alors:"informations . nombre de personnes par jour * informations . nombre de nuits"},{si:'prÃ©sent = "organisateurs"',alors:"informations . nombre de bÃ©nÃ©voles * informations . nombre de nuits"},{si:'prÃ©sent = "aucun"',alors:0}]},unitÃ©:"nuit"},hÃ©bergement:{titre:"HÃ©bergement",formule:{somme:["hÃ´tel","camping","artistes"]},unitÃ©:"kgCO2e",note:`Pour le moment, on ne prend en compte que les nuitÃ©es en hÃ´tel en considÃ©rant que le nombre de nuits 
correspond au nombre de jours de l'Ã©vÃ¨nement.
Dans un second temps, on pourrait ajouter le camping par exemple. 
On pourrait Ã©galement ajouter la possibilitÃ© de renseigner le nombre de nuitÃ©es prises en charge durant l'Ã©vÃ¨nement.
`},"nosgestesclimat . logement . vacances . empreinte hotel par nuit":{formule:6.93,unitÃ©:"kgCO2e/nuit",note:`## Notre hypothÃ¨se sur le facteur d'Ã©mission utilisÃ©

  D'aprÃ¨s [l'enquÃªte mobilitÃ© des franÃ§ais de 2019](https://www.statistiques.developpement-durable.gouv.fr/resultats-detailles-de-lenquete-mobilite-des-personnes-de-2019?rubrique=60&dossier=1345), 
  les franÃ§ais voyagent Ã  86% en France. On assume donc ici que **les nuitÃ©es se passent en France**.

## Notre source de donnÃ©es

  Le rapport final de prÃ©-dÃ©ploiement de l'affichage environnemental des hÃ´tels, [publication ADEME de mars 2020](https://librairie.ademe.fr/consommer-autrement/4096-projet-de-pre-deploiement-de-l-affichage-environnemental-des-hotels.html), donne une moyenne de 9,91 kg Ã©qCO2 / nuitÃ©e. 
  En retranchant la partie petit-dÃ©jeuner (comptant pour 30% de l'empreinte), car sinon nous aurions une double comptabilitÃ© de ces derniers, on se retrouve avec une empreinte par nuitÃ©e de 9,91 * (1 - 30%) = 6,93 kg Ã©qCO2.

  Le rapport permet Ã©galement de scinder les empreintes selon la classe de l'hÃ´tel. Pour dÃ©marrer, nous avons assumÃ© de partir sur la moyenne des empreintes toutes classes confondues, mais cela pourra Ãªtre implÃ©mentÃ© par la suite. Cela donnerait :

  - HÃ´tels sans classement : 4,73 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 2* : 8,53 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 3* : 8,47 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 4* : 11,43 kg Ã©qCO2 / nuitÃ©e
  - HÃ´tels 5* : 17,11 kg Ã©qCO2 / nuitÃ©e

  Depuis plusieurs annÃ©es, [Betterfly Tourism](https://www.betterfly-tourism.com/affichage-environnemental-hotels/) implÃ©mente en partenariat avec l'ADEME l'affichage environnemental auprÃ¨s des hÃ´tels. Il sera donc possible de rÃ©Ã©valuer l'empreinte avec des donnÃ©es plus rÃ©centes issues de leur base de donnÃ©es consolidÃ©e.

  De son cÃ´tÃ©, le [Hotel Carbon Measurement Initiative (HCMI)](https://sustainablehospitalityalliance.org/resource/hotel-carbon-measurement-initiative/) qui alimente le [Cornell Hotel Sustainability Benchmarking Index](https://greenview.sg/services/chsb-index/) prÃ©sente des [donnÃ©es](https://ecommons.cornell.edu/handle/1813/109990) pertinentes pour notre usage.
  Cela pourra Ãªtre un bon point de dÃ©part pour le jour oÃ¹ nous souhaiterons diffÃ©rencier les nuitÃ©es d'hÃ´tel selon le pays frÃ©quentÃ©.
  Ã noter que le HCMI donne une moyenne pour la France de 7,7 kg Ã©qCO2 / nuitÃ©e, ce qui est trÃ¨s proche de la donnÃ©e que nous avons choisie, elle calculÃ©e Ã  partir du rÃ©fÃ©rentiel ADEME.

  > Point publicodes : Cette rÃ¨gle Ã©tant utilisÃ©e dans d'autres espaces nom que \`logement . vacances . hotel\` c'est important ici de ne pas l'inclure dans cet espace non qui rendrait l'empreinte de la nuitÃ©e non applicable si la rÃ¨gle hotel est elle aussi non applicable.
`,description:"> â¹ï¸ Cette rÃ¨gle provient du modÃ¨le `@incubateur-ademe/nosgestesclimat`."},"hÃ©bergement . hÃ´tel":{titre:"HÃ´tel","non applicable si":'prÃ©sent = "aucun"',formule:"nombre de nuits hÃ´tel * nosgestesclimat . logement . vacances . empreinte hotel par nuit",unitÃ©:"kgCO2e"},"hÃ©bergement . hÃ´tel . prÃ©sent":{titre:"HÃ©bergement en hÃ´tel",question:"Prenez-vous en charge l'hÃ©bergement en hÃ´tel des participants, bÃ©nÃ©voles ou organisateurs du festival ?",formule:{"une possibilitÃ©":{"choix obligatoire":"oui",possibilitÃ©s:["participants et organisateurs","organisateurs","aucun"]}},"par dÃ©faut":"'organisateurs'"},"hÃ©bergement . hÃ´tel . prÃ©sent . participants et organisateurs":{titre:"Oui, pour tous le monde"},"hÃ©bergement . hÃ´tel . prÃ©sent . organisateurs":{titre:"Uniquement pour les organisateurs et bÃ©nÃ©voles"},"hÃ©bergement . hÃ´tel . prÃ©sent . aucun":{titre:"Non, pas d'hÃ©bergement en hÃ´tel"},"hÃ©bergement . hÃ´tel . nombre de nuits hÃ´tel":{formule:{variations:[{si:'prÃ©sent = "participants et organisateurs"',alors:"informations . nombre de personnes par jour * informations . nombre de nuits"},{si:'prÃ©sent = "organisateurs"',alors:"informations . nombre de bÃ©nÃ©voles * informations . nombre de nuits"},{si:'prÃ©sent = "aucun"',alors:0}]},unitÃ©:"nuit"},informations:U_,"informations . nombre de jours":{titre:"DurÃ©e de l'Ã©vÃ¨nement",question:"Combien de jours dure votre Ã©vÃ¨nment ?","par dÃ©faut":2,unitÃ©:"jour"},"informations . nombre de nuits":{formule:"informations . nombre de jours * 1 nuit/jour",unitÃ©:"nuit"},"informations . nombre de festivaliers":{titre:"Nombre de festivaliers",description:"Compter 2 si une mÃªme personne vient 2 jours.",question:"Combien de participants attendez-vous sur l'ensemble de l'Ã©vÃ¨nements (compter 2 entrÃ©es si une personne est prÃ©sente 2 jours) ?",note:"On parle de la somme des entrÃ©es uniques par jour.","par dÃ©faut":25e3},"informations . nombre de festivaliers par jour":{formule:"nombre de festivaliers / nombre de jours"},"informations . nombre de bÃ©nÃ©voles":{titre:"Nombre d'organisateurs et bÃ©nÃ©voles",question:"Combien y aura-t-il d'organisateurs et bÃ©nÃ©voles ?","par dÃ©faut":100},"informations . nombre de personnes par jour":{formule:"nombre de festivaliers par jour + nombre de bÃ©nÃ©voles"},"informations . nombre de repas par jour":{formule:"2 repas * nombre de personnes par jour"},"informations . nombre de repas total":{formule:"nombre de repas par jour * nombre de jours"},"informations . nombre artistes en voiture":{titre:"Nombre d'artistes (Ã©quipe incluse) en voiture",question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?","par dÃ©faut":10},"informations . nombre artistes en train":{titre:"Nombre d'artistes (Ã©quipe incluse) en train",question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?","par dÃ©faut":10},"informations . nombre artistes en tour bus":{titre:"Nombre d'artistes (Ã©quipe incluse) en tour bus",question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?","par dÃ©faut":30},"informations . nombre artistes en avion":{titre:"Nombre d'artistes (Ã©quipe incluse) en avion",question:"Combien d'artistes (Ã©quipe incluse) seront prÃ©sents sur le festival ?","par dÃ©faut":10},"informations . nombre artistes":{formule:{somme:["nombre artistes en voiture","nombre artistes en train","nombre artistes en tour bus","nombre artistes en avion"]}},"informations . nombre de nuits artistes":{formule:"nombre artistes * 1 nuit",unitÃ©:"nuit"},"informations . scÃ¨nes":null,"informations . scÃ¨nes . nombre petites scÃ¨nes":{titre:"Nombre de petites scÃ¨nes",question:"Quel est le nombre de petites scÃ¨nes prÃ©vus pour l'Ã©vÃ©nement ?","par dÃ©faut":2,unitÃ©:"scÃ¨ne"},"informations . scÃ¨nes . nombre grandes scÃ¨nes":{titre:"Nombre de grandes scÃ¨nes",question:"Quel est le nombre de grandes scÃ¨nes prÃ©vues pour l'Ã©vÃ©nement ?","par dÃ©faut":2,unitÃ©:"scÃ¨ne"},bÃ¢timents:{titre:"BÃ¢timents",formule:{somme:["bÃ©ton","mÃ©tallique","temporaire"]},unitÃ©:"kgCO2e"},"bÃ¢timents . facteur amortissement":{formule:"informations . nombre de jours / (commun . jours par an * 50)",note:`BÃ¢timents amortis sur 50 ans. On fait l'hypothÃ¨se que le bÃ¢timent reste "non amorti" 
mÃªme s'il date de plus de 50 ans pour limiter les paramÃ¨tres, au vu de l'impact nÃ©gligeable.
`},"bÃ¢timents . bÃ©ton":{formule:"surface * empreinte par m2 * facteur amortissement",unitÃ©:"kgCO2e"},"bÃ¢timents . bÃ©ton . surface":{titre:"Surface des bÃ¢timents bÃ©ton",question:`Quelle est la surface des bÃ¢timents "structure bÃ©ton" utilisÃ©s pour l'Ã©vÃ©nement ?`,"par dÃ©faut":0,unitÃ©:"m2"},"bÃ¢timents . bÃ©ton . empreinte par m2":{formule:825,unitÃ©:"kgCO2e/m2",note:`Facteur d'Ã©mission issu de la base empreinte "BÃ¢timent industriel/structure en bÃ©ton".
`},"bÃ¢timents . mÃ©tallique":{formule:"surface * empreinte par m2 * facteur amortissement",unitÃ©:"kgCO2e"},"bÃ¢timents . mÃ©tallique . surface":{titre:"Surface des bÃ¢timents structure mÃ©tallique",question:`Quelle est la surface des bÃ¢timents "structure mÃ©tallique" utilisÃ©s pour l'Ã©vÃ©nement ?`,"par dÃ©faut":500,unitÃ©:"m2"},"bÃ¢timents . mÃ©tallique . empreinte par m2":{formule:275,unitÃ©:"kgCO2e/m2",note:`Facteur d'Ã©mission issu de la base empreinte "BÃ¢timent industriel/structure mÃ©tallique".
`},"bÃ¢timents . temporaire":{titre:"Barnums",formule:0,unitÃ©:"kgCO2e",note:"A venir"},infrastructures:H_,"infrastructures . scÃ©nographie":{titre:"ScÃ©nographie",formule:{somme:["fret","matÃ©riel","dÃ©cor"]},unitÃ©:"kgCO2e"},"infrastructures . scÃ©nographie . fret":{formule:"tonnes km total * empreinte par tonnes km",note:`On considÃ¨re que l'empreinte des scÃ¨nes rÃ©side dans le fret.

Selon l'Ã©tude [DÃ©carbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf),
Le seul montage des scÃ¨nes dâun festival comme Les Vieilles Charrues implique une quarantaine de semi-remorques pour 4 scÃ¨nes (voir [cet artcle de France Info](https://france3-regions.francetvinfo.fr/bretagne/2013/07/18/l-antiseche-pour-etre-incollable-sur-les-vieilles-charrues-289717.html)).

NÃ©anmoins, il est fait l'hypothÃ¨se de partir sur une moyenne de 7 semi-remorques pour une grande scÃ¨ne, 3 pour une plus petite.

Comme expliquÃ© dans l'Ã©tude "DÃ©carbonons la Culture !", ces donnÃ©es sont celles des Vieilles Charrues, 
Par ailleurs, on ne sait pas si cette donnÃ©e inclut la logistique alimentaire.

Pour cette premiÃ¨re estimation, il est considÃ©rÃ© que le tonnage transportÃ© est en moyenne Ã  8,5 tonnes sur 1500km (A/R)
`,unitÃ©:"kgCO2e"},"infrastructures . scÃ©nographie . fret . nombre de camion par petite scÃ¨ne":{formule:3,unitÃ©:"camion/scÃ¨ne",note:`Nombre de camions nÃ©cessaires pour le transport d'une petite scÃ¨ne.
`},"infrastructures . scÃ©nographie . fret . nombre de camion par grande scÃ¨ne":{formule:7,unitÃ©:"camion/scÃ¨ne",note:`Nombre de camions nÃ©cessaires pour le transport d'une grande scÃ¨ne.
`},"infrastructures . scÃ©nographie . fret . empreinte par tonnes km":{formule:.0823,unitÃ©:"kgCO2e/t.km",note:`Facteur d'Ã©mission issu de la base empreinte "ArticulÃ©/< 34 tonnes/Diesel routier, incorporation 7 % de biodiesel".
`},"infrastructures . scÃ©nographie . fret . tonnes km total":{formule:{somme:["informations . scÃ¨nes . nombre petites scÃ¨nes * fret . nombre de camion par petite scÃ¨ne * tonnes km par camion","informations . scÃ¨nes . nombre grandes scÃ¨nes * fret . nombre de camion par grande scÃ¨ne * tonnes km par camion"]},unitÃ©:"t.km"},"infrastructures . scÃ©nographie . fret . tonnes km par camion":{formule:"charge moyenne * distance moyenne",unitÃ©:"t.km/camion"},"infrastructures . scÃ©nographie . fret . distance moyenne":{formule:1500,unitÃ©:"km",note:`Distance moyenne parcourue par les semi-remorques pour le transport du matÃ©riel de scÃ¨ne en incluant le retour Ã  vide.
`},"infrastructures . scÃ©nographie . fret . charge moyenne":{formule:8.5,unitÃ©:"t/camion",note:`Charge moyenne des semi-remorques pour le transport du matÃ©riel de scÃ¨ne.
`},"infrastructures . scÃ©nographie . matÃ©riel":{formule:"dÃ©penses * ratio monÃ©taire * facteur amortissement",unitÃ©:"kgCO2e",note:`Selon la mÃ©thode du simulateur [SEEDS](https://nuage.arviva.org/index.php/s/Pzzm9KbAwwL4gPR), 
les Ã©missions de CO2 liÃ©es Ã  la location de matÃ©riel technique sont estimÃ©es Ã  partir du montant 
dÃ©pensÃ©s pour leur location puis amorties sur via la durÃ©e de location et leur durÃ©e de vie.

A titre indicatif:
  - Projecteur : 600â¬ soit 240kgCO2e  
  - Enceinte : 500â¬ soit 200kgCO2e 
  - Console : 1500â¬ soit 600kgCO2e 
  - Machine Ã  fumÃ©e : 400â¬ soit 160kgCO2e  
  - Micros : 200â¬ soit 80kgCO2e  
  - VidÃ©oprojecteur : 145kgCO2e (dÃ©jÃ  prÃ©sent dans la base ADEME)
`},"infrastructures . scÃ©nographie . matÃ©riel . facteur amortissement":{formule:"informations . nombre de jours / (commun . jours par an * 5)",note:"MatÃ©riel amorti sur 5 ans."},"infrastructures . scÃ©nographie . matÃ©riel . dÃ©penses":{titre:"DÃ©penses pour la location de matÃ©riel de scÃ©nographie",question:"A combien estimez-vous vos dÃ©penses de location de matÃ©riel technique (scÃ¨ne, son, lumiÃ¨re, vidÃ©o etc...) ?","par dÃ©faut":1e7,unitÃ©:"â¬HT"},"infrastructures . scÃ©nographie . matÃ©riel . ratio monÃ©taire":{formule:.4,unitÃ©:"kgCO2e/â¬HT",note:`Ratio monÃ©taire issu de la Base Empreinte "Service/Produits informatiques, Ã©lectroniques et optiques".
`},"infrastructures . scÃ©nographie . dÃ©cor":{"applicable si":"dÃ©cor prÃ©sent",formule:0,unitÃ©:"kgCO2e",note:`Pour le moment, nous faisons l'hypothÃ¨se que les dÃ©cors et costumes sont de la responsabilitÃ© des artistes.
`},"infrastructures . scÃ©nographie . dÃ©cor prÃ©sent":{"par dÃ©faut":"non"},"infrastructures . toilettes":{formule:0,unitÃ©:"kgCO2e",note:"A venir"},resultats:W_,"resultats . bilan total":{titre:"Bilan Carbone de mon Ã©vÃ¨nement",formule:{somme:["alimentation","transport","infrastructures","hÃ©bergement","Ã©nergie","communication"]},unitÃ©:"kgCO2e"},"resultats . bilan par festivalier":{titre:"Bilan Carbone de mon Ã©vÃ¨nement par festivalier",formule:"bilan total / informations . nombre de festivaliers",unitÃ©:"kgCO2e"},"transport . artistes":{titre:"Transport des artistes",formule:{somme:["voiture","avion","train","tour bus"]},unitÃ©:"kgCO2e"},"transport . artistes . voiture":{"applicable si":"informations . nombre artistes en voiture > 0",formule:"informations . nombre artistes en train * distance * voiture . empreinte par km / voiture . remplissage moyen",unitÃ©:"kgCO2e"},"transport . artistes . voiture . distance":{titre:"Distance moyenne parcourue par les artistes en voiture",question:"Quelle est la distance (A/R) parcourue en voiture en moyenne par les artistes pour venir au festival ?","par dÃ©faut":100,unitÃ©:"km"},"transport . artistes . avion":{"applicable si":"informations . nombre artistes en avion > 0",formule:"informations . nombre artistes en avion * distance * avion . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes . avion . distance":{titre:"Distance moyenne parcourue par les artistes en avion",question:"Quelle est la distance (A/R) parcourue en avion en moyenne par les artistes pour venir au festival ?","par dÃ©faut":1500,unitÃ©:"km"},"transport . artistes . train":{"applicable si":"informations . nombre artistes en train > 0",formule:"informations . nombre artistes en train * distance * train . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes . train . distance":{titre:"Distance moyenne parcourue par les artistes en train",question:"Quelle est la distance en moyenne (A/R) parcourue en train par les artistes pour venir au festival ?","par dÃ©faut":500,unitÃ©:"km"},"transport . artistes . tour bus":{"applicable si":"informations . nombre artistes en tour bus > 0",formule:"informations . nombre artistes en tour bus * distance * tour bus . empreinte par km",unitÃ©:"kgCO2e"},"transport . artistes . tour bus . distance":{titre:"Distance moyenne parcourue par les artistes en tour bus",question:"Quelle est la distance en moyenne (A/R) parcourue en tour bus par les artistes pour venir au festival ?","par dÃ©faut":1e3,unitÃ©:"km"},"transport . public":{titre:"Transport du public",formule:{somme:["voiture","avion","train","commun"]},unitÃ©:"kgCO2e"},"transport . public . accessible en transports en commun":{titre:"AccessibilitÃ© en transports en commun",question:"Votre festival est-il facilement accessible en transport en commun ?","par dÃ©faut":"non"},"transport . public . nombre de dÃ©placements":{formule:{variations:[{si:{"toutes ces conditions":['hÃ©bergement . hÃ´tel . prÃ©sent = "aucun"','hÃ©bergement . camping . prÃ©sent = "aucun"']},alors:"informations . nombre de festivaliers + informations . nombre de bÃ©nÃ©voles * informations . nombre de jours"},{si:{"une de ces conditions":['hÃ©bergement . hÃ´tel . prÃ©sent = "organisateurs"','hÃ©bergement . camping . prÃ©sent = "organisateurs"']},alors:"informations . nombre de festivaliers"},{si:{"une de ces conditions":['hÃ©bergement . hÃ´tel . prÃ©sent = "participants et organisateurs"','hÃ©bergement . camping . prÃ©sent = "participants et organisateurs"']},alors:"informations . nombre de festivaliers par jour + informations . nombre de bÃ©nÃ©voles"}]},note:`Erreur d'unitÃ© dans la formule "informations . nombre de festivaliers par jour + informations . nombre de bÃ©nÃ©voles"`},"transport . public . distance AR":{titre:"Distance moyenne aller/retour parcourue par un festivalier",question:"Quelle est la distane moyenne aller/retour parcourue par un festivalier ?",unitÃ©:"km","par dÃ©faut":100,note:"On inclue ici les festivaliers mais Ã©galement les bÃ©nÃ©voles et les organisateurs."},"transport . public . part mobilitÃ© douce":{formule:"100% - parts totales modes de transport",unitÃ©:"%",note:"On considÃ¨re que l'impact de la marche ou du vÃ©lo est nÃ©gligeable."},"transport . public . parts totales modes de transport":{formule:{somme:["voiture . part","avion . part","train . part","commun . part"]},plafond:100,unitÃ©:"%"},"transport . public . voiture . part":{titre:"Part des festivaliers venant en voiture",question:"Quelle part des festivaliers viennent en voiture ?","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"20%"},{sinon:"80%"}]}},"transport . public . avion . part":{titre:"Part des festivaliers venant en avion",question:"Quelle part des festivaliers viennent en avion ?","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"3%"},{sinon:"3%"}]}},"transport . public . train . part":{titre:"Part des festivaliers venant en train",question:"Quelle part des festivaliers viennent en train ?","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"20%"},{sinon:"10%"}]}},"transport . public . commun . part":{titre:"Part des festivaliers venant en transports en commun",question:"Quelle part des festivaliers viennent en transports en commun (bus, tramway, mÃ©tro) ?","par dÃ©faut":{variations:[{si:"accessible en transports en commun",alors:"50%"},{sinon:"5%"}]}},"transport . public . voiture":{formule:"part * nombre de dÃ©placements * distance AR * voiture . empreinte par km / voiture . remplissage moyen",unitÃ©:"kgCO2e",note:"On fait l'hypothÃ¨se d'un aller/retour par festivalier."},"transport . public . avion":{formule:"part * nombre de dÃ©placements * distance avion AR * avion . empreinte par km",unitÃ©:"kgCO2e"},"transport . public . avion . distance avion AR":{formule:1500,unitÃ©:"km"},"transport . public . train":{formule:"part * nombre de dÃ©placements * distance AR * train . empreinte par km",unitÃ©:"kgCO2e"},"transport . public . commun":{formule:"part * nombre de dÃ©placements * distance AR * commun . empreinte par km",unitÃ©:"kgCO2e"},transport:K_,"transport . voiture":null,"transport . voiture . empreinte par km":{formule:.231,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Voiture/Motorisation moyenne/2018".
`},"transport . voiture . remplissage moyen":{formule:1.8,note:"On considÃ¨re un taux de remplissage moyen de 1,8 personnes par voiture."},"transport . avion":null,"transport . avion . empreinte par km":{formule:.187,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Avion passagers/Moyen courrier, 2018/AVEC trainÃ©es".
`},"transport . train":null,"transport . train . empreinte par km":{formule:{moyenne:["TGV","TER"]},unitÃ©:"kgCO2e/km",note:`Moyenne entre TGV et TER.
`},"transport . train . empreinte par km . TGV":{formule:.00293,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "TGV/2022".
`},"transport . train . empreinte par km . TER":{formule:.0277,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "TER/2022/Traction moyenne".
`},"transport . commun . empreinte par km":{formule:{moyenne:["bus","mÃ©tro ou tram"]},unitÃ©:"kgCO2e/km"},"transport . commun . empreinte par km . bus":{formule:.146,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Autobus moyen/AgglomÃ©ration de 100 000 Ã  250 000 habitants".
`},"transport . commun . empreinte par km . mÃ©tro ou tram":{formule:.00503,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "MÃ©tro, tramway, trolleybus/2018/AgglomÃ©ration de 100 000 Ã  250 000 habitants".
`},"transport . tour bus":null,"transport . tour bus . empreinte par km":{formule:.0295,unitÃ©:"kgCO2e/km",note:`Facteur d'Ã©mission issu de la base empreinte "Autocar/2018".
`},nosgestesclimat:G_,"nosgestesclimat . alimentation . boisson":null,"nosgestesclimat . alimentation":null,"nosgestesclimat . alimentation . boisson . sucrÃ©es":null,"nosgestesclimat . alimentation . boisson . alcool":null,"nosgestesclimat . alimentation . boisson . eau en bouteille":null,"nosgestesclimat . alimentation . petit dÃ©jeuner":null,"nosgestesclimat . alimentation . plats . vÃ©gÃ©talien":null,"nosgestesclimat . alimentation . plats":null,"nosgestesclimat . alimentation . plats . vÃ©gÃ©tarien":null,"nosgestesclimat . alimentation . plats . viande 1":null,"nosgestesclimat . alimentation . plats . viande 2":null,commun:Y_,"nosgestesclimat . divers . textile . t-shirt":null,"nosgestesclimat . divers . textile":null,"nosgestesclimat . divers":null,"nosgestesclimat . divers . textile . sweat":null,"nosgestesclimat . logement . chauffage . gaz":null,"nosgestesclimat . logement . chauffage":null,"nosgestesclimat . logement":null,"nosgestesclimat . logement . vacances . camping":null,"nosgestesclimat . logement . vacances":null};let xs=h0.Main.init({flags:nm,node:document.getElementById("elm-app")});const am=new B_(nm,xs);xs.ports.setSituation.subscribe(e=>{am.setSituation(e)});xs.ports.evaluateAll.subscribe(e=>{am.evaluateAll(e)});
